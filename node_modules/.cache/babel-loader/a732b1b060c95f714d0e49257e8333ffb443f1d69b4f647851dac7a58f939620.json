{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local Experimental\\\\PGHD_Visualization_Dashboard\\\\src\\\\components\\\\patient_charts\\\\BloodPressureChart.js\",\n  _s = $RefreshSig$();\n/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides blood pressure tracking with systolic and diastolic pressure visualization. It includes risk categorization with color coding and provides daily and weekly trend analysis. It supports display of multiple daily measurements and includes interactive tooltips with blood pressure details. It includes navigation controls for time periods. The component uses custom SVG for blood pressure visualization and implements a dual-axis system for systolic and diastolic values. It provides risk-based color coding for clinical interpretation and supports multiple daily readings with time-based positioning. The component implements configurable layouts. Visualization features include color-coded risk categories including normal, elevated, high, and crisis, time-based positioning for multiple daily readings, interactive tooltips with detailed blood pressure information, and a grid system with axis scaling. Clinical features include risk categorization based on medical guidelines, summary statistics for physician view, trend analysis over time periods, and educational information for patient view. The component structure includes a dual-axis system for systolic and diastolic values on the Y-axis, a time-based axis with day and time labels on the X-axis, interactive blood pressure readings as data points, risk category explanations in the legend, and detailed reading information in tooltips. This component is used for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\n// Helper Functions\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatDayLabel = date => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + dayIndex * config.dayWidth + config.dayPadding + timeRatio * dayContentWidth;\n};\n\n// Chart Sub-components\n\nconst YAxis = ({\n  config,\n  type\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"text\", {\n      x: config.padding.left / 3,\n      y: config.padding.top + chartHeight / 2,\n      fontSize: config.fontSize.yAxisTitle,\n      textAnchor: \"middle\",\n      className: \"y-axis-title\",\n      transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n      children: \"mm Hg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), yAxisLabels.map(value => {\n      const y = config.height - config.padding.bottom - (value - yOffset) / valueRange * chartHeight;\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis-grid-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-horizontal\",\n          x1: config.padding.left,\n          y1: y,\n          x2: config.width - config.padding.right,\n          y2: y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: config.padding.left - 10,\n          y: y + 3,\n          fontSize: config.fontSize.yAxis,\n          textAnchor: \"end\",\n          className: \"chart-tick-label\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n// Blood Pressure Range Background Component\n_c = YAxis;\nconst BPRangeBackground = ({\n  config\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  // Define BP ranges (systolic/diastolic)\n  const ranges = [{\n    name: 'High',\n    systolic: [140, 200],\n    diastolic: [90, 120],\n    color: 'var(--chart-color-bp-high)',\n    opacity: 0.1\n  }, {\n    name: 'Pre-high',\n    systolic: [120, 140],\n    diastolic: [80, 90],\n    color: 'var(--chart-color-bp-pre-high)',\n    opacity: 0.1\n  }, {\n    name: 'Ideal',\n    systolic: [90, 120],\n    diastolic: [60, 80],\n    color: 'var(--chart-color-bp-ideal)',\n    opacity: 0.1\n  }, {\n    name: 'Low',\n    systolic: [0, 90],\n    diastolic: [0, 60],\n    color: 'var(--chart-color-bp-low)',\n    opacity: 0.1\n  }];\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"bp-range-background\",\n    children: ranges.map((range, index) => {\n      // Calculate Y positions for systolic range\n      const systolicTopY = config.height - config.padding.bottom - (range.systolic[1] - systolicOffset) / systolicRange * chartHeight;\n      const systolicBottomY = config.height - config.padding.bottom - (range.systolic[0] - systolicOffset) / systolicRange * chartHeight;\n\n      // Calculate Y positions for diastolic range  \n      const diastolicTopY = config.height - config.padding.bottom - (range.diastolic[1] - diastolicOffset) / diastolicRange * chartHeight;\n      const diastolicBottomY = config.height - config.padding.bottom - (range.diastolic[0] - diastolicOffset) / diastolicRange * chartHeight;\n\n      // Create overlapping rectangles for the range\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n          x: config.padding.left,\n          y: Math.min(systolicTopY, systolicBottomY),\n          width: config.width - config.padding.left - config.padding.right,\n          height: Math.abs(systolicBottomY - systolicTopY),\n          fill: range.color,\n          opacity: range.opacity,\n          className: `bp-range-${range.name.toLowerCase()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: config.padding.left,\n          y: Math.min(diastolicTopY, diastolicBottomY),\n          width: config.width - config.padding.left - config.padding.right,\n          height: Math.abs(diastolicBottomY - diastolicTopY),\n          fill: range.color,\n          opacity: range.opacity,\n          className: `bp-range-${range.name.toLowerCase()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)]\n      }, range.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n// Dual Y-Axis Component for Combined Chart\n_c2 = BPRangeBackground;\nconst DualYAxis = ({\n  config\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"dual-y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: config.padding.left / 3,\n        y: config.padding.top + chartHeight / 2,\n        fontSize: config.fontSize.yAxisTitle,\n        textAnchor: \"middle\",\n        className: \"y-axis-title\",\n        transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n        children: \"Systolic (mmHg)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), systolicLabels.map(value => {\n        const y = config.height - config.padding.bottom - (value - systolicOffset) / systolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"y-axis-grid-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            className: \"chart-grid-line-horizontal\",\n            x1: config.padding.left,\n            y1: y,\n            x2: config.width - config.padding.right,\n            y2: y\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: config.padding.left - 10,\n            y: y + 3,\n            fontSize: config.fontSize.yAxis,\n            textAnchor: \"end\",\n            className: \"chart-tick-label systolic-label\",\n            fill: \"black\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, `systolic-${value}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: config.width - config.padding.right / 3,\n        y: config.padding.top + chartHeight / 2,\n        fontSize: config.fontSize.yAxisTitle,\n        textAnchor: \"middle\",\n        className: \"y-axis-title\",\n        transform: `rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`,\n        children: \"Diastolic (mmHg)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), diastolicLabels.map(value => {\n        const y = config.height - config.padding.bottom - (value - diastolicOffset) / diastolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"y-axis-grid-group\",\n          children: /*#__PURE__*/_jsxDEV(\"text\", {\n            x: config.width - config.padding.right + 10,\n            y: y + 3,\n            fontSize: config.fontSize.yAxis,\n            textAnchor: \"start\",\n            className: \"chart-tick-label diastolic-label\",\n            fill: \"var(--chart-color-green)\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)\n        }, `diastolic-${value}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_c3 = DualYAxis;\nconst XAxis = ({\n  config,\n  weekDays\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"x-axis\",\n  children: [weekDays.map((day, dayIndex) => {\n    const dayX = config.padding.left + dayIndex * config.dayWidth;\n    const dayCenterX = dayX + config.dayWidth / 2;\n\n    // Tick positions\n    const startTickX = dayX;\n    const middleTickX = dayX + config.dayWidth / 2;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis-label-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: startTickX,\n        y1: config.height - config.padding.bottom,\n        x2: startTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: middleTickX,\n        y1: config.height - config.padding.bottom,\n        x2: middleTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: startTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.timeLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: \"12a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: middleTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.timeLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: \"12p\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: dayCenterX,\n        y: config.height - config.padding.bottom + 40,\n        textAnchor: \"middle\",\n        className: \"x-axis-day-label\",\n        fontSize: config.fontSize.dayLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: formatDayLabel(day)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: dayCenterX,\n        y: config.height - config.padding.bottom + 62,\n        textAnchor: \"middle\",\n        className: \"x-axis-date-label\",\n        fontSize: config.fontSize.dateLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: day.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this)]\n    }, dayIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"x-axis-tick\",\n    x1: config.padding.left + weekDays.length * config.dayWidth,\n    y1: config.height - config.padding.bottom,\n    x2: config.padding.left + weekDays.length * config.dayWidth,\n    y2: config.height - config.padding.bottom + 5,\n    stroke: \"var(--chart-color-neutral)\",\n    strokeWidth: \"1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n    className: \"time-label\",\n    x: config.padding.left + weekDays.length * config.dayWidth,\n    y: config.height - config.padding.bottom + 15,\n    textAnchor: \"middle\",\n    fontSize: config.fontSize.timeLabel,\n    style: {\n      fontSize: '13px'\n    },\n    children: \"12a\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 227,\n  columnNumber: 3\n}, this);\n_c4 = XAxis;\nconst GridLines = ({\n  config,\n  weekDays\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"grid-lines\",\n  children: [weekDays.map((_, dayIndex) => {\n    const dayX = config.padding.left + dayIndex * config.dayWidth;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"chart-grid-line-vertical\",\n        x1: dayX,\n        y1: config.padding.top,\n        x2: dayX,\n        y2: config.height - config.padding.bottom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this), [0, 12].map(hour => {\n        const timeRatio = hour / 24;\n        const x = config.padding.left + dayIndex * config.dayWidth + timeRatio * config.dayWidth;\n        return /*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-vertical-time\",\n          x1: x,\n          y1: config.padding.top,\n          x2: x,\n          y2: config.height - config.padding.bottom\n        }, `${dayIndex}-${hour}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 20\n        }, this);\n      })]\n    }, dayIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"chart-grid-line-vertical\",\n    x1: config.padding.left + weekDays.length * config.dayWidth,\n    y1: config.padding.top,\n    x2: config.padding.left + weekDays.length * config.dayWidth,\n    y2: config.height - config.padding.bottom\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 345,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 328,\n  columnNumber: 3\n}, this);\n_c5 = GridLines;\nconst DataBars = ({\n  readings,\n  type,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"data-bars\",\n    children: readings.map((reading, index) => {\n      const readingDate = new Date(reading.date);\n      const dayIndex = readingDate.getDay();\n      const x = getTimePosition(readingDate, dayIndex, config);\n      const value = reading[type];\n      const barHeight = value / valueRange * chartHeight;\n      const y = config.height - config.padding.bottom - barHeight;\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n          value: value,\n          unit: 'mmHg',\n          time: readingDate.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: readingDate.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n      return /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: x - config.barWidth / 2,\n        y: y,\n        width: config.barWidth,\n        height: Math.max(0, barHeight),\n        fill: getColor(value),\n        style: {\n          cursor: 'pointer'\n        },\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 362,\n    columnNumber: 5\n  }, this);\n};\n_c6 = DataBars;\nconst getSystolicColor = value => {\n  if (value < 90) return 'var(--chart-color-bp-low)';\n  if (value < 120) return 'var(--chart-color-bp-ideal)';\n  if (value < 140) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\nconst getDiastolicColor = value => {\n  if (value < 60) return 'var(--chart-color-bp-low)';\n  if (value < 80) return 'var(--chart-color-bp-ideal)';\n  if (value < 90) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\n// Combined I-Bar Chart Component\nconst CombinedDataBars = ({\n  readings,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"combined-data-bars\",\n    children: readings.map((reading, index) => {\n      const readingDate = new Date(reading.date);\n      const dayIndex = readingDate.getDay();\n      const x = getTimePosition(readingDate, dayIndex, config);\n\n      // Calculate positions for both systolic and diastolic\n      const systolicValue = reading.systolic;\n      const diastolicValue = reading.diastolic;\n      const systolicBarHeight = systolicValue / systolicRange * chartHeight;\n      const diastolicBarHeight = diastolicValue / diastolicRange * chartHeight;\n      const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n      const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n\n      // Determine overall risk color and category based on both values\n      const getCombinedRiskColor = (systolic, diastolic) => {\n        if (systolic >= 140 || diastolic >= 90) return 'var(--chart-color-bp-high)'; // High\n        if (systolic >= 120 || diastolic >= 80) return 'var(--chart-color-bp-pre-high)'; // Pre-high\n        if (systolic < 90 || diastolic < 60) return 'var(--chart-color-bp-low)'; // Low\n        return 'var(--chart-color-bp-ideal)'; // Ideal\n      };\n      const getCombinedRiskCategory = (systolic, diastolic) => {\n        if (systolic >= 140 || diastolic >= 90) return {\n          name: 'High',\n          color: 'var(--chart-color-bp-high)'\n        };\n        if (systolic >= 120 || diastolic >= 80) return {\n          name: 'Pre-High',\n          color: 'var(--chart-color-bp-pre-high)'\n        };\n        if (systolic < 90 || diastolic < 60) return {\n          name: 'Low',\n          color: 'var(--chart-color-bp-low)'\n        };\n        return {\n          name: 'Ideal',\n          color: 'var(--chart-color-bp-ideal)'\n        };\n      };\n      const riskColor = getCombinedRiskColor(systolicValue, diastolicValue);\n      const riskCategory = getCombinedRiskCategory(systolicValue, diastolicValue);\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          type: 'Blood Pressure',\n          systolic: systolicValue,\n          diastolic: diastolicValue,\n          unit: 'mmHg',\n          category: riskCategory.name,\n          categoryColor: riskCategory.color,\n          time: readingDate.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: readingDate.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n\n      // Get individual risk colors for visual distinction\n      const systolicRiskColor = getSystolicColor(systolicValue);\n      const diastolicRiskColor = getDiastolicColor(diastolicValue);\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"bp-reading-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: systolicY,\n          r: \"5\",\n          fill: systolicRiskColor,\n          stroke: \"black\",\n          strokeWidth: \"1.5\",\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"systolic-dot\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: diastolicY,\n          r: \"4\",\n          fill: diastolicRiskColor,\n          stroke: \"var(--chart-color-green)\",\n          strokeWidth: \"1.5\",\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"diastolic-dot\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 426,\n    columnNumber: 5\n  }, this);\n};\n_c7 = CombinedDataBars;\nconst Chart = ({\n  type,\n  weekData,\n  isExpanded,\n  weekDays,\n  containerWidth,\n  onBarHover,\n  onBarLeave\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 22,\n      dayLabel: 22,\n      dateLabel: 22\n    },\n    barWidth: 12,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 40, 80, 120, 160, 200],\n      diastolic: [0, 20, 40, 60, 80, 100, 120]\n    },\n    dayPadding: 10\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 19,\n      dayLabel: 19,\n      dateLabel: 19\n    },\n    barWidth: 8,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 100, 200],\n      diastolic: [0, 60, 120]\n    },\n    dayPadding: 6\n  };\n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chart-section ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: type === 'systolic' ? 'Systolic' : 'Diastolic'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp-svg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        className: \"chart-svg\",\n        children: [/*#__PURE__*/_jsxDEV(GridLines, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          config: config,\n          type: type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataBars, {\n          readings: readings,\n          type: type,\n          config: config,\n          onBarHover: onBarHover,\n          onBarLeave: onBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 5\n  }, this);\n};\n\n// Combined Chart Component\n_c8 = Chart;\nconst CombinedChart = ({\n  weekData,\n  isExpanded,\n  weekDays,\n  containerWidth,\n  onBarHover,\n  onBarLeave\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 22,\n      dayLabel: 22,\n      dateLabel: 22\n    },\n    barWidth: 12,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 40, 80, 120, 160, 200],\n      diastolic: [0, 20, 40, 60, 80, 100, 120]\n    },\n    dayPadding: 10\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 19,\n      dayLabel: 19,\n      dateLabel: 19\n    },\n    barWidth: 8,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 100, 200],\n      diastolic: [0, 60, 120]\n    },\n    dayPadding: 6\n  };\n  const readings = weekData.filter(d => d.systolic && d.diastolic && d.systolic > 0 && d.diastolic > 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chart-section combined-chart ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: \"Blood Pressure (Systolic/Diastolic)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp-svg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        className: \"chart-svg\",\n        children: [/*#__PURE__*/_jsxDEV(BPRangeBackground, {\n          config: config\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridLines, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DualYAxis, {\n          config: config\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CombinedDataBars, {\n          readings: readings,\n          config: config,\n          onBarHover: onBarHover,\n          onBarLeave: onBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 636,\n    columnNumber: 5\n  }, this);\n};\n_c9 = CombinedChart;\nconst bloodPressureLegendItems = [{\n  color: 'var(--chart-color-bp-low)',\n  label: 'Low',\n  description: 'Blood pressure below normal range'\n}, {\n  color: 'var(--chart-color-bp-ideal)',\n  label: 'Ideal',\n  description: 'Blood pressure within ideal range'\n}, {\n  color: 'var(--chart-color-bp-pre-high)',\n  label: 'Pre-high',\n  description: 'Blood pressure elevated but not yet high'\n}, {\n  color: 'var(--chart-color-bp-high)',\n  label: 'High',\n  description: 'Blood pressure high - requires attention'\n}];\n\n// --- Main Component ---\nconst BloodPressureChart = ({\n  patientId,\n  isExpanded = false,\n  onExpand,\n  accessType = 'Admin',\n  navigation,\n  screenshotMode = false,\n  showThreeMonthSummaries = false\n}) => {\n  _s();\n  const {\n    bloodPressureData,\n    loading,\n    error\n  } = usePatientData(patientId);\n  const [containerWidth, setContainerWidth] = useState(400);\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  // For Patient access, force Combined View (remove Separate Charts access).\n  // For Physician access, force Combined View (remove Separate Charts access).\n  // Admin can toggle between both.\n  const shouldForceCombinedView = accessType === 'Patient' || accessType === 'Physician';\n\n  // Determine initial view state\n  let initialUseCombinedView = false;\n  if (shouldForceCombinedView) {\n    initialUseCombinedView = true;\n  }\n  const [useCombinedView, setUseCombinedView] = useState(initialUseCombinedView); // State for view toggle\n\n  // Enforce combined view for Patient and Physician - override state if needed\n  const effectiveUseCombinedView = shouldForceCombinedView ? true : useCombinedView;\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n\n  // Resize observer to track container width changes\n  useLayoutEffect(() => {\n    const observeContainer = () => {\n      if (containerRef.current) {\n        const resizeObserver = new ResizeObserver(entries => {\n          for (let entry of entries) {\n            const {\n              width\n            } = entry.contentRect;\n            setContainerWidth(width);\n          }\n        });\n        resizeObserver.observe(containerRef.current);\n        return () => resizeObserver.disconnect();\n      }\n    };\n    const cleanup = observeContainer();\n    return cleanup;\n  }, []);\n  const {\n    start: weekStart,\n    end: weekEnd\n  } = nav.getDateRange();\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const {\n    start: startOfThreeMonths,\n    end: endOfThreeMonths\n  } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n  const weekDays = Array.from({\n    length: 7\n  }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n  const handleBarHover = data => {\n    setTooltipData(data);\n    setTooltipPosition(data.position);\n  };\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Calculate summary statistics for week and 3-month periods\n  // This calculates average, max, risk categories, and reading counts\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    // Get all valid readings (where both systolic and diastolic are > 0)\n    const systolicReadings = weekData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = weekData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    // Calculate averages (sum all values, divide by count, round to whole number)\n    const avgSystolic = systolicReadings.length > 0 ? (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    // Find maximum values\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    // Determine risk category based on average values\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n\n    // Count unique days with readings\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\n    weekSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: weekData.length\n    };\n  }\n\n  // Calculate 3-month summary (same logic as week summary, just different data)\n  let threeMonthSummary = null;\n  if (threeMonthData.length > 0) {\n    const systolicReadings = threeMonthData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = threeMonthData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n    const avgSystolic = systolicReadings.length > 0 ? (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    const daysWithReadings = new Set(threeMonthData.map(d => d.date.toDateString())).size;\n    threeMonthSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: threeMonthData.length\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bp-chart-container ${isExpanded ? 'expanded' : ''}`,\n      ref: containerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"bp-main-title\",\n          children: \"Blood Pressure\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chart-subtitle\",\n          children: nav.getFormattedDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 11\n        }, this), accessType === 'Admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${!effectiveUseCombinedView ? 'active' : ''}`,\n            onClick: () => setUseCombinedView(false),\n            children: \"Separate Charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${effectiveUseCombinedView ? 'active' : ''}`,\n            onClick: () => setUseCombinedView(true),\n            children: \"Combined View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp-charts-wrapper\",\n        children: effectiveUseCombinedView ? /*#__PURE__*/_jsxDEV(CombinedChart, {\n          weekData: weekData,\n          isExpanded: isExpanded,\n          weekDays: weekDays,\n          containerWidth: containerWidth,\n          onBarHover: handleBarHover,\n          onBarLeave: handleBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Chart, {\n            type: \"systolic\",\n            weekData: weekData,\n            isExpanded: isExpanded,\n            weekDays: weekDays,\n            containerWidth: containerWidth,\n            onBarHover: handleBarHover,\n            onBarLeave: handleBarLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chart, {\n            type: \"diastolic\",\n            weekData: weekData,\n            isExpanded: isExpanded,\n            weekDays: weekDays,\n            containerWidth: containerWidth,\n            onBarHover: handleBarHover,\n            onBarLeave: handleBarLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n        title: \"Blood Pressure Category:\",\n        items: bloodPressureLegendItems,\n        hide: screenshotMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 883,\n        columnNumber: 9\n      }, this), weekSummary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n          title: \"Blood Pressure Information\",\n          content: \"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Week Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.avgSystolic, \"/\", weekSummary.avgDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.maxSystolic, \"/\", weekSummary.maxDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 908,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 906,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Reading Days:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.daysWithReadings, \"/7 days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 915,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: weekSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 15\n          }, this), showThreeMonthSummaries && threeMonthSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"3-Month Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 933,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.avgSystolic, \"/\", threeMonthSummary.avgDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 934,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.maxSystolic, \"/\", threeMonthSummary.maxDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 940,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 945,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: threeMonthSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 946,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 944,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n        title: \"Blood Pressure Information\",\n        content: \"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 957,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      isVisible: !!tooltipData,\n      content: tooltipData && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-title\",\n          children: tooltipData.type === 'Blood Pressure' ? 'Blood Pressure' : `${tooltipData.type} Blood Pressure`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 13\n        }, this), tooltipData.systolic && tooltipData.diastolic ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.systolic, \"/\", tooltipData.diastolic, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.value, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 15\n        }, this), tooltipData.category && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-category\",\n          style: {\n            color: tooltipData.categoryColor\n          },\n          children: tooltipData.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 979,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-time\",\n          children: tooltipData.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 983,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-date\",\n          children: tooltipData.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 969,\n        columnNumber: 11\n      }, this),\n      position: tooltipPosition\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 966,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BloodPressureChart, \"gf+i08+Z/OFZr6y1B47S/JbUUIU=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c0 = BloodPressureChart;\nexport default BloodPressureChart;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"YAxis\");\n$RefreshReg$(_c2, \"BPRangeBackground\");\n$RefreshReg$(_c3, \"DualYAxis\");\n$RefreshReg$(_c4, \"XAxis\");\n$RefreshReg$(_c5, \"GridLines\");\n$RefreshReg$(_c6, \"DataBars\");\n$RefreshReg$(_c7, \"CombinedDataBars\");\n$RefreshReg$(_c8, \"Chart\");\n$RefreshReg$(_c9, \"CombinedChart\");\n$RefreshReg$(_c0, \"BloodPressureChart\");","map":{"version":3,"names":["React","useState","useRef","useLayoutEffect","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","jsxDEV","_jsxDEV","Fragment","_Fragment","formatDayLabel","date","dayNames","getDay","getTimePosition","dayIndex","config","hour","getHours","getMinutes","timeRatio","dayContentWidth","dayWidth","dayPadding","padding","left","YAxis","type","chartHeight","height","top","bottom","yAxisLabels","valueRange","yAxisRange","yOffset","yAxisOffset","className","children","x","y","fontSize","yAxisTitle","textAnchor","transform","fileName","_jsxFileName","lineNumber","columnNumber","map","value","x1","y1","x2","width","right","y2","yAxis","_c","BPRangeBackground","systolicRange","systolic","diastolicRange","diastolic","systolicOffset","diastolicOffset","ranges","name","color","opacity","range","index","systolicTopY","systolicBottomY","diastolicTopY","diastolicBottomY","Math","min","abs","fill","toLowerCase","_c2","DualYAxis","systolicLabels","diastolicLabels","_c3","XAxis","weekDays","day","dayX","dayCenterX","startTickX","middleTickX","stroke","strokeWidth","timeLabel","style","dayLabel","dateLabel","getDate","length","_c4","GridLines","_","_c5","DataBars","readings","onBarHover","onBarLeave","getColor","getSystolicColor","getDiastolicColor","reading","readingDate","Date","barHeight","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","max","cursor","onMouseEnter","onMouseLeave","_c6","CombinedDataBars","systolicValue","diastolicValue","systolicBarHeight","diastolicBarHeight","systolicY","diastolicY","getCombinedRiskColor","getCombinedRiskCategory","riskColor","riskCategory","category","categoryColor","systolicRiskColor","diastolicRiskColor","cx","cy","r","_c7","Chart","weekData","isExpanded","containerWidth","filter","d","viewBox","_c8","CombinedChart","_c9","bloodPressureLegendItems","label","description","BloodPressureChart","patientId","onExpand","accessType","navigation","screenshotMode","showThreeMonthSummaries","_s","bloodPressureData","loading","error","setContainerWidth","setTooltipData","tooltipPosition","setTooltipPosition","shouldForceCombinedView","initialUseCombinedView","useCombinedView","setUseCombinedView","effectiveUseCombinedView","containerRef","internalNavigation","nav","observeContainer","current","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","disconnect","cleanup","start","weekStart","end","weekEnd","getDateRange","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","Array","from","i","setDate","handleBarHover","data","handleBarLeave","weekSummary","systolicReadings","diastolicReadings","avgSystolic","reduce","sum","val","toFixed","avgDiastolic","maxSystolic","maxDiastolic","getRiskCategory","avgRisk","parseFloat","daysWithReadings","Set","toDateString","size","totalReadings","threeMonthSummary","ref","getFormattedDateRange","onClick","title","items","hide","content","isVisible","_c0","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/BloodPressureChart.js"],"sourcesContent":["/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides blood pressure tracking with systolic and diastolic pressure visualization. It includes risk categorization with color coding and provides daily and weekly trend analysis. It supports display of multiple daily measurements and includes interactive tooltips with blood pressure details. It includes navigation controls for time periods. The component uses custom SVG for blood pressure visualization and implements a dual-axis system for systolic and diastolic values. It provides risk-based color coding for clinical interpretation and supports multiple daily readings with time-based positioning. The component implements configurable layouts. Visualization features include color-coded risk categories including normal, elevated, high, and crisis, time-based positioning for multiple daily readings, interactive tooltips with detailed blood pressure information, and a grid system with axis scaling. Clinical features include risk categorization based on medical guidelines, summary statistics for physician view, trend analysis over time periods, and educational information for patient view. The component structure includes a dual-axis system for systolic and diastolic values on the Y-axis, a time-based axis with day and time labels on the X-axis, interactive blood pressure readings as data points, risk category explanations in the legend, and detailed reading information in tooltips. This component is used for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\n// Helper Functions\n\nconst formatDayLabel = (date) => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\n\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + (dayIndex * config.dayWidth) + config.dayPadding + (timeRatio * dayContentWidth);\n};\n\n// Chart Sub-components\n\nconst YAxis = ({ config, type }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n\n  return (\n    <g className=\"y-axis\">\n      <text\n        x={config.padding.left / 3}\n        y={config.padding.top + chartHeight / 2}\n        fontSize={config.fontSize.yAxisTitle}\n        textAnchor=\"middle\"\n        className=\"y-axis-title\"\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n      >\n        mm Hg\n      </text>\n      {yAxisLabels.map(value => {\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\n        return (\n          <g key={value} className=\"y-axis-grid-group\">\n                        <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n            <text x={config.padding.left - 10} y={y + 3} fontSize={config.fontSize.yAxis} textAnchor=\"end\" className=\"chart-tick-label\">{value}</text>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Blood Pressure Range Background Component\nconst BPRangeBackground = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  // Define BP ranges (systolic/diastolic)\n  const ranges = [\n    { \n      name: 'High', \n      systolic: [140, 200], \n      diastolic: [90, 120], \n      color: 'var(--chart-color-bp-high)', \n      opacity: 0.1 \n    },\n    { \n      name: 'Pre-high', \n      systolic: [120, 140], \n      diastolic: [80, 90], \n      color: 'var(--chart-color-bp-pre-high)', \n      opacity: 0.1 \n    },\n    { \n      name: 'Ideal', \n      systolic: [90, 120], \n      diastolic: [60, 80], \n      color: 'var(--chart-color-bp-ideal)', \n      opacity: 0.1 \n    },\n    { \n      name: 'Low', \n      systolic: [0, 90], \n      diastolic: [0, 60], \n      color: 'var(--chart-color-bp-low)', \n      opacity: 0.1 \n    }\n  ];\n\n  return (\n    <g className=\"bp-range-background\">\n      {ranges.map((range, index) => {\n        // Calculate Y positions for systolic range\n        const systolicTopY = config.height - config.padding.bottom - \n          ((range.systolic[1] - systolicOffset) / systolicRange) * chartHeight;\n        const systolicBottomY = config.height - config.padding.bottom - \n          ((range.systolic[0] - systolicOffset) / systolicRange) * chartHeight;\n        \n        // Calculate Y positions for diastolic range  \n        const diastolicTopY = config.height - config.padding.bottom - \n          ((range.diastolic[1] - diastolicOffset) / diastolicRange) * chartHeight;\n        const diastolicBottomY = config.height - config.padding.bottom - \n          ((range.diastolic[0] - diastolicOffset) / diastolicRange) * chartHeight;\n\n        // Create overlapping rectangles for the range\n        return (\n          <g key={range.name}>\n            {/* Systolic range background */}\n            <rect\n              x={config.padding.left}\n              y={Math.min(systolicTopY, systolicBottomY)}\n              width={config.width - config.padding.left - config.padding.right}\n              height={Math.abs(systolicBottomY - systolicTopY)}\n              fill={range.color}\n              opacity={range.opacity}\n              className={`bp-range-${range.name.toLowerCase()}`}\n            />\n            {/* Diastolic range background */}\n            <rect\n              x={config.padding.left}\n              y={Math.min(diastolicTopY, diastolicBottomY)}\n              width={config.width - config.padding.left - config.padding.right}\n              height={Math.abs(diastolicBottomY - diastolicTopY)}\n              fill={range.color}\n              opacity={range.opacity}\n              className={`bp-range-${range.name.toLowerCase()}`}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Dual Y-Axis Component for Combined Chart\nconst DualYAxis = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  return (\n    <g className=\"dual-y-axis\">\n      {/* Systolic Y-Axis (Left) */}\n      <g className=\"y-axis-left\">\n        <text\n          x={config.padding.left / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Systolic (mmHg)\n        </text>\n        {systolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - systolicOffset) / systolicRange) * chartHeight;\n          return (\n            <g key={`systolic-${value}`} className=\"y-axis-grid-group\">\n              <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n              <text \n                x={config.padding.left - 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"end\" \n                className=\"chart-tick-label systolic-label\"\n                fill=\"black\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n\n      {/* Diastolic Y-Axis (Right) */}\n      <g className=\"y-axis-right\">\n        <text\n          x={config.width - config.padding.right / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Diastolic (mmHg)\n        </text>\n        {diastolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - diastolicOffset) / diastolicRange) * chartHeight;\n          return (\n            <g key={`diastolic-${value}`} className=\"y-axis-grid-group\">\n              <text \n                x={config.width - config.padding.right + 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"start\" \n                className=\"chart-tick-label diastolic-label\"\n                fill=\"var(--chart-color-green)\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n\nconst XAxis = ({ config, weekDays }) => (\n  <g className=\"x-axis\">\n    {weekDays.map((day, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      const dayCenterX = dayX + config.dayWidth / 2;\n      \n      // Tick positions\n      const startTickX = dayX;\n      const middleTickX = dayX + config.dayWidth / 2;\n\n      return (\n        <g key={dayIndex} className=\"x-axis-label-group\">\n          {/* X-axis tick marks */}\n          <line \n            className=\"x-axis-tick\" \n            x1={startTickX} \n            y1={config.height - config.padding.bottom} \n            x2={startTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          <line \n            className=\"x-axis-tick\" \n            x1={middleTickX} \n            y1={config.height - config.padding.bottom} \n            x2={middleTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          \n          {/* Time labels positioned at tick marks */}\n          <text\n            className=\"time-label\"\n            x={startTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '13px'}}\n          >\n            12a\n          </text>\n          <text\n            className=\"time-label\"\n            x={middleTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '13px'}}\n          >\n            12p\n          </text>\n\n          {/* Day and Date Labels */}\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 40}\n            textAnchor=\"middle\"\n            className=\"x-axis-day-label\"\n            fontSize={config.fontSize.dayLabel}\n            style={{fontSize: '13px'}}\n          >\n            {formatDayLabel(day)}\n          </text>\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 62}\n            textAnchor=\"middle\"\n            className=\"x-axis-date-label\"\n            fontSize={config.fontSize.dateLabel}\n            style={{fontSize: '13px'}}\n          >\n            {day.getDate()}\n          </text>\n        </g>\n      );\n    })}\n    {/* Final tick mark at the end of the last day */}\n    <line \n      className=\"x-axis-tick\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.height - config.padding.bottom} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom + 5}\n      stroke=\"var(--chart-color-neutral)\"\n      strokeWidth=\"1\"\n    />\n    <text\n      className=\"time-label\"\n      x={config.padding.left + weekDays.length * config.dayWidth}\n      y={config.height - config.padding.bottom + 15}\n      textAnchor=\"middle\"\n      fontSize={config.fontSize.timeLabel}\n      style={{fontSize: '13px'}}\n    >\n      12a\n    </text>\n  </g>\n);\n\nconst GridLines = ({ config, weekDays }) => (\n  <g className=\"grid-lines\">\n    {/* Vertical day and time lines */}\n    {weekDays.map((_, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      return (\n        <g key={dayIndex}>\n          <line className=\"chart-grid-line-vertical\" x1={dayX} y1={config.padding.top} x2={dayX} y2={config.height - config.padding.bottom} />\n          {/* Time lines at 12am and 12pm within each day */}\n          {[0, 12].map(hour => {\n            const timeRatio = hour / 24;\n            const x = config.padding.left + (dayIndex * config.dayWidth) + (timeRatio * config.dayWidth);\n            return <line key={`${dayIndex}-${hour}`} className=\"chart-grid-line-vertical-time\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />;\n          })}\n        </g>\n      );\n    })}\n    {/* Final grid line at the end of the last day */}\n    <line \n      className=\"chart-grid-line-vertical\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.padding.top} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom} \n    />\n  </g>\n);\n\nconst DataBars = ({ readings, type, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n\n  return (\n    <g className=\"data-bars\">\n      {readings.map((reading, index) => {\n        const readingDate = new Date(reading.date);\n        const dayIndex = readingDate.getDay();\n        const x = getTimePosition(readingDate, dayIndex, config);\n        const value = reading[type];\n        const barHeight = (value / valueRange) * chartHeight;\n        const y = config.height - config.padding.bottom - barHeight;\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n            value: value,\n            unit: 'mmHg',\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <rect\n            key={index}\n            x={x - config.barWidth / 2}\n            y={y}\n            width={config.barWidth}\n            height={Math.max(0, barHeight)}\n            fill={getColor(value)}\n            style={{ cursor: 'pointer' }}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nconst getSystolicColor = (value) => {\n  if (value < 90) return 'var(--chart-color-bp-low)';\n  if (value < 120) return 'var(--chart-color-bp-ideal)';\n  if (value < 140) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\nconst getDiastolicColor = (value) => {\n  if (value < 60) return 'var(--chart-color-bp-low)';\n  if (value < 80) return 'var(--chart-color-bp-ideal)';\n  if (value < 90) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\n// Combined I-Bar Chart Component\nconst CombinedDataBars = ({ readings, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n\n  return (\n    <g className=\"combined-data-bars\">\n      {readings.map((reading, index) => {\n        const readingDate = new Date(reading.date);\n        const dayIndex = readingDate.getDay();\n        const x = getTimePosition(readingDate, dayIndex, config);\n        \n        // Calculate positions for both systolic and diastolic\n        const systolicValue = reading.systolic;\n        const diastolicValue = reading.diastolic;\n        \n        const systolicBarHeight = (systolicValue / systolicRange) * chartHeight;\n        const diastolicBarHeight = (diastolicValue / diastolicRange) * chartHeight;\n        \n        const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n        const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n        \n        // Determine overall risk color and category based on both values\n        const getCombinedRiskColor = (systolic, diastolic) => {\n          if (systolic >= 140 || diastolic >= 90) return 'var(--chart-color-bp-high)'; // High\n          if (systolic >= 120 || diastolic >= 80) return 'var(--chart-color-bp-pre-high)'; // Pre-high\n          if (systolic < 90 || diastolic < 60) return 'var(--chart-color-bp-low)'; // Low\n          return 'var(--chart-color-bp-ideal)'; // Ideal\n        };\n        \n        const getCombinedRiskCategory = (systolic, diastolic) => {\n          if (systolic >= 140 || diastolic >= 90) return { name: 'High', color: 'var(--chart-color-bp-high)' };\n          if (systolic >= 120 || diastolic >= 80) return { name: 'Pre-High', color: 'var(--chart-color-bp-pre-high)' };\n          if (systolic < 90 || diastolic < 60) return { name: 'Low', color: 'var(--chart-color-bp-low)' };\n          return { name: 'Ideal', color: 'var(--chart-color-bp-ideal)' };\n        };\n        \n        const riskColor = getCombinedRiskColor(systolicValue, diastolicValue);\n        const riskCategory = getCombinedRiskCategory(systolicValue, diastolicValue);\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: 'Blood Pressure',\n            systolic: systolicValue,\n            diastolic: diastolicValue,\n            unit: 'mmHg',\n            category: riskCategory.name,\n            categoryColor: riskCategory.color,\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        // Get individual risk colors for visual distinction\n        const systolicRiskColor = getSystolicColor(systolicValue);\n        const diastolicRiskColor = getDiastolicColor(diastolicValue);\n\n        return (\n          <g key={index} className=\"bp-reading-group\">\n            {/* Systolic point - larger, black outline to match left axis */}\n            <circle\n              cx={x}\n              cy={systolicY}\n              r=\"5\"\n              fill={systolicRiskColor}\n              stroke=\"black\"\n              strokeWidth=\"1.5\"\n              style={{ cursor: 'pointer' }}\n              className=\"systolic-dot\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n            {/* Diastolic point - regular size, green outline to match right axis */}\n            <circle\n              cx={x}\n              cy={diastolicY}\n              r=\"4\"\n              fill={diastolicRiskColor}\n              stroke=\"var(--chart-color-green)\"\n              strokeWidth=\"1.5\"\n              style={{ cursor: 'pointer' }}\n              className=\"diastolic-dot\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nconst Chart = ({ type, weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 22,\n          dayLabel: 22,\n          dateLabel: 22,\n        },\n        barWidth: 12,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 40, 80, 120, 160, 200],\n          diastolic: [0, 20, 40, 60, 80, 100, 120],\n        },\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 19,\n          dayLabel: 19,\n          dateLabel: 19,\n        },\n        barWidth: 8,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 100, 200],\n          diastolic: [0, 60, 120],\n        },\n        dayPadding: 6,\n      };\n  \n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n\n  return (\n    <div className={`chart-section ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">{type === 'systolic' ? 'Systolic' : 'Diastolic'}</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          <GridLines config={config} weekDays={weekDays} />\n          <YAxis config={config} type={type} />\n          <XAxis config={config} weekDays={weekDays} />\n          <DataBars readings={readings} type={type} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\n// Combined Chart Component\nconst CombinedChart = ({ weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 22,\n          dayLabel: 22,\n          dateLabel: 22,\n        },\n        barWidth: 12,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 40, 80, 120, 160, 200],\n          diastolic: [0, 20, 40, 60, 80, 100, 120],\n        },\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 19,\n          dayLabel: 19,\n          dateLabel: 19,\n        },\n        barWidth: 8,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 100, 200],\n          diastolic: [0, 60, 120],\n        },\n        dayPadding: 6,\n      };\n  \n  const readings = weekData.filter(d => d.systolic && d.diastolic && d.systolic > 0 && d.diastolic > 0);\n\n  return (\n    <div className={`chart-section combined-chart ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">Blood Pressure (Systolic/Diastolic)</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          {/* Blood pressure range background */}\n          <BPRangeBackground config={config} />\n          <GridLines config={config} weekDays={weekDays} />\n          {/* Dual Y-axis for both systolic and diastolic */}\n          <DualYAxis config={config} />\n          <XAxis config={config} weekDays={weekDays} />\n          <CombinedDataBars readings={readings} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nconst bloodPressureLegendItems = [\n  { color: 'var(--chart-color-bp-low)', label: 'Low', description: 'Blood pressure below normal range' },\n  { color: 'var(--chart-color-bp-ideal)', label: 'Ideal', description: 'Blood pressure within ideal range' },\n  { color: 'var(--chart-color-bp-pre-high)', label: 'Pre-high', description: 'Blood pressure elevated but not yet high' },\n  { color: 'var(--chart-color-bp-high)', label: 'High', description: 'Blood pressure high - requires attention' },\n];\n\n\n\n// --- Main Component ---\nconst BloodPressureChart = ({ patientId, isExpanded = false, onExpand, accessType = 'Admin', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const { bloodPressureData, loading, error } = usePatientData(patientId);\n  const [containerWidth, setContainerWidth] = useState(400);\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n  // For Patient access, force Combined View (remove Separate Charts access).\n  // For Physician access, force Combined View (remove Separate Charts access).\n  // Admin can toggle between both.\n  const shouldForceCombinedView = accessType === 'Patient' || accessType === 'Physician';\n  \n  // Determine initial view state\n  let initialUseCombinedView = false;\n  if (shouldForceCombinedView) {\n    initialUseCombinedView = true;\n  }\n  \n  const [useCombinedView, setUseCombinedView] = useState(initialUseCombinedView); // State for view toggle\n  \n  // Enforce combined view for Patient and Physician - override state if needed\n  const effectiveUseCombinedView = shouldForceCombinedView ? true : useCombinedView;\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n\n\n\n  // Resize observer to track container width changes\n  useLayoutEffect(() => {\n    const observeContainer = () => {\n      if (containerRef.current) {\n        const resizeObserver = new ResizeObserver(entries => {\n          for (let entry of entries) {\n            const { width } = entry.contentRect;\n            setContainerWidth(width);\n          }\n        });\n\n        resizeObserver.observe(containerRef.current);\n        return () => resizeObserver.disconnect();\n      }\n    };\n\n    const cleanup = observeContainer();\n    return cleanup;\n  }, []);\n\n  const { start: weekStart, end: weekEnd } = nav.getDateRange();\n\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n\n  const weekDays = Array.from({ length: 7 }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n\n\n\n\n  const handleBarHover = (data) => {\n    setTooltipData(data);\n    setTooltipPosition(data.position);\n  };\n\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Calculate summary statistics for week and 3-month periods\n  // This calculates average, max, risk categories, and reading counts\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    // Get all valid readings (where both systolic and diastolic are > 0)\n    const systolicReadings = weekData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = weekData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    // Calculate averages (sum all values, divide by count, round to whole number)\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    // Find maximum values\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    // Determine risk category based on average values\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    \n    // Count unique days with readings\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\n\n    weekSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: weekData.length\n    };\n  }\n\n  // Calculate 3-month summary (same logic as week summary, just different data)\n  let threeMonthSummary = null;\n  if (threeMonthData.length > 0) {\n    const systolicReadings = threeMonthData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = threeMonthData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    const daysWithReadings = new Set(threeMonthData.map(d => d.date.toDateString())).size;\n\n    threeMonthSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: threeMonthData.length\n    };\n  }\n\n  return (\n    <>\n      <div className={`bp-chart-container ${isExpanded ? 'expanded' : ''}`} ref={containerRef}>\n        <div className=\"bp-header\">\n          <h3 className=\"bp-main-title\">Blood Pressure</h3>\n          <h4 className=\"chart-subtitle\">{nav.getFormattedDateRange()}</h4>\n          \n          {/* View Toggle - Hide for Patient and Physician, show both for Admin */}\n          {accessType === 'Admin' && (\n            <div className=\"view-toggle\">\n              <button \n                className={`toggle-btn ${!effectiveUseCombinedView ? 'active' : ''}`}\n                onClick={() => setUseCombinedView(false)}\n              >\n                Separate Charts\n              </button>\n              <button \n                className={`toggle-btn ${effectiveUseCombinedView ? 'active' : ''}`}\n                onClick={() => setUseCombinedView(true)}\n              >\n                Combined View\n              </button>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"bp-charts-wrapper\">\n          {effectiveUseCombinedView ? (\n            <CombinedChart \n              weekData={weekData} \n              isExpanded={isExpanded} \n              weekDays={weekDays} \n              containerWidth={containerWidth}\n              onBarHover={handleBarHover}\n              onBarLeave={handleBarLeave}\n            />\n          ) : (\n            <>\n              <Chart \n                type=\"systolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                containerWidth={containerWidth}\n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n              <Chart \n                type=\"diastolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                containerWidth={containerWidth}\n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n            </>\n          )}\n        </div>\n        \n        <Legend title=\"Blood Pressure Category:\" items={bloodPressureLegendItems} hide={screenshotMode} />\n        \n        {/* Show InfoBox for patient view, summary for physician/unified view - Hide InfoBox for Physician but keep summaries */}\n        {weekSummary ? (\n          <>\n            {/* Hide InfoBox for Physician */}\n            {accessType !== 'Physician' && (\n              <InfoBox \n                title=\"Blood Pressure Information\" \n                content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n              />\n            )}\n            {/* Always show summaries for physician/unified view */}\n            <div className=\"summary-container\">\n              <div className=\"chart-summary\">\n                <h4>Week Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Average BP:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.avgSystolic}/{weekSummary.avgDiastolic} mmHg\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Peak BP:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.maxSystolic}/{weekSummary.maxDiastolic} mmHg\n                    </span>\n                  </div>\n\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Reading Days:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.daysWithReadings}/7 days\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.totalReadings}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {showThreeMonthSummaries && threeMonthSummary && (\n                <div className=\"chart-summary\">\n                  <h4>3-Month Summary</h4>\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Average BP:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.avgSystolic}/{threeMonthSummary.avgDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Peak BP:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.maxSystolic}/{threeMonthSummary.maxDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.totalReadings}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          accessType !== 'Physician' && (\n            <InfoBox \n              title=\"Blood Pressure Information\" \n              content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n            />\n          )\n        )}\n      </div>\n      \n      {/* Custom Tooltip */}\n      <Tooltip\n        isVisible={!!tooltipData}\n        content={tooltipData && (\n          <div>\n            <div className=\"tooltip-title\">{tooltipData.type === 'Blood Pressure' ? 'Blood Pressure' : `${tooltipData.type} Blood Pressure`}</div>\n            {tooltipData.systolic && tooltipData.diastolic ? (\n              <div className=\"tooltip-value\">\n                {tooltipData.systolic}/{tooltipData.diastolic} {tooltipData.unit}\n              </div>\n            ) : (\n              <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\n            )}\n            {tooltipData.category && (\n              <div className=\"tooltip-category\" style={{ color: tooltipData.categoryColor }}>\n                {tooltipData.category}\n              </div>\n            )}\n            <div className=\"tooltip-time\">{tooltipData.time}</div>\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\n          </div>\n        )}\n        position={tooltipPosition}\n      />\n    </>\n  );\n};\n\nexport default BloodPressureChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}