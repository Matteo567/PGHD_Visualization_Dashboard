{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local Experimental\\\\PGHD_Visualization_Dashboard\\\\src\\\\components\\\\patient_charts\\\\ExerciseChart.js\",\n  _s = $RefreshSig$();\n/**\n ExerciseChart.js - Exercise Activity Tracking Visualization\n \n This component provides exercise monitoring with activity type breakdown including walking, swimming, running, biking, muscle-strengthening, and balance activities. It tracks duration and provides weekly summaries with color-coded activity categorization. It includes interactive tooltips with exercise details and navigation controls for time periods. It integrates with patient data and chart navigation. The component uses custom SVG for stacked bar chart visualization and implements an activity categorization system with emoji indicators. It provides color-coded activity types for identification and supports expandable views. It implements time-based navigation and data filtering. Visualization features include a stacked bar chart showing daily activity breakdown, color-coded activity types with emoji indicators, interactive tooltips with detailed exercise information, design that adapts to container size, and dynamic Y-axis scaling based on data range. Activity categories include walking as low-impact cardiovascular exercise, swimming as full-body cardiovascular workout, running as high-impact cardiovascular exercise, biking as low-impact cardiovascular exercise, muscle-strengthening as strength training activities, balance as balance and stability training, and other as miscellaneous physical activities. Component structure includes a main SVG container with sizing for the chart container, duration scale with dynamic labeling on the Y-axis, day-of-week labels with date information on the X-axis, stacked activity bars with color coding for data bars, activity type explanations with emojis in the legend, and detailed exercise information on hover in tooltips. This component is used for physical activity monitoring and fitness tracking.\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport Tooltip from '../ui/Tooltip';\nimport './ExerciseChart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst exerciseTypes = [{\n  key: 'walking',\n  label: 'Walking',\n  color: 'var(--chart-color-walking)',\n  emoji: 'ðŸš¶'\n}, {\n  key: 'swimming',\n  label: 'Swimming',\n  color: 'var(--chart-color-swimming)',\n  emoji: 'ðŸŠâ€â™€ï¸'\n}, {\n  key: 'running',\n  label: 'Running',\n  color: 'var(--chart-color-running)',\n  emoji: 'ðŸƒâ€â™‚ï¸'\n}, {\n  key: 'biking',\n  label: 'Biking',\n  color: 'var(--chart-color-biking)',\n  emoji: 'ðŸš´'\n}, {\n  key: 'muscle-strengthening',\n  label: 'Muscle-Strengthening',\n  color: 'var(--chart-color-resistance)',\n  emoji: 'ðŸ‹ï¸'\n}, {\n  key: 'balance',\n  label: 'Balance',\n  color: 'var(--chart-color-balance)',\n  emoji: 'ðŸ§˜'\n}, {\n  key: 'other',\n  label: 'Other',\n  color: 'var(--chart-color-other)',\n  emoji: 'âž•'\n}];\nconst exerciseLegendItems = exerciseTypes.map(({\n  label,\n  color,\n  emoji\n}) => ({\n  label: `${emoji} ${label}`,\n  color\n}));\nconst ExerciseChart = ({\n  patientId,\n  isExpanded = false,\n  onExpand,\n  accessType = 'Admin',\n  navigation,\n  screenshotMode = false,\n  showThreeMonthSummaries = false\n}) => {\n  _s();\n  var _exerciseTypes$find, _exerciseTypes$find2;\n  const {\n    exerciseData,\n    loading,\n    error\n  } = usePatientData(patientId);\n\n  // For Physician access, force Weekly Goals view (hide Activity Breakdown).\n  // For Patient and Admin, allow toggling between both views.\n  const shouldForceWeeklyGoals = accessType === 'Physician';\n\n  // Determine initial view state\n  let initialShowWeeklyGoals = false;\n  if (shouldForceWeeklyGoals) {\n    initialShowWeeklyGoals = true;\n  }\n\n  // State for toggling between activity breakdown and weekly goals view\n  const [showWeeklyGoals, setShowWeeklyGoals] = useState(initialShowWeeklyGoals);\n\n  // Tooltip state\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Update state when accessType changes\n  useEffect(() => {\n    if (shouldForceWeeklyGoals) {\n      setShowWeeklyGoals(true);\n    } else {\n      // Patient and Admin default to Activity Breakdown\n      setShowWeeklyGoals(false);\n    }\n  }, [accessType, shouldForceWeeklyGoals]);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('exercise');\n  const nav = navigation || internalNavigation;\n\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 14,\n      dayLabel: 14,\n      dateLabel: 14,\n      emoji: 12\n    },\n    barWidth: 12\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 12,\n      dayLabel: 12,\n      dateLabel: 12,\n      emoji: 10\n    },\n    barWidth: 8\n  };\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const {\n    start: startOfWeek,\n    end: endOfWeek\n  } = nav.getDateRange();\n  const weekData = exerciseData.filter(d => {\n    if (!d.date) return false;\n    const itemDate = new Date(d.date);\n    return itemDate >= startOfWeek && itemDate <= endOfWeek;\n  });\n\n  // Get 3-month data\n  const {\n    start: startOfThreeMonths,\n    end: endOfThreeMonths\n  } = nav.getThreeMonthRange();\n  const threeMonthData = exerciseData.filter(d => {\n    if (!d.date) return false;\n    const itemDate = new Date(d.date);\n    return itemDate >= startOfThreeMonths && itemDate <= endOfThreeMonths;\n  });\n\n  // Helper functions for exercise data processing\n  const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  const initializeDayData = () => ({\n    walking: 0,\n    swimming: 0,\n    running: 0,\n    biking: 0,\n    'muscle-strengthening': 0,\n    balance: 0,\n    other: 0,\n    totalMinutes: 0\n  });\n  const processExerciseData = weekData => {\n    const groupedData = {};\n\n    // Initialize all days\n    daysOfWeek.forEach(day => {\n      groupedData[day] = initializeDayData();\n    });\n\n    // Process each exercise item\n    weekData.forEach(item => {\n      if (!item.date) return;\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      const dayData = groupedData[dayName];\n      if (dayData) {\n        dayData.walking += Number(item.walking) || 0;\n        dayData.swimming += Number(item.swimming) || 0;\n        dayData.running += Number(item.running) || 0;\n        dayData.biking += Number(item.biking) || 0;\n        dayData['muscle-strengthening'] += Number(item['muscle-strengthening']) || 0;\n        dayData.balance += Number(item.balance) || 0;\n        dayData.other += Number(item.other) || 0;\n\n        // Calculate total minutes\n        dayData.totalMinutes = dayData.walking + dayData.swimming + dayData.running + dayData.biking + dayData['muscle-strengthening'] + dayData.balance + dayData.other;\n      }\n    });\n    return groupedData;\n  };\n  const groupedData = processExerciseData(weekData);\n\n  // Calculate weekly exercise categories for physician view\n  const aerobic = Object.values(groupedData).reduce((sum, day) => sum + day.walking + day.swimming + day.running + day.biking, 0);\n  const strength = Object.values(groupedData).reduce((sum, day) => sum + day['muscle-strengthening'], 0);\n  const flexibility = Object.values(groupedData).reduce((sum, day) => sum + day.balance, 0);\n  const strengthSessions = Object.values(groupedData).filter(day => day['muscle-strengthening'] > 0).length;\n  const flexibilitySessions = Object.values(groupedData).filter(day => day.balance > 0).length;\n  const weeklyCategories = {\n    aerobic,\n    strength,\n    flexibility,\n    strengthSessions,\n    flexibilitySessions\n  };\n\n  // Calculate percentages for physician view\n  const aerobicGoal = 150;\n  const strengthGoal = 2;\n  const flexibilityGoal = 1;\n  const categoryPercentages = {\n    aerobic: Math.min(100, Math.round(weeklyCategories.aerobic / aerobicGoal * 100)),\n    strength: Math.min(100, Math.round(weeklyCategories.strengthSessions / strengthGoal * 100)),\n    flexibility: Math.min(100, Math.round(weeklyCategories.flexibilitySessions / flexibilityGoal * 100))\n  };\n  const exerciseValues = Object.values(groupedData).map(day => day.totalMinutes);\n  const maxVal = exerciseValues.length > 0 ? Math.max(...exerciseValues, 0) : 0;\n  const maxDuration = Math.max(60, Math.ceil(maxVal / 30) * 30);\n  const generateYAxisLabels = max => {\n    if (max === 0) return [0];\n    const step = Math.max(15, Math.ceil(max / 6 / 15) * 15);\n    const labels = [];\n    for (let i = 0; i <= max; i += step) {\n      labels.push(i);\n    }\n    return labels;\n  };\n  const yAxisLabels = generateYAxisLabels(maxDuration);\n\n  // Calculate summary statistics for physician view\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    const totalMinutes = Object.values(groupedData).reduce((sum, day) => sum + day.totalMinutes, 0);\n    const avgMinutesPerDay = (totalMinutes / 7).toFixed(0);\n\n    // Count days with exercise\n    const daysWithExercise = Object.values(groupedData).filter(day => day.totalMinutes > 0).length;\n\n    // Find most common exercise type\n    const exerciseTypeTotals = {};\n    exerciseTypes.forEach(type => {\n      exerciseTypeTotals[type.key] = Object.values(groupedData).reduce((sum, day) => sum + day[type.key], 0);\n    });\n    const mostCommonExercise = Object.entries(exerciseTypeTotals).sort(([, a], [, b]) => b - a)[0];\n\n    // Calculate exercise consistency (days with 30+ minutes)\n    const daysWithAdequateExercise = Object.values(groupedData).filter(day => day.totalMinutes >= 30).length;\n\n    // Calculate average session length\n    const totalSessions = weekData.filter(item => {\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      return groupedData[dayName] && groupedData[dayName].totalMinutes > 0;\n    }).length;\n    const avgSessionLength = totalSessions > 0 ? (totalMinutes / totalSessions).toFixed(0) : 0;\n    weekSummary = {\n      totalMinutes,\n      avgMinutesPerDay,\n      daysWithExercise,\n      mostCommonExercise: mostCommonExercise[0],\n      mostCommonExerciseMinutes: mostCommonExercise[1],\n      daysWithAdequateExercise,\n      totalSessions,\n      avgSessionLength\n    };\n  }\n\n  // Calculate 3-month summary statistics for physician view\n  let threeMonthSummary = null;\n  let threeMonthWeeklyGoalsSummary = null;\n  if (threeMonthData.length > 0) {\n    // Group 3-month data by day\n    const threeMonthGroupedData = {};\n    threeMonthData.forEach(item => {\n      if (!item.date) return;\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      if (!threeMonthGroupedData[dayName]) {\n        threeMonthGroupedData[dayName] = {\n          walking: 0,\n          swimming: 0,\n          running: 0,\n          biking: 0,\n          'muscle-strengthening': 0,\n          balance: 0,\n          other: 0,\n          totalMinutes: 0\n        };\n      }\n      threeMonthGroupedData[dayName].walking += Number(item.walking) || 0;\n      threeMonthGroupedData[dayName].swimming += Number(item.swimming) || 0;\n      threeMonthGroupedData[dayName].running += Number(item.running) || 0;\n      threeMonthGroupedData[dayName].biking += Number(item.biking) || 0;\n      threeMonthGroupedData[dayName]['muscle-strengthening'] += Number(item['muscle-strengthening']) || 0;\n      threeMonthGroupedData[dayName].balance += Number(item.balance) || 0;\n      threeMonthGroupedData[dayName].other += Number(item.other) || 0;\n      threeMonthGroupedData[dayName].totalMinutes = threeMonthGroupedData[dayName].walking + threeMonthGroupedData[dayName].swimming + threeMonthGroupedData[dayName].running + threeMonthGroupedData[dayName].biking + threeMonthGroupedData[dayName]['muscle-strengthening'] + threeMonthGroupedData[dayName].balance + threeMonthGroupedData[dayName].other;\n    });\n    const totalMinutes = Object.values(threeMonthGroupedData).reduce((sum, day) => sum + day.totalMinutes, 0);\n\n    // Calculate actual days in the 3-month period\n    const {\n      start: startOfThreeMonths,\n      end: endOfThreeMonths\n    } = nav.getThreeMonthRange();\n    const daysInThreeMonths = Math.ceil((endOfThreeMonths - startOfThreeMonths) / (1000 * 60 * 60 * 24)) + 1;\n    const avgMinutesPerDay = (totalMinutes / daysInThreeMonths).toFixed(0);\n\n    // Count days with exercise\n    const daysWithExercise = Object.values(threeMonthGroupedData).filter(day => day.totalMinutes > 0).length;\n\n    // Find most common exercise type\n    const exerciseTypeTotals = {};\n    exerciseTypes.forEach(type => {\n      exerciseTypeTotals[type.key] = Object.values(threeMonthGroupedData).reduce((sum, day) => sum + day[type.key], 0);\n    });\n    const mostCommonExercise = Object.entries(exerciseTypeTotals).sort(([, a], [, b]) => b - a)[0];\n\n    // Calculate average session length\n    const totalSessions = threeMonthData.filter(item => {\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      return threeMonthGroupedData[dayName] && threeMonthGroupedData[dayName].totalMinutes > 0;\n    }).length;\n    const avgSessionLength = totalSessions > 0 ? (totalMinutes / totalSessions).toFixed(0) : 0;\n    threeMonthSummary = {\n      totalMinutes,\n      avgMinutesPerDay,\n      daysWithExercise,\n      mostCommonExercise: mostCommonExercise[0],\n      mostCommonExerciseMinutes: mostCommonExercise[1],\n      totalSessions,\n      avgSessionLength\n    };\n\n    // Calculate weekly goals met in 3-month period\n    // Split 3-month data into weeks and check goal achievement for each week\n    const weeklyGoalsData = [];\n    let currentWeekStart = new Date(startOfThreeMonths);\n    currentWeekStart.setHours(0, 0, 0, 0);\n\n    // Adjust to start of week (Sunday)\n    const dayOfWeek = currentWeekStart.getDay();\n    currentWeekStart.setDate(currentWeekStart.getDate() - dayOfWeek);\n    while (currentWeekStart <= endOfThreeMonths) {\n      const weekEnd = new Date(currentWeekStart);\n      weekEnd.setDate(weekEnd.getDate() + 6);\n      weekEnd.setHours(23, 59, 59, 999);\n\n      // Get data for this week\n      const weekDataForAnalysis = threeMonthData.filter(d => {\n        if (!d.date) return false;\n        const itemDate = new Date(d.date);\n        return itemDate >= currentWeekStart && itemDate <= weekEnd;\n      });\n      if (weekDataForAnalysis.length > 0) {\n        // Process week data similar to weekly calculation\n        const weekGroupedData = processExerciseData(weekDataForAnalysis);\n        const weekAerobic = Object.values(weekGroupedData).reduce((sum, day) => sum + day.walking + day.swimming + day.running + day.biking, 0);\n        const weekStrengthSessions = Object.values(weekGroupedData).filter(day => day['muscle-strengthening'] > 0).length;\n        const weekFlexibilitySessions = Object.values(weekGroupedData).filter(day => day.balance > 0).length;\n\n        // Check if goals are met\n        const aerobicGoalMet = weekAerobic >= 150;\n        const strengthGoalMet = weekStrengthSessions >= 2;\n        const flexibilityGoalMet = weekFlexibilitySessions >= 1;\n        const allGoalsMet = aerobicGoalMet && strengthGoalMet && flexibilityGoalMet;\n        weeklyGoalsData.push({\n          aerobicGoalMet,\n          strengthGoalMet,\n          flexibilityGoalMet,\n          allGoalsMet\n        });\n      }\n\n      // Move to next week\n      currentWeekStart.setDate(currentWeekStart.getDate() + 7);\n    }\n\n    // Count weeks that met goals\n    const weeksMetAerobicGoal = weeklyGoalsData.filter(w => w.aerobicGoalMet).length;\n    const weeksMetStrengthGoal = weeklyGoalsData.filter(w => w.strengthGoalMet).length;\n    const weeksMetFlexibilityGoal = weeklyGoalsData.filter(w => w.flexibilityGoalMet).length;\n    const weeksMetAllGoals = weeklyGoalsData.filter(w => w.allGoalsMet).length;\n    const totalWeeks = weeklyGoalsData.length;\n    threeMonthWeeklyGoalsSummary = {\n      totalWeeks,\n      weeksMetAerobicGoal,\n      weeksMetStrengthGoal,\n      weeksMetFlexibilityGoal,\n      weeksMetAllGoals\n    };\n  }\n\n  // Weekly goals view (when showWeeklyGoals is true)\n  if (showWeeklyGoals) {\n    const categories = [{\n      name: 'Aerobic',\n      value: weeklyCategories.aerobic,\n      goal: 150,\n      percentage: categoryPercentages.aerobic,\n      color: '#4CAF50',\n      description: '150 min/week goal'\n    }, {\n      name: 'Strength',\n      value: weeklyCategories.strengthSessions,\n      goal: 2,\n      percentage: categoryPercentages.strength,\n      color: '#2196F3',\n      description: '2+ sessions/week'\n    }, {\n      name: 'Balance',\n      value: weeklyCategories.flexibilitySessions,\n      goal: 1,\n      percentage: categoryPercentages.flexibility,\n      color: '#FF9800',\n      description: '1+ session/week'\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `exercise-chart-container ${isExpanded ? 'expanded' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"exercise-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"chart-title\",\n          children: \"Exercise Goals Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chart-subtitle\",\n          children: nav.getFormattedDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${!showWeeklyGoals ? 'active' : ''}`,\n            onClick: () => setShowWeeklyGoals(false),\n            children: \"Activity Breakdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${showWeeklyGoals ? 'active' : ''}`,\n            onClick: () => setShowWeeklyGoals(true),\n            children: \"Weekly Goals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"physician-exercise-bars\",\n        children: categories.map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exercise-category-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category-name\",\n              children: category.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category-percentage\",\n              children: [category.percentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bar-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bar-fill\",\n              style: {\n                width: `${category.percentage}%`,\n                backgroundColor: category.color,\n                opacity: category.percentage > 0 ? 0.8 : 0.3\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category-value\",\n              children: category.name === 'Aerobic' ? `${category.value} min` : `${category.value} sessions`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category-goal\",\n              children: [\"Goal: \", category.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, category.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Week Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Aerobic Activity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [weeklyCategories.aerobic, \" minutes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Strength Sessions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [weeklyCategories.strengthSessions, \" sessions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Balance Sessions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [weeklyCategories.flexibilitySessions, \" sessions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Goal Achievement:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [Object.values(categoryPercentages).filter(p => p >= 100).length, \"/3 categories\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this), showThreeMonthSummaries && threeMonthWeeklyGoalsSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"3-Month Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Weeks Analyzed:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [threeMonthWeeklyGoalsSummary.totalWeeks, \" weeks\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Weekly Goals Met:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [threeMonthWeeklyGoalsSummary.weeksMetAllGoals, \" out of \", threeMonthWeeklyGoalsSummary.totalWeeks, \" weeks\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Aerobic Goal Met:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [threeMonthWeeklyGoalsSummary.weeksMetAerobicGoal, \" weeks\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Strength Goal Met:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [threeMonthWeeklyGoalsSummary.weeksMetStrengthGoal, \" weeks\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Balance Goal Met:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [threeMonthWeeklyGoalsSummary.weeksMetFlexibilityGoal, \" weeks\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `exercise-chart-container ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"exercise-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"chart-title\",\n        children: \"Activity Breakdown by Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"chart-subtitle\",\n        children: nav.getFormattedDateRange()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }, this), accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-btn ${!showWeeklyGoals ? 'active' : ''}`,\n          onClick: () => setShowWeeklyGoals(false),\n          children: \"Activity Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-btn ${showWeeklyGoals ? 'active' : ''}`,\n          onClick: () => setShowWeeklyGoals(true),\n          children: \"Weekly Goals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"100%\",\n      viewBox: `0 0 ${config.width} ${config.height}`,\n      className: \"exercise-svg\",\n      children: [/*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis\",\n        children: [yAxisLabels.map(value => {\n          const y = config.padding.top + chartHeight - value / maxDuration * chartHeight;\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            className: \"y-axis-grid-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"line\", {\n              className: \"chart-grid-line-horizontal\",\n              x1: config.padding.left,\n              y1: y,\n              x2: config.width - config.padding.right,\n              y2: y\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: config.padding.left - 15,\n              y: y + 3,\n              fontSize: config.fontSize.yAxis,\n              textAnchor: \"end\",\n              fill: \"var(--chart-color-text-secondary)\",\n              className: \"chart-tick-label\",\n              children: value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 19\n            }, this)]\n          }, value, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: -(config.padding.top + chartHeight / 2),\n          y: config.padding.left / 2 - 5,\n          fontSize: config.fontSize.yAxisTitle,\n          textAnchor: \"middle\",\n          fill: \"var(--chart-color-text-primary)\",\n          transform: \"rotate(-90)\",\n          className: \"y-axis-title\",\n          children: \"Minutes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"x-axis\",\n        children: daysOfWeek.map((day, dayIndex) => {\n          const date = new Date(startOfWeek);\n          date.setDate(date.getDate() + dayIndex);\n          const x = config.padding.left + dayIndex * config.dayWidth + config.dayWidth / 2;\n          const dayData = groupedData[day];\n          const performedExercises = exerciseTypes.filter(type => (dayData[type.key] || 0) > 0);\n          const emojis = performedExercises.map(type => type.emoji).join(' ');\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            className: \"x-axis-label-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"line\", {\n              className: \"chart-grid-line-vertical\",\n              x1: config.padding.left + dayIndex * config.dayWidth,\n              y1: config.padding.top,\n              x2: config.padding.left + dayIndex * config.dayWidth,\n              y2: config.height - config.padding.bottom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: x,\n              y: config.height - config.padding.bottom + 15,\n              textAnchor: \"middle\",\n              fontSize: config.fontSize.dayLabel,\n              fill: \"var(--chart-color-text-primary)\",\n              className: \"x-axis-day-label\",\n              children: day\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: x,\n              y: config.height - config.padding.bottom + 30,\n              textAnchor: \"middle\",\n              fontSize: config.fontSize.dateLabel,\n              fill: \"var(--chart-color-text-secondary)\",\n              className: \"x-axis-date-label\",\n              children: date.getDate()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: x,\n              y: config.height - config.padding.bottom + 48,\n              textAnchor: \"middle\",\n              fontSize: config.fontSize.emoji,\n              children: emojis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this)]\n          }, dayIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"data-bars\",\n        children: daysOfWeek.map((day, dayIndex) => {\n          const dayData = groupedData[day];\n          const x = config.padding.left + dayIndex * config.dayWidth + config.dayWidth / 2;\n          let currentY = config.height - config.padding.bottom;\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            children: exerciseTypes.map(type => {\n              const minutes = Number(dayData[type.key]) || 0;\n              if (minutes <= 0) return null;\n              const segmentHeight = minutes / maxDuration * chartHeight;\n              const segmentY = currentY - segmentHeight;\n              const segment = /*#__PURE__*/_jsxDEV(\"g\", {\n                children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: x - config.barWidth / 2,\n                  y: segmentY,\n                  width: config.barWidth,\n                  height: segmentHeight,\n                  fill: type.color,\n                  className: \"data-bar\",\n                  children: /*#__PURE__*/_jsxDEV(\"title\", {\n                    children: `${type.label}: ${Math.round(minutes)} min`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 25\n                }, this), segmentHeight >= 12 && /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: x,\n                  y: segmentY + segmentHeight / 2,\n                  textAnchor: \"middle\",\n                  fontSize: isExpanded ? 8 : 6,\n                  fill: \"black\",\n                  className: \"duration-label\",\n                  children: Math.round(minutes)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 27\n                }, this)]\n              }, type.key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 23\n              }, this);\n              currentY = segmentY;\n              return segment;\n            })\n          }, day, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Legend, {\n      title: \"Exercise Type\",\n      items: exerciseLegendItems,\n      orientation: \"horizontal\",\n      size: \"medium\",\n      hide: screenshotMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 9\n    }, this), weekSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Week Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Total Exercise:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.totalMinutes, \" minutes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Daily Average:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.avgMinutesPerDay, \" minutes/day\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Exercise Days:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.daysWithExercise, \"/7 days\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Most Common:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [(_exerciseTypes$find = exerciseTypes.find(t => t.key === weekSummary.mostCommonExercise)) === null || _exerciseTypes$find === void 0 ? void 0 : _exerciseTypes$find.emoji, \" \", weekSummary.mostCommonExercise, \" (\", weekSummary.mostCommonExerciseMinutes, \" min)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Avg Session:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.avgSessionLength, \" minutes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 13\n      }, this), showThreeMonthSummaries && threeMonthSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"3-Month Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Total Exercise:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.totalMinutes, \" minutes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Daily Average:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.avgMinutesPerDay, \" minutes/day\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Exercise Days:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.daysWithExercise, \" days\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Most Common:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [(_exerciseTypes$find2 = exerciseTypes.find(t => t.key === threeMonthSummary.mostCommonExercise)) === null || _exerciseTypes$find2 === void 0 ? void 0 : _exerciseTypes$find2.emoji, \" \", threeMonthSummary.mostCommonExercise, \" (\", threeMonthSummary.mostCommonExerciseMinutes, \" min)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Avg Session:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.avgSessionLength, \" minutes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 531,\n    columnNumber: 7\n  }, this);\n};\n_s(ExerciseChart, \"Us4YSoNYf0GflLxFtxJQJgjSVxU=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c = ExerciseChart;\nexport default ExerciseChart;\nvar _c;\n$RefreshReg$(_c, \"ExerciseChart\");","map":{"version":3,"names":["React","useState","useRef","useEffect","usePatientData","useChartNavigation","Legend","Tooltip","jsxDEV","_jsxDEV","exerciseTypes","key","label","color","emoji","exerciseLegendItems","map","ExerciseChart","patientId","isExpanded","onExpand","accessType","navigation","screenshotMode","showThreeMonthSummaries","_s","_exerciseTypes$find","_exerciseTypes$find2","exerciseData","loading","error","shouldForceWeeklyGoals","initialShowWeeklyGoals","showWeeklyGoals","setShowWeeklyGoals","tooltipData","setTooltipData","tooltipPosition","setTooltipPosition","x","y","internalNavigation","nav","config","width","height","padding","top","right","bottom","left","dayWidth","fontSize","yAxis","yAxisTitle","timeLabel","dayLabel","dateLabel","barWidth","chartHeight","start","startOfWeek","end","endOfWeek","getDateRange","weekData","filter","d","date","itemDate","Date","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","daysOfWeek","initializeDayData","walking","swimming","running","biking","balance","other","totalMinutes","processExerciseData","groupedData","forEach","day","item","dayName","isNaN","getTime","getDay","dayData","Number","aerobic","Object","values","reduce","sum","strength","flexibility","strengthSessions","length","flexibilitySessions","weeklyCategories","aerobicGoal","strengthGoal","flexibilityGoal","categoryPercentages","Math","min","round","exerciseValues","maxVal","max","maxDuration","ceil","generateYAxisLabels","step","labels","i","push","yAxisLabels","weekSummary","avgMinutesPerDay","toFixed","daysWithExercise","exerciseTypeTotals","type","mostCommonExercise","entries","sort","a","b","daysWithAdequateExercise","totalSessions","avgSessionLength","mostCommonExerciseMinutes","threeMonthSummary","threeMonthWeeklyGoalsSummary","threeMonthGroupedData","daysInThreeMonths","weeklyGoalsData","currentWeekStart","setHours","dayOfWeek","setDate","getDate","weekEnd","weekDataForAnalysis","weekGroupedData","weekAerobic","weekStrengthSessions","weekFlexibilitySessions","aerobicGoalMet","strengthGoalMet","flexibilityGoalMet","allGoalsMet","weeksMetAerobicGoal","w","weeksMetStrengthGoal","weeksMetFlexibilityGoal","weeksMetAllGoals","totalWeeks","categories","name","value","goal","percentage","description","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getFormattedDateRange","onClick","category","index","style","backgroundColor","opacity","p","viewBox","x1","y1","x2","y2","textAnchor","fill","transform","dayIndex","performedExercises","emojis","join","currentY","minutes","segmentHeight","segmentY","segment","title","items","orientation","size","hide","find","t","_c","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/ExerciseChart.js"],"sourcesContent":["/**\n ExerciseChart.js - Exercise Activity Tracking Visualization\n \n This component provides exercise monitoring with activity type breakdown including walking, swimming, running, biking, muscle-strengthening, and balance activities. It tracks duration and provides weekly summaries with color-coded activity categorization. It includes interactive tooltips with exercise details and navigation controls for time periods. It integrates with patient data and chart navigation. The component uses custom SVG for stacked bar chart visualization and implements an activity categorization system with emoji indicators. It provides color-coded activity types for identification and supports expandable views. It implements time-based navigation and data filtering. Visualization features include a stacked bar chart showing daily activity breakdown, color-coded activity types with emoji indicators, interactive tooltips with detailed exercise information, design that adapts to container size, and dynamic Y-axis scaling based on data range. Activity categories include walking as low-impact cardiovascular exercise, swimming as full-body cardiovascular workout, running as high-impact cardiovascular exercise, biking as low-impact cardiovascular exercise, muscle-strengthening as strength training activities, balance as balance and stability training, and other as miscellaneous physical activities. Component structure includes a main SVG container with sizing for the chart container, duration scale with dynamic labeling on the Y-axis, day-of-week labels with date information on the X-axis, stacked activity bars with color coding for data bars, activity type explanations with emojis in the legend, and detailed exercise information on hover in tooltips. This component is used for physical activity monitoring and fitness tracking.\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport Tooltip from '../ui/Tooltip';\nimport './ExerciseChart.css';\n\nconst exerciseTypes = [\n  { key: 'walking', label: 'Walking', color: 'var(--chart-color-walking)', emoji: 'ðŸš¶' },\n  { key: 'swimming', label: 'Swimming', color: 'var(--chart-color-swimming)', emoji: 'ðŸŠâ€â™€ï¸' },\n  { key: 'running', label: 'Running', color: 'var(--chart-color-running)', emoji: 'ðŸƒâ€â™‚ï¸' },\n  { key: 'biking', label: 'Biking', color: 'var(--chart-color-biking)', emoji: 'ðŸš´' },\n  { key: 'muscle-strengthening', label: 'Muscle-Strengthening', color: 'var(--chart-color-resistance)', emoji: 'ðŸ‹ï¸' },\n  { key: 'balance', label: 'Balance', color: 'var(--chart-color-balance)', emoji: 'ðŸ§˜' },\n  { key: 'other', label: 'Other', color: 'var(--chart-color-other)', emoji: 'âž•' },\n];\n\nconst exerciseLegendItems = exerciseTypes.map(({ label, color, emoji }) => ({\n  label: `${emoji} ${label}`,\n  color,\n}));\n\nconst ExerciseChart = ({ patientId, isExpanded = false, onExpand, accessType = 'Admin', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const { exerciseData, loading, error } = usePatientData(patientId);\n  \n  // For Physician access, force Weekly Goals view (hide Activity Breakdown).\n  // For Patient and Admin, allow toggling between both views.\n  const shouldForceWeeklyGoals = accessType === 'Physician';\n  \n  // Determine initial view state\n  let initialShowWeeklyGoals = false;\n  if (shouldForceWeeklyGoals) {\n    initialShowWeeklyGoals = true;\n  }\n  \n  // State for toggling between activity breakdown and weekly goals view\n  const [showWeeklyGoals, setShowWeeklyGoals] = useState(initialShowWeeklyGoals);\n  \n  // Tooltip state\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n  \n  // Update state when accessType changes\n  useEffect(() => {\n    if (shouldForceWeeklyGoals) {\n      setShowWeeklyGoals(true);\n    } else {\n      // Patient and Admin default to Activity Breakdown\n      setShowWeeklyGoals(false);\n    }\n  }, [accessType, shouldForceWeeklyGoals]);\n  \n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('exercise');\n  const nav = navigation || internalNavigation;\n\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n          emoji: 12,\n        },\n        barWidth: 12,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 12,\n          dayLabel: 12,\n          dateLabel: 12,\n          emoji: 10,\n        },\n        barWidth: 8,\n      };\n  \n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n\n  const { start: startOfWeek, end: endOfWeek } = nav.getDateRange();\n\n  const weekData = exerciseData.filter(d => {\n    if (!d.date) return false;\n    const itemDate = new Date(d.date);\n    return itemDate >= startOfWeek && itemDate <= endOfWeek;\n  });\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = exerciseData.filter(d => {\n    if (!d.date) return false;\n    const itemDate = new Date(d.date);\n    return itemDate >= startOfThreeMonths && itemDate <= endOfThreeMonths;\n  });\n\n  // Helper functions for exercise data processing\n  const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  \n  const initializeDayData = () => ({\n    walking: 0,\n    swimming: 0,\n    running: 0,\n    biking: 0,\n    'muscle-strengthening': 0,\n    balance: 0,\n    other: 0,\n    totalMinutes: 0\n  });\n\n  const processExerciseData = (weekData) => {\n    const groupedData = {};\n    \n    // Initialize all days\n    daysOfWeek.forEach(day => {\n      groupedData[day] = initializeDayData();\n    });\n    \n    // Process each exercise item\n    weekData.forEach(item => {\n      if (!item.date) return;\n      \n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      const dayData = groupedData[dayName];\n      \n      if (dayData) {\n        dayData.walking += Number(item.walking) || 0;\n        dayData.swimming += Number(item.swimming) || 0;\n        dayData.running += Number(item.running) || 0;\n        dayData.biking += Number(item.biking) || 0;\n        dayData['muscle-strengthening'] += Number(item['muscle-strengthening']) || 0;\n        dayData.balance += Number(item.balance) || 0;\n        dayData.other += Number(item.other) || 0;\n        \n        // Calculate total minutes\n        dayData.totalMinutes = dayData.walking + dayData.swimming + dayData.running + \n                             dayData.biking + dayData['muscle-strengthening'] + \n                             dayData.balance + dayData.other;\n      }\n    });\n    \n    return groupedData;\n  };\n\n  const groupedData = processExerciseData(weekData);\n\n  // Calculate weekly exercise categories for physician view\n  const aerobic = Object.values(groupedData).reduce((sum, day) => \n    sum + day.walking + day.swimming + day.running + day.biking, 0);\n  const strength = Object.values(groupedData).reduce((sum, day) => \n    sum + day['muscle-strengthening'], 0);\n  const flexibility = Object.values(groupedData).reduce((sum, day) => \n    sum + day.balance, 0);\n  \n  const strengthSessions = Object.values(groupedData).filter(day => day['muscle-strengthening'] > 0).length;\n  const flexibilitySessions = Object.values(groupedData).filter(day => day.balance > 0).length;\n  \n  const weeklyCategories = {\n    aerobic,\n    strength,\n    flexibility,\n    strengthSessions,\n    flexibilitySessions\n  };\n\n  // Calculate percentages for physician view\n  const aerobicGoal = 150;\n  const strengthGoal = 2;\n  const flexibilityGoal = 1;\n  \n  const categoryPercentages = {\n    aerobic: Math.min(100, Math.round((weeklyCategories.aerobic / aerobicGoal) * 100)),\n    strength: Math.min(100, Math.round((weeklyCategories.strengthSessions / strengthGoal) * 100)),\n    flexibility: Math.min(100, Math.round((weeklyCategories.flexibilitySessions / flexibilityGoal) * 100))\n  };\n\n  const exerciseValues = Object.values(groupedData).map(day => day.totalMinutes);\n  const maxVal = exerciseValues.length > 0 ? Math.max(...exerciseValues, 0) : 0;\n  const maxDuration = Math.max(60, Math.ceil(maxVal / 30) * 30);\n\n  const generateYAxisLabels = (max) => {\n    if (max === 0) return [0];\n    const step = Math.max(15, Math.ceil(max / 6 / 15) * 15);\n    const labels = [];\n    for (let i = 0; i <= max; i += step) {\n      labels.push(i);\n    }\n    return labels;\n  };\n\n  const yAxisLabels = generateYAxisLabels(maxDuration);\n\n  // Calculate summary statistics for physician view\n  let weekSummary = null;\n  if (weekData.length > 0) {\n\n    const totalMinutes = Object.values(groupedData).reduce((sum, day) => sum + day.totalMinutes, 0);\n    const avgMinutesPerDay = (totalMinutes / 7).toFixed(0);\n    \n    // Count days with exercise\n    const daysWithExercise = Object.values(groupedData).filter(day => day.totalMinutes > 0).length;\n    \n    // Find most common exercise type\n    const exerciseTypeTotals = {};\n    exerciseTypes.forEach(type => {\n      exerciseTypeTotals[type.key] = Object.values(groupedData).reduce((sum, day) => sum + day[type.key], 0);\n    });\n    \n    const mostCommonExercise = Object.entries(exerciseTypeTotals)\n      .sort(([,a], [,b]) => b - a)[0];\n    \n    // Calculate exercise consistency (days with 30+ minutes)\n    const daysWithAdequateExercise = Object.values(groupedData).filter(day => day.totalMinutes >= 30).length;\n    \n    // Calculate average session length\n    const totalSessions = weekData.filter(item => {\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      return groupedData[dayName] && groupedData[dayName].totalMinutes > 0;\n    }).length;\n    \n    const avgSessionLength = totalSessions > 0 ? (totalMinutes / totalSessions).toFixed(0) : 0;\n\n    weekSummary = {\n      totalMinutes,\n      avgMinutesPerDay,\n      daysWithExercise,\n      mostCommonExercise: mostCommonExercise[0],\n      mostCommonExerciseMinutes: mostCommonExercise[1],\n      daysWithAdequateExercise,\n      totalSessions,\n      avgSessionLength\n    };\n  }\n\n  // Calculate 3-month summary statistics for physician view\n  let threeMonthSummary = null;\n  let threeMonthWeeklyGoalsSummary = null;\n  if (threeMonthData.length > 0) {\n\n    // Group 3-month data by day\n    const threeMonthGroupedData = {};\n    threeMonthData.forEach(item => {\n      if (!item.date) return;\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      if (!threeMonthGroupedData[dayName]) {\n        threeMonthGroupedData[dayName] = { walking: 0, swimming: 0, running: 0, biking: 0, 'muscle-strengthening': 0, balance: 0, other: 0, totalMinutes: 0 };\n      }\n      threeMonthGroupedData[dayName].walking += Number(item.walking) || 0;\n      threeMonthGroupedData[dayName].swimming += Number(item.swimming) || 0;\n      threeMonthGroupedData[dayName].running += Number(item.running) || 0;\n      threeMonthGroupedData[dayName].biking += Number(item.biking) || 0;\n      threeMonthGroupedData[dayName]['muscle-strengthening'] += Number(item['muscle-strengthening']) || 0;\n      threeMonthGroupedData[dayName].balance += Number(item.balance) || 0;\n      threeMonthGroupedData[dayName].other += Number(item.other) || 0;\n      threeMonthGroupedData[dayName].totalMinutes = threeMonthGroupedData[dayName].walking + threeMonthGroupedData[dayName].swimming + threeMonthGroupedData[dayName].running + threeMonthGroupedData[dayName].biking + threeMonthGroupedData[dayName]['muscle-strengthening'] + threeMonthGroupedData[dayName].balance + threeMonthGroupedData[dayName].other;\n    });\n\n    const totalMinutes = Object.values(threeMonthGroupedData).reduce((sum, day) => sum + day.totalMinutes, 0);\n    \n    // Calculate actual days in the 3-month period\n    const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n    const daysInThreeMonths = Math.ceil((endOfThreeMonths - startOfThreeMonths) / (1000 * 60 * 60 * 24)) + 1;\n    const avgMinutesPerDay = (totalMinutes / daysInThreeMonths).toFixed(0);\n    \n    // Count days with exercise\n    const daysWithExercise = Object.values(threeMonthGroupedData).filter(day => day.totalMinutes > 0).length;\n    \n    // Find most common exercise type\n    const exerciseTypeTotals = {};\n    exerciseTypes.forEach(type => {\n      exerciseTypeTotals[type.key] = Object.values(threeMonthGroupedData).reduce((sum, day) => sum + day[type.key], 0);\n    });\n    \n    const mostCommonExercise = Object.entries(exerciseTypeTotals)\n      .sort(([,a], [,b]) => b - a)[0];\n    \n    // Calculate average session length\n    const totalSessions = threeMonthData.filter(item => {\n      const date = new Date(item.date);\n      const dayName = !isNaN(date.getTime()) ? daysOfWeek[date.getDay()] : 'Invalid';\n      return threeMonthGroupedData[dayName] && threeMonthGroupedData[dayName].totalMinutes > 0;\n    }).length;\n    \n    const avgSessionLength = totalSessions > 0 ? (totalMinutes / totalSessions).toFixed(0) : 0;\n\n    threeMonthSummary = {\n      totalMinutes,\n      avgMinutesPerDay,\n      daysWithExercise,\n      mostCommonExercise: mostCommonExercise[0],\n      mostCommonExerciseMinutes: mostCommonExercise[1],\n      totalSessions,\n      avgSessionLength\n    };\n\n    // Calculate weekly goals met in 3-month period\n    // Split 3-month data into weeks and check goal achievement for each week\n    const weeklyGoalsData = [];\n    let currentWeekStart = new Date(startOfThreeMonths);\n    currentWeekStart.setHours(0, 0, 0, 0);\n    \n    // Adjust to start of week (Sunday)\n    const dayOfWeek = currentWeekStart.getDay();\n    currentWeekStart.setDate(currentWeekStart.getDate() - dayOfWeek);\n\n    while (currentWeekStart <= endOfThreeMonths) {\n      const weekEnd = new Date(currentWeekStart);\n      weekEnd.setDate(weekEnd.getDate() + 6);\n      weekEnd.setHours(23, 59, 59, 999);\n\n      // Get data for this week\n      const weekDataForAnalysis = threeMonthData.filter(d => {\n        if (!d.date) return false;\n        const itemDate = new Date(d.date);\n        return itemDate >= currentWeekStart && itemDate <= weekEnd;\n      });\n\n      if (weekDataForAnalysis.length > 0) {\n        // Process week data similar to weekly calculation\n        const weekGroupedData = processExerciseData(weekDataForAnalysis);\n        \n        const weekAerobic = Object.values(weekGroupedData).reduce((sum, day) => \n          sum + day.walking + day.swimming + day.running + day.biking, 0);\n        const weekStrengthSessions = Object.values(weekGroupedData).filter(day => day['muscle-strengthening'] > 0).length;\n        const weekFlexibilitySessions = Object.values(weekGroupedData).filter(day => day.balance > 0).length;\n\n        // Check if goals are met\n        const aerobicGoalMet = weekAerobic >= 150;\n        const strengthGoalMet = weekStrengthSessions >= 2;\n        const flexibilityGoalMet = weekFlexibilitySessions >= 1;\n        const allGoalsMet = aerobicGoalMet && strengthGoalMet && flexibilityGoalMet;\n\n        weeklyGoalsData.push({\n          aerobicGoalMet,\n          strengthGoalMet,\n          flexibilityGoalMet,\n          allGoalsMet\n        });\n      }\n\n      // Move to next week\n      currentWeekStart.setDate(currentWeekStart.getDate() + 7);\n    }\n\n    // Count weeks that met goals\n    const weeksMetAerobicGoal = weeklyGoalsData.filter(w => w.aerobicGoalMet).length;\n    const weeksMetStrengthGoal = weeklyGoalsData.filter(w => w.strengthGoalMet).length;\n    const weeksMetFlexibilityGoal = weeklyGoalsData.filter(w => w.flexibilityGoalMet).length;\n    const weeksMetAllGoals = weeklyGoalsData.filter(w => w.allGoalsMet).length;\n    const totalWeeks = weeklyGoalsData.length;\n\n    threeMonthWeeklyGoalsSummary = {\n      totalWeeks,\n      weeksMetAerobicGoal,\n      weeksMetStrengthGoal,\n      weeksMetFlexibilityGoal,\n      weeksMetAllGoals\n    };\n  }\n\n\n  // Weekly goals view (when showWeeklyGoals is true)\n  if (showWeeklyGoals) {\n    const categories = [\n      { \n        name: 'Aerobic', \n        value: weeklyCategories.aerobic, \n        goal: 150, \n        percentage: categoryPercentages.aerobic,\n        color: '#4CAF50',\n        description: '150 min/week goal'\n      },\n      { \n        name: 'Strength', \n        value: weeklyCategories.strengthSessions, \n        goal: 2, \n        percentage: categoryPercentages.strength,\n        color: '#2196F3',\n        description: '2+ sessions/week'\n      },\n      { \n        name: 'Balance', \n        value: weeklyCategories.flexibilitySessions, \n        goal: 1, \n        percentage: categoryPercentages.flexibility,\n        color: '#FF9800',\n        description: '1+ session/week'\n      }\n    ];\n\n    return (\n      <div className={`exercise-chart-container ${isExpanded ? 'expanded' : ''}`}>\n        <div className=\"exercise-header\">\n          <h3 className=\"chart-title\">Exercise Goals Progress</h3>\n          <h4 className=\"chart-subtitle\">{nav.getFormattedDateRange()}</h4>\n          \n          {/* View Toggle - Hide for Physician (single view only), show for Patient and Admin */}\n          {accessType !== 'Physician' && (\n            <div className=\"view-toggle\">\n              <button \n                className={`toggle-btn ${!showWeeklyGoals ? 'active' : ''}`}\n                onClick={() => setShowWeeklyGoals(false)}\n              >\n                Activity Breakdown\n              </button>\n              <button \n                className={`toggle-btn ${showWeeklyGoals ? 'active' : ''}`}\n                onClick={() => setShowWeeklyGoals(true)}\n              >\n                Weekly Goals\n              </button>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"physician-exercise-bars\">\n          {categories.map((category, index) => (\n            <div key={category.name} className=\"exercise-category-bar\">\n              <div className=\"category-header\">\n                <span className=\"category-name\">{category.name}</span>\n                <span className=\"category-percentage\">{category.percentage}%</span>\n              </div>\n              <div className=\"bar-container\">\n                <div \n                  className=\"bar-fill\" \n                  style={{ \n                    width: `${category.percentage}%`,\n                    backgroundColor: category.color,\n                    opacity: category.percentage > 0 ? 0.8 : 0.3\n                  }}\n                />\n              </div>\n              <div className=\"category-details\">\n                <span className=\"category-value\">\n                  {category.name === 'Aerobic' ? `${category.value} min` : `${category.value} sessions`}\n                </span>\n                <span className=\"category-goal\">Goal: {category.description}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"summary-container\">\n          <div className=\"chart-summary\">\n            <h4>Week Summary</h4>\n            <div className=\"summary-stats\">\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">Aerobic Activity:</span>\n                <span className=\"stat-value\">{weeklyCategories.aerobic} minutes</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">Strength Sessions:</span>\n                <span className=\"stat-value\">{weeklyCategories.strengthSessions} sessions</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">Balance Sessions:</span>\n                <span className=\"stat-value\">{weeklyCategories.flexibilitySessions} sessions</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">Goal Achievement:</span>\n                <span className=\"stat-value\">\n                  {Object.values(categoryPercentages).filter(p => p >= 100).length}/3 categories\n                </span>\n              </div>\n            </div>\n          </div>\n          \n          {showThreeMonthSummaries && threeMonthWeeklyGoalsSummary && (\n            <div className=\"chart-summary\">\n              <h4>3-Month Summary</h4>\n              <div className=\"summary-stats\">\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Weeks Analyzed:</span>\n                  <span className=\"stat-value\">\n                    {threeMonthWeeklyGoalsSummary.totalWeeks} weeks\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Weekly Goals Met:</span>\n                  <span className=\"stat-value\">\n                    {threeMonthWeeklyGoalsSummary.weeksMetAllGoals} out of {threeMonthWeeklyGoalsSummary.totalWeeks} weeks\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Aerobic Goal Met:</span>\n                  <span className=\"stat-value\">\n                    {threeMonthWeeklyGoalsSummary.weeksMetAerobicGoal} weeks\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Strength Goal Met:</span>\n                  <span className=\"stat-value\">\n                    {threeMonthWeeklyGoalsSummary.weeksMetStrengthGoal} weeks\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Balance Goal Met:</span>\n                  <span className=\"stat-value\">\n                    {threeMonthWeeklyGoalsSummary.weeksMetFlexibilityGoal} weeks\n                  </span>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n      <div className={`exercise-chart-container ${isExpanded ? 'expanded' : ''}`}>\n        <div className=\"exercise-header\">\n          <h3 className=\"chart-title\">Activity Breakdown by Type</h3>\n          <h4 className=\"chart-subtitle\">{nav.getFormattedDateRange()}</h4>\n          \n          {/* View Toggle - Hide for Physician (single view only), show for Patient and Admin */}\n          {accessType !== 'Physician' && (\n            <div className=\"view-toggle\">\n              <button \n                className={`toggle-btn ${!showWeeklyGoals ? 'active' : ''}`}\n                onClick={() => setShowWeeklyGoals(false)}\n              >\n                Activity Breakdown\n              </button>\n              <button \n                className={`toggle-btn ${showWeeklyGoals ? 'active' : ''}`}\n                onClick={() => setShowWeeklyGoals(true)}\n              >\n                Weekly Goals\n              </button>\n            </div>\n          )}\n        </div>\n        \n        <svg \n          width=\"100%\" \n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"exercise-svg\"\n        >\n          <g className=\"y-axis\">\n            {yAxisLabels.map(value => {\n              const y = config.padding.top + chartHeight - (value / maxDuration) * chartHeight;\n              return (\n                <g key={value} className=\"y-axis-grid-group\">\n                  <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n                  <text x={config.padding.left - 15} y={y + 3} fontSize={config.fontSize.yAxis} textAnchor=\"end\" fill=\"var(--chart-color-text-secondary)\" className=\"chart-tick-label\">{value}</text>\n                </g>\n              );\n            })}\n            <text x={-(config.padding.top + chartHeight / 2)} y={config.padding.left / 2 - 5} fontSize={config.fontSize.yAxisTitle} textAnchor=\"middle\" fill=\"var(--chart-color-text-primary)\" transform=\"rotate(-90)\" className=\"y-axis-title\">Minutes</text>\n          </g>\n\n          <g className=\"x-axis\">\n            {daysOfWeek.map((day, dayIndex) => {\n              const date = new Date(startOfWeek);\n              date.setDate(date.getDate() + dayIndex);\n              const x = config.padding.left + dayIndex * config.dayWidth + config.dayWidth / 2;\n\n              const dayData = groupedData[day];\n              const performedExercises = exerciseTypes.filter(type => (dayData[type.key] || 0) > 0);\n              const emojis = performedExercises.map(type => type.emoji).join(' ');\n\n              return (\n                <g key={dayIndex} className=\"x-axis-label-group\">\n                  <line className=\"chart-grid-line-vertical\" x1={config.padding.left + dayIndex * config.dayWidth} y1={config.padding.top} x2={config.padding.left + dayIndex * config.dayWidth} y2={config.height - config.padding.bottom} />\n                  <text x={x} y={config.height - config.padding.bottom + 15} textAnchor=\"middle\" fontSize={config.fontSize.dayLabel} fill=\"var(--chart-color-text-primary)\" className=\"x-axis-day-label\">{day}</text>\n                  <text x={x} y={config.height - config.padding.bottom + 30} textAnchor=\"middle\" fontSize={config.fontSize.dateLabel} fill=\"var(--chart-color-text-secondary)\" className=\"x-axis-date-label\">{date.getDate()}</text>\n                  <text x={x} y={config.height - config.padding.bottom + 48} textAnchor=\"middle\" fontSize={config.fontSize.emoji}>{emojis}</text>\n                </g>\n              );\n            })}\n          </g>\n\n          <g className=\"data-bars\">\n            {daysOfWeek.map((day, dayIndex) => {\n              const dayData = groupedData[day];\n              const x = config.padding.left + dayIndex * config.dayWidth + config.dayWidth / 2;\n              let currentY = config.height - config.padding.bottom;\n\n              return (\n                <g key={day}>\n                  {exerciseTypes.map(type => {\n                    const minutes = Number(dayData[type.key]) || 0;\n                    if (minutes <= 0) return null;\n\n                    const segmentHeight = (minutes / maxDuration) * chartHeight;\n                    const segmentY = currentY - segmentHeight;\n\n                    const segment = (\n                      <g key={type.key}>\n                        <rect\n                          x={x - config.barWidth / 2}\n                          y={segmentY}\n                          width={config.barWidth}\n                          height={segmentHeight}\n                          fill={type.color}\n                          className=\"data-bar\"\n                        >\n                          <title>{`${type.label}: ${Math.round(minutes)} min`}</title>\n                        </rect>\n                        {/* Duration label inside the segment */}\n                        {segmentHeight >= 12 && (\n                          <text\n                            x={x}\n                            y={segmentY + segmentHeight / 2}\n                            textAnchor=\"middle\"\n                            fontSize={isExpanded ? 8 : 6}\n                            fill=\"black\"\n                            className=\"duration-label\"\n                          >\n                            {Math.round(minutes)}\n                          </text>\n                        )}\n                      </g>\n                    );\n\n                    currentY = segmentY;\n                    return segment;\n                  })}\n                </g>\n              );\n            })}\n          </g>\n        </svg>\n        \n        <Legend \n          title=\"Exercise Type\" \n          items={exerciseLegendItems} \n          orientation=\"horizontal\" \n          size=\"medium\" \n          hide={screenshotMode}\n        />\n\n        {/* Show summary for physician/unified view */}\n        {weekSummary && (\n          <div className=\"summary-container\">\n            <div className=\"chart-summary\">\n              <h4>Week Summary</h4>\n              <div className=\"summary-stats\">\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Total Exercise:</span>\n                  <span className=\"stat-value\">\n                    {weekSummary.totalMinutes} minutes\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Daily Average:</span>\n                  <span className=\"stat-value\">\n                    {weekSummary.avgMinutesPerDay} minutes/day\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Exercise Days:</span>\n                  <span className=\"stat-value\">\n                    {weekSummary.daysWithExercise}/7 days\n                  </span>\n                </div>\n\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Most Common:</span>\n                  <span className=\"stat-value\">\n                    {exerciseTypes.find(t => t.key === weekSummary.mostCommonExercise)?.emoji} {weekSummary.mostCommonExercise} ({weekSummary.mostCommonExerciseMinutes} min)\n                  </span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Avg Session:</span>\n                  <span className=\"stat-value\">\n                    {weekSummary.avgSessionLength} minutes\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            {showThreeMonthSummaries && threeMonthSummary && (\n              <div className=\"chart-summary\">\n                <h4>3-Month Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Exercise:</span>\n                    <span className=\"stat-value\">\n                      {threeMonthSummary.totalMinutes} minutes\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Daily Average:</span>\n                    <span className=\"stat-value\">\n                      {threeMonthSummary.avgMinutesPerDay} minutes/day\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Exercise Days:</span>\n                    <span className=\"stat-value\">\n                      {threeMonthSummary.daysWithExercise} days\n                    </span>\n                  </div>\n\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Most Common:</span>\n                    <span className=\"stat-value\">\n                      {exerciseTypes.find(t => t.key === threeMonthSummary.mostCommonExercise)?.emoji} {threeMonthSummary.mostCommonExercise} ({threeMonthSummary.mostCommonExerciseMinutes} min)\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Avg Session:</span>\n                    <span className=\"stat-value\">\n                      {threeMonthSummary.avgSessionLength} minutes\n                    </span>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n  );\n};\n\nexport default ExerciseChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}