{"ast":null,"code":"/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides comprehensive blood pressure tracking:\n - Systolic and diastolic pressure visualization\n - Risk categorization with color coding\n - Daily and weekly trend analysis\n - Multiple daily measurements display\n - Interactive tooltips with BP details\n - Navigation controls for time periods\n \n ARCHITECTURE:\n - Uses custom SVG for precise blood pressure visualization\n - Implements dual-axis system for systolic and diastolic values\n - Provides risk-based color coding for clinical interpretation\n - Supports multiple daily readings with time-based positioning\n - Implements configurable layouts\n \n Visualization Features:\n - Dual-line chart showing systolic and diastolic trends\n - Color-coded risk categories (normal, elevated, high, crisis)\n - Time-based positioning for multiple daily readings\n - Interactive tooltips with detailed BP information\n - Grid system with proper axis scaling\n \n Clinical Features:\n - Risk categorization based on medical guidelines\n - Summary statistics for physician view\n - Trend analysis over time periods\n - Educational information for patient view\n \n Component Structure:\n - Y-Axis: Dual-axis system for systolic and diastolic values\n - X-Axis: Time-based axis with day and time labels\n - DataPoints: Interactive blood pressure readings\n - Legend: Risk category explanations\n - Tooltip: Detailed reading information\n \n Critical for cardiovascular health monitoring and hypertension management.\n */import React,{useState,useRef,useLayoutEffect}from'react';import usePatientData from'../../hooks/usePatientData';import useChartNavigation from'../../hooks/useChartNavigation';import Legend from'../Legend';import InfoBox from'../InfoBox';import Tooltip from'../ui/Tooltip';import'./BloodPressureChart.css';// Constants\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TIME_LABELS=['12a','12p','12a'];const TIME_HOURS=[0,12,24];// Helper Functions\nconst getWeekStart=date=>{const d=new Date(date);const day=d.getDay();const diff=d.getDate()-day;return new Date(d.setDate(diff));};const formatDayLabel=date=>{const dayNames=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];return dayNames[date.getDay()];};const getTimePosition=(date,dayIndex,config)=>{const hour=date.getHours()+date.getMinutes()/60;const timeRatio=hour/24;const dayContentWidth=config.dayWidth-config.dayPadding*2;return config.padding.left+dayIndex*config.dayWidth+config.dayPadding+timeRatio*dayContentWidth;};// Chart Sub-components\nconst YAxis=_ref=>{let{config,type}=_ref;const chartHeight=config.height-config.padding.top-config.padding.bottom;const yAxisLabels=config.yAxisLabels[type];const valueRange=config.yAxisRange[type];const yOffset=config.yAxisOffset[type];return/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis\",children:[/*#__PURE__*/_jsx(\"text\",{x:config.padding.left/3,y:config.padding.top+chartHeight/2,fontSize:config.fontSize.yAxisTitle,textAnchor:\"middle\",className:\"y-axis-title\",transform:\"rotate(-90, \".concat(config.padding.left/3,\", \").concat(config.padding.top+chartHeight/2,\")\"),children:\"mm Hg\"}),yAxisLabels.map(value=>{const y=config.height-config.padding.bottom-(value-yOffset)/valueRange*chartHeight;return/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis-grid-group\",children:[/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-horizontal\",x1:config.padding.left,y1:y,x2:config.width-config.padding.right,y2:y}),/*#__PURE__*/_jsx(\"text\",{x:config.padding.left-10,y:y+3,fontSize:config.fontSize.yAxis,textAnchor:\"end\",className:\"chart-tick-label\",children:value})]},value);})]});};// Blood Pressure Range Background Component\nconst BPRangeBackground=_ref2=>{let{config}=_ref2;const chartHeight=config.height-config.padding.top-config.padding.bottom;const systolicRange=config.yAxisRange.systolic;const diastolicRange=config.yAxisRange.diastolic;const systolicOffset=config.yAxisOffset.systolic;const diastolicOffset=config.yAxisOffset.diastolic;// Define BP ranges (systolic/diastolic)\nconst ranges=[{name:'High',systolic:[140,200],diastolic:[90,120],color:'var(--chart-color-orange)',opacity:0.1},{name:'Pre-high',systolic:[120,140],diastolic:[80,90],color:'var(--chart-color-yellow)',opacity:0.1},{name:'Ideal',systolic:[90,120],diastolic:[60,80],color:'var(--chart-color-blue)',opacity:0.1},{name:'Low',systolic:[0,90],diastolic:[0,60],color:'var(--chart-color-danger)',opacity:0.1}];return/*#__PURE__*/_jsx(\"g\",{className:\"bp-range-background\",children:ranges.map((range,index)=>{// Calculate Y positions for systolic range\nconst systolicTopY=config.height-config.padding.bottom-(range.systolic[1]-systolicOffset)/systolicRange*chartHeight;const systolicBottomY=config.height-config.padding.bottom-(range.systolic[0]-systolicOffset)/systolicRange*chartHeight;// Calculate Y positions for diastolic range  \nconst diastolicTopY=config.height-config.padding.bottom-(range.diastolic[1]-diastolicOffset)/diastolicRange*chartHeight;const diastolicBottomY=config.height-config.padding.bottom-(range.diastolic[0]-diastolicOffset)/diastolicRange*chartHeight;// Create overlapping rectangles for the range\nreturn/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:config.padding.left,y:Math.min(systolicTopY,systolicBottomY),width:config.width-config.padding.left-config.padding.right,height:Math.abs(systolicBottomY-systolicTopY),fill:range.color,opacity:range.opacity,className:\"bp-range-\".concat(range.name.toLowerCase())}),/*#__PURE__*/_jsx(\"rect\",{x:config.padding.left,y:Math.min(diastolicTopY,diastolicBottomY),width:config.width-config.padding.left-config.padding.right,height:Math.abs(diastolicBottomY-diastolicTopY),fill:range.color,opacity:range.opacity,className:\"bp-range-\".concat(range.name.toLowerCase())})]},range.name);})});};// New Dual Y-Axis Component for Combined Chart\nconst DualYAxis=_ref3=>{let{config}=_ref3;const chartHeight=config.height-config.padding.top-config.padding.bottom;const systolicLabels=config.yAxisLabels.systolic;const diastolicLabels=config.yAxisLabels.diastolic;const systolicRange=config.yAxisRange.systolic;const diastolicRange=config.yAxisRange.diastolic;const systolicOffset=config.yAxisOffset.systolic;const diastolicOffset=config.yAxisOffset.diastolic;return/*#__PURE__*/_jsxs(\"g\",{className:\"dual-y-axis\",children:[/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis-left\",children:[/*#__PURE__*/_jsx(\"text\",{x:config.padding.left/3,y:config.padding.top+chartHeight/2,fontSize:config.fontSize.yAxisTitle,textAnchor:\"middle\",className:\"y-axis-title\",transform:\"rotate(-90, \".concat(config.padding.left/3,\", \").concat(config.padding.top+chartHeight/2,\")\"),children:\"Systolic (mmHg)\"}),systolicLabels.map(value=>{const y=config.height-config.padding.bottom-(value-systolicOffset)/systolicRange*chartHeight;return/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis-grid-group\",children:[/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-horizontal\",x1:config.padding.left,y1:y,x2:config.width-config.padding.right,y2:y}),/*#__PURE__*/_jsx(\"text\",{x:config.padding.left-10,y:y+3,fontSize:config.fontSize.yAxis,textAnchor:\"end\",className:\"chart-tick-label systolic-label\",fill:\"black\",children:value})]},\"systolic-\".concat(value));})]}),/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis-right\",children:[/*#__PURE__*/_jsx(\"text\",{x:config.width-config.padding.right/3,y:config.padding.top+chartHeight/2,fontSize:config.fontSize.yAxisTitle,textAnchor:\"middle\",className:\"y-axis-title\",transform:\"rotate(90, \".concat(config.width-config.padding.right/3,\", \").concat(config.padding.top+chartHeight/2,\")\"),children:\"Diastolic (mmHg)\"}),diastolicLabels.map(value=>{const y=config.height-config.padding.bottom-(value-diastolicOffset)/diastolicRange*chartHeight;return/*#__PURE__*/_jsx(\"g\",{className:\"y-axis-grid-group\",children:/*#__PURE__*/_jsx(\"text\",{x:config.width-config.padding.right+10,y:y+3,fontSize:config.fontSize.yAxis,textAnchor:\"start\",className:\"chart-tick-label diastolic-label\",fill:\"var(--chart-color-green)\",children:value})},\"diastolic-\".concat(value));})]})]});};const XAxis=_ref4=>{let{config,weekDays}=_ref4;return/*#__PURE__*/_jsxs(\"g\",{className:\"x-axis\",children:[weekDays.map((day,dayIndex)=>{const dayX=config.padding.left+dayIndex*config.dayWidth;const dayCenterX=dayX+config.dayWidth/2;// Tick positions\nconst startTickX=dayX;const middleTickX=dayX+config.dayWidth/2;return/*#__PURE__*/_jsxs(\"g\",{className:\"x-axis-label-group\",children:[/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:startTickX,y1:config.height-config.padding.bottom,x2:startTickX,y2:config.height-config.padding.bottom+5,stroke:\"var(--chart-color-neutral)\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:middleTickX,y1:config.height-config.padding.bottom,x2:middleTickX,y2:config.height-config.padding.bottom+5,stroke:\"var(--chart-color-neutral)\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:startTickX,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12a\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:middleTickX,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12p\"}),/*#__PURE__*/_jsx(\"text\",{x:dayCenterX,y:config.height-config.padding.bottom+35,textAnchor:\"middle\",className:\"x-axis-day-label\",fontSize:config.fontSize.dayLabel,style:{fontSize:'8px'},children:formatDayLabel(day)}),/*#__PURE__*/_jsx(\"text\",{x:dayCenterX,y:config.height-config.padding.bottom+52,textAnchor:\"middle\",className:\"x-axis-date-label\",fontSize:config.fontSize.dateLabel,style:{fontSize:'8px'},children:day.getDate()})]},dayIndex);}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:config.padding.left+weekDays.length*config.dayWidth,y1:config.height-config.padding.bottom,x2:config.padding.left+weekDays.length*config.dayWidth,y2:config.height-config.padding.bottom+5,stroke:\"var(--chart-color-neutral)\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:config.padding.left+weekDays.length*config.dayWidth,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12a\"})]});};const GridLines=_ref5=>{let{config,weekDays}=_ref5;return/*#__PURE__*/_jsxs(\"g\",{className:\"grid-lines\",children:[weekDays.map((_,dayIndex)=>{const dayX=config.padding.left+dayIndex*config.dayWidth;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical\",x1:dayX,y1:config.padding.top,x2:dayX,y2:config.height-config.padding.bottom}),[0,12].map(hour=>{const timeRatio=hour/24;const x=config.padding.left+dayIndex*config.dayWidth+timeRatio*config.dayWidth;return/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical-time\",x1:x,y1:config.padding.top,x2:x,y2:config.height-config.padding.bottom},\"\".concat(dayIndex,\"-\").concat(hour));})]},dayIndex);}),/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical\",x1:config.padding.left+weekDays.length*config.dayWidth,y1:config.padding.top,x2:config.padding.left+weekDays.length*config.dayWidth,y2:config.height-config.padding.bottom})]});};const DataBars=_ref6=>{let{readings,type,config,onBarHover,onBarLeave}=_ref6;const chartHeight=config.height-config.padding.top-config.padding.bottom;const valueRange=config.yAxisRange[type];const yOffset=config.yAxisOffset[type];const getColor=type==='systolic'?getSystolicColor:getDiastolicColor;return/*#__PURE__*/_jsx(\"g\",{className:\"data-bars\",children:readings.map((reading,index)=>{const readingDate=new Date(reading.date);const dayIndex=readingDate.getDay();const x=getTimePosition(readingDate,dayIndex,config);const value=reading[type];const barHeight=value/valueRange*chartHeight;const y=config.height-config.padding.bottom-barHeight;const handleMouseEnter=event=>{const tooltipData={type:type==='systolic'?'Systolic':'Diastolic',value:value,unit:'mmHg',time:readingDate.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true}),date:readingDate.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'}),position:{x:event.clientX,y:event.clientY}};onBarHover(tooltipData);};const handleMouseLeave=()=>{onBarLeave();};return/*#__PURE__*/_jsx(\"rect\",{x:x-config.barWidth/2,y:y,width:config.barWidth,height:Math.max(0,barHeight),fill:getColor(value),style:{cursor:'pointer'},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave},index);})});};// New Combined I-Bar Chart Component\nconst CombinedDataBars=_ref7=>{let{readings,config,onBarHover,onBarLeave}=_ref7;const chartHeight=config.height-config.padding.top-config.padding.bottom;const systolicRange=config.yAxisRange.systolic;const diastolicRange=config.yAxisRange.diastolic;const systolicOffset=config.yAxisOffset.systolic;const diastolicOffset=config.yAxisOffset.diastolic;return/*#__PURE__*/_jsx(\"g\",{className:\"combined-data-bars\",children:readings.map((reading,index)=>{const readingDate=new Date(reading.date);const dayIndex=readingDate.getDay();const x=getTimePosition(readingDate,dayIndex,config);// Calculate positions for both systolic and diastolic\nconst systolicValue=reading.systolic;const diastolicValue=reading.diastolic;const systolicBarHeight=systolicValue/systolicRange*chartHeight;const diastolicBarHeight=diastolicValue/diastolicRange*chartHeight;const systolicY=config.height-config.padding.bottom-systolicBarHeight;const diastolicY=config.height-config.padding.bottom-diastolicBarHeight;// Determine overall risk color based on both values\nconst getCombinedRiskColor=(systolic,diastolic)=>{if(systolic>=140||diastolic>=90)return'var(--chart-color-orange)';// High\nif(systolic>=120||diastolic>=80)return'var(--chart-color-yellow)';// Pre-high\nif(systolic<90||diastolic<60)return'var(--chart-color-danger)';// Low\nreturn'var(--chart-color-blue)';// Ideal\n};const riskColor=getCombinedRiskColor(systolicValue,diastolicValue);const handleMouseEnter=event=>{const tooltipData={type:'Blood Pressure',systolic:systolicValue,diastolic:diastolicValue,unit:'mmHg',time:readingDate.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true}),date:readingDate.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'}),position:{x:event.clientX,y:event.clientY}};onBarHover(tooltipData);};const handleMouseLeave=()=>{onBarLeave();};return/*#__PURE__*/_jsxs(\"g\",{className:\"bp-reading-group\",children:[/*#__PURE__*/_jsx(\"line\",{x1:x,y1:systolicY,x2:x,y2:diastolicY,stroke:riskColor,strokeWidth:\"3\",style:{cursor:'pointer'},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave}),/*#__PURE__*/_jsx(\"circle\",{cx:x,cy:systolicY,r:\"4\",fill:riskColor,style:{cursor:'pointer'},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave}),/*#__PURE__*/_jsx(\"circle\",{cx:x,cy:diastolicY,r:\"4\",fill:riskColor,style:{cursor:'pointer'},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave})]},index);})});};const Chart=_ref8=>{let{type,weekData,isExpanded,weekDays,containerWidth,onBarHover,onBarLeave}=_ref8;// Simple inline config - no factory pattern needed\nconst config=isExpanded?{width:700,height:550,padding:{top:80,right:60,bottom:100,left:80},dayWidth:80,fontSize:{yAxis:16,yAxisTitle:18,timeLabel:14,dayLabel:14,dateLabel:14},barWidth:12,yAxisRange:{systolic:200,diastolic:120},yAxisOffset:{systolic:0,diastolic:0},yAxisLabels:{systolic:[0,40,80,120,160,200],diastolic:[0,20,40,60,80,100,120]},dayPadding:10}:{width:450,height:350,padding:{top:60,right:40,bottom:80,left:60},dayWidth:50,fontSize:{yAxis:14,yAxisTitle:16,timeLabel:12,dayLabel:12,dateLabel:12},barWidth:8,yAxisRange:{systolic:200,diastolic:120},yAxisOffset:{systolic:0,diastolic:0},yAxisLabels:{systolic:[0,100,200],diastolic:[0,60,120]},dayPadding:6};const readings=weekData.filter(d=>d[type]&&d[type]>0);return/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section \".concat(isExpanded?'expanded':''),children:[/*#__PURE__*/_jsx(\"h4\",{className:\"chart-subtitle\",children:type==='systolic'?'Systolic':'Diastolic'}),/*#__PURE__*/_jsx(\"div\",{className:\"bp-svg-container\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 \".concat(config.width,\" \").concat(config.height),className:\"chart-svg\",children:[/*#__PURE__*/_jsx(GridLines,{config:config,weekDays:weekDays}),/*#__PURE__*/_jsx(YAxis,{config:config,type:type}),/*#__PURE__*/_jsx(XAxis,{config:config,weekDays:weekDays}),/*#__PURE__*/_jsx(DataBars,{readings:readings,type:type,config:config,onBarHover:onBarHover,onBarLeave:onBarLeave})]})})]});};// New Combined Chart Component\nconst CombinedChart=_ref9=>{let{weekData,isExpanded,weekDays,containerWidth,onBarHover,onBarLeave}=_ref9;// Simple inline config - no factory pattern needed\nconst config=isExpanded?{width:700,height:550,padding:{top:80,right:60,bottom:100,left:80},dayWidth:80,fontSize:{yAxis:16,yAxisTitle:18,timeLabel:14,dayLabel:14,dateLabel:14},barWidth:12,yAxisRange:{systolic:200,diastolic:120},yAxisOffset:{systolic:0,diastolic:0},yAxisLabels:{systolic:[0,40,80,120,160,200],diastolic:[0,20,40,60,80,100,120]},dayPadding:10}:{width:450,height:350,padding:{top:60,right:40,bottom:80,left:60},dayWidth:50,fontSize:{yAxis:14,yAxisTitle:16,timeLabel:12,dayLabel:12,dateLabel:12},barWidth:8,yAxisRange:{systolic:200,diastolic:120},yAxisOffset:{systolic:0,diastolic:0},yAxisLabels:{systolic:[0,100,200],diastolic:[0,60,120]},dayPadding:6};const readings=weekData.filter(d=>d.systolic&&d.diastolic&&d.systolic>0&&d.diastolic>0);return/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section combined-chart \".concat(isExpanded?'expanded':''),children:[/*#__PURE__*/_jsx(\"h4\",{className:\"chart-subtitle\",children:\"Blood Pressure (Systolic/Diastolic)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bp-svg-container\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 \".concat(config.width,\" \").concat(config.height),className:\"chart-svg\",children:[/*#__PURE__*/_jsx(BPRangeBackground,{config:config}),/*#__PURE__*/_jsx(GridLines,{config:config,weekDays:weekDays}),/*#__PURE__*/_jsx(DualYAxis,{config:config}),/*#__PURE__*/_jsx(XAxis,{config:config,weekDays:weekDays}),/*#__PURE__*/_jsx(CombinedDataBars,{readings:readings,config:config,onBarHover:onBarHover,onBarLeave:onBarLeave})]})})]});};const getSystolicColor=value=>{if(value<90)return'var(--chart-color-danger)';if(value<120)return'var(--chart-color-blue)';if(value<140)return'var(--chart-color-yellow)';return'var(--chart-color-orange)';};const getDiastolicColor=value=>{if(value<60)return'var(--chart-color-danger)';if(value<80)return'var(--chart-color-blue)';if(value<90)return'var(--chart-color-yellow)';return'var(--chart-color-orange)';};const bloodPressureLegendItems=[{color:'var(--chart-color-danger)',label:'Low',description:'Blood pressure below normal range'},{color:'var(--chart-color-blue)',label:'Ideal',description:'Blood pressure within ideal range'},{color:'var(--chart-color-yellow)',label:'Pre-high',description:'Blood pressure elevated but not yet high'},{color:'var(--chart-color-orange)',label:'High',description:'Blood pressure high - requires attention'}];// --- Main Component ---\nconst BloodPressureChart=_ref0=>{let{patientId,isExpanded=false,onExpand,viewMode='patient',navigation,screenshotMode=false,showThreeMonthSummaries=false}=_ref0;const{bloodPressureData,loading,error}=usePatientData(patientId,'bloodPressure');const[containerWidth,setContainerWidth]=useState(400);const[tooltipData,setTooltipData]=useState(null);const[tooltipPosition,setTooltipPosition]=useState({x:0,y:0});const[useCombinedView,setUseCombinedView]=useState(true);// New state for view toggle\nconst containerRef=useRef(null);// Use navigation from parent or fallback to internal navigation\nconst useInternalNavigation=!navigation;const internalNavigation=useChartNavigation('bloodPressure');const nav=navigation||internalNavigation;// Resize observer to track container width changes\nuseLayoutEffect(()=>{const observeContainer=()=>{if(containerRef.current){const resizeObserver=new ResizeObserver(entries=>{for(let entry of entries){const{width}=entry.contentRect;setContainerWidth(width);}});resizeObserver.observe(containerRef.current);return()=>resizeObserver.disconnect();}};const cleanup=observeContainer();return cleanup;},[]);const{start:weekStart,end:weekEnd}=nav.getDateRange();const weekData=bloodPressureData.filter(d=>{const readingDate=new Date(d.date);return readingDate>=weekStart&&readingDate<=weekEnd;});// Get 3-month data\nconst{start:startOfThreeMonths,end:endOfThreeMonths}=nav.getThreeMonthRange();const threeMonthData=bloodPressureData.filter(d=>{const readingDate=new Date(d.date);return readingDate>=startOfThreeMonths&&readingDate<=endOfThreeMonths;});const weekDays=Array.from({length:7},(_,i)=>{const d=new Date(weekStart);d.setDate(weekStart.getDate()+i);return d;});const formatDateRange=(start,end)=>{const startStr=start.toLocaleDateString('en-US',{month:'short',day:'numeric'});const endStr=end.toLocaleDateString('en-US',{month:'short',day:'numeric'});return\"\".concat(startStr,\" to \").concat(endStr);};const handleBarHover=data=>{setTooltipData(data);setTooltipPosition(data.position);};const handleBarLeave=()=>{setTooltipData(null);};// Calculate summary statistics for physician view\nlet weekSummary=null;if(weekData.length>0){const systolicReadings=weekData.filter(d=>d.systolic&&d.systolic>0).map(d=>d.systolic);const diastolicReadings=weekData.filter(d=>d.diastolic&&d.diastolic>0).map(d=>d.diastolic);const avgSystolic=systolicReadings.length>0?(systolicReadings.reduce((sum,val)=>sum+val,0)/systolicReadings.length).toFixed(0):0;const avgDiastolic=diastolicReadings.length>0?(diastolicReadings.reduce((sum,val)=>sum+val,0)/diastolicReadings.length).toFixed(0):0;const maxSystolic=systolicReadings.length>0?Math.max(...systolicReadings):0;const maxDiastolic=diastolicReadings.length>0?Math.max(...diastolicReadings):0;const getRiskCategory=(systolic,diastolic)=>{if(systolic>=135||diastolic>=85)return'High Risk';if(systolic>=121||diastolic>=80)return'Medium Risk';return'Low Risk';};const avgRisk=getRiskCategory(parseFloat(avgSystolic),parseFloat(avgDiastolic));const daysWithReadings=new Set(weekData.map(d=>d.date.toDateString())).size;weekSummary={avgSystolic,avgDiastolic,maxSystolic,maxDiastolic,avgRisk,daysWithReadings,totalReadings:weekData.length};}// Calculate 3-month summary statistics for physician view\nlet threeMonthSummary=null;if(threeMonthData.length>0){const systolicReadings=threeMonthData.filter(d=>d.systolic&&d.systolic>0).map(d=>d.systolic);const diastolicReadings=threeMonthData.filter(d=>d.diastolic&&d.diastolic>0).map(d=>d.diastolic);const avgSystolic=systolicReadings.length>0?(systolicReadings.reduce((sum,val)=>sum+val,0)/systolicReadings.length).toFixed(0):0;const avgDiastolic=diastolicReadings.length>0?(diastolicReadings.reduce((sum,val)=>sum+val,0)/diastolicReadings.length).toFixed(0):0;const maxSystolic=systolicReadings.length>0?Math.max(...systolicReadings):0;const maxDiastolic=diastolicReadings.length>0?Math.max(...diastolicReadings):0;const getRiskCategory=(systolic,diastolic)=>{if(systolic>=135||diastolic>=85)return'High Risk';if(systolic>=121||diastolic>=80)return'Medium Risk';return'Low Risk';};const avgRisk=getRiskCategory(parseFloat(avgSystolic),parseFloat(avgDiastolic));const daysWithReadings=new Set(threeMonthData.map(d=>d.date.toDateString())).size;threeMonthSummary={avgSystolic,avgDiastolic,maxSystolic,maxDiastolic,avgRisk,daysWithReadings,totalReadings:threeMonthData.length};}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bp-chart-container \".concat(isExpanded?'expanded':''),ref:containerRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bp-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"bp-main-title\",children:\"Blood Pressure\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"chart-subtitle\",children:nav.getFormattedDateRange()}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn \".concat(!useCombinedView?'active':''),onClick:()=>setUseCombinedView(false),children:\"Separate Charts\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn \".concat(useCombinedView?'active':''),onClick:()=>setUseCombinedView(true),children:\"Combined View\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bp-charts-wrapper\",children:useCombinedView?/*#__PURE__*/_jsx(CombinedChart,{weekData:weekData,isExpanded:isExpanded,weekDays:weekDays,containerWidth:containerWidth,onBarHover:handleBarHover,onBarLeave:handleBarLeave}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Chart,{type:\"systolic\",weekData:weekData,isExpanded:isExpanded,weekDays:weekDays,containerWidth:containerWidth,onBarHover:handleBarHover,onBarLeave:handleBarLeave}),/*#__PURE__*/_jsx(Chart,{type:\"diastolic\",weekData:weekData,isExpanded:isExpanded,weekDays:weekDays,containerWidth:containerWidth,onBarHover:handleBarHover,onBarLeave:handleBarLeave})]})}),/*#__PURE__*/_jsx(Legend,{title:\"Blood Pressure Category:\",items:bloodPressureLegendItems,hide:screenshotMode}),(viewMode==='physician'||viewMode==='unified')&&weekSummary?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InfoBox,{title:\"Blood Pressure Information\",content:\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Week Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Average BP:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.avgSystolic,\"/\",weekSummary.avgDiastolic,\" mmHg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Peak BP:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.maxSystolic,\"/\",weekSummary.maxDiastolic,\" mmHg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Reading Days:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.daysWithReadings,\"/7 days\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Readings:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:weekSummary.totalReadings})]})]})]}),showThreeMonthSummaries&&threeMonthSummary&&/*#__PURE__*/_jsxs(\"div\",{className:\"chart-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"3-Month Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Average BP:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[threeMonthSummary.avgSystolic,\"/\",threeMonthSummary.avgDiastolic,\" mmHg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Peak BP:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[threeMonthSummary.maxSystolic,\"/\",threeMonthSummary.maxDiastolic,\" mmHg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Readings:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:threeMonthSummary.totalReadings})]})]})]})]})]}):/*#__PURE__*/_jsx(InfoBox,{title:\"Blood Pressure Information\",content:\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"})]}),/*#__PURE__*/_jsx(Tooltip,{isVisible:!!tooltipData,content:tooltipData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-title\",children:[tooltipData.type,\" Blood Pressure\"]}),tooltipData.systolic&&tooltipData.diastolic?/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-value\",children:[tooltipData.systolic,\"/\",tooltipData.diastolic,\" \",tooltipData.unit]}):/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-value\",children:[tooltipData.value,\" \",tooltipData.unit]}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-time\",children:tooltipData.time}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-date\",children:tooltipData.date})]}),position:tooltipPosition})]});};export default BloodPressureChart;","map":{"version":3,"names":["React","useState","useRef","useLayoutEffect","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TIME_LABELS","TIME_HOURS","getWeekStart","date","d","Date","day","getDay","diff","getDate","setDate","formatDayLabel","dayNames","getTimePosition","dayIndex","config","hour","getHours","getMinutes","timeRatio","dayContentWidth","dayWidth","dayPadding","padding","left","YAxis","_ref","type","chartHeight","height","top","bottom","yAxisLabels","valueRange","yAxisRange","yOffset","yAxisOffset","className","children","x","y","fontSize","yAxisTitle","textAnchor","transform","concat","map","value","x1","y1","x2","width","right","y2","yAxis","BPRangeBackground","_ref2","systolicRange","systolic","diastolicRange","diastolic","systolicOffset","diastolicOffset","ranges","name","color","opacity","range","index","systolicTopY","systolicBottomY","diastolicTopY","diastolicBottomY","Math","min","abs","fill","toLowerCase","DualYAxis","_ref3","systolicLabels","diastolicLabels","XAxis","_ref4","weekDays","dayX","dayCenterX","startTickX","middleTickX","stroke","strokeWidth","timeLabel","style","dayLabel","dateLabel","length","GridLines","_ref5","_","DataBars","_ref6","readings","onBarHover","onBarLeave","getColor","getSystolicColor","getDiastolicColor","reading","readingDate","barHeight","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","max","cursor","onMouseEnter","onMouseLeave","CombinedDataBars","_ref7","systolicValue","diastolicValue","systolicBarHeight","diastolicBarHeight","systolicY","diastolicY","getCombinedRiskColor","riskColor","cx","cy","r","Chart","_ref8","weekData","isExpanded","containerWidth","filter","viewBox","CombinedChart","_ref9","bloodPressureLegendItems","label","description","BloodPressureChart","_ref0","patientId","onExpand","viewMode","navigation","screenshotMode","showThreeMonthSummaries","bloodPressureData","loading","error","setContainerWidth","setTooltipData","tooltipPosition","setTooltipPosition","useCombinedView","setUseCombinedView","containerRef","useInternalNavigation","internalNavigation","nav","observeContainer","current","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","disconnect","cleanup","start","weekStart","end","weekEnd","getDateRange","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","Array","from","i","formatDateRange","startStr","endStr","handleBarHover","data","handleBarLeave","weekSummary","systolicReadings","diastolicReadings","avgSystolic","reduce","sum","val","toFixed","avgDiastolic","maxSystolic","maxDiastolic","getRiskCategory","avgRisk","parseFloat","daysWithReadings","Set","toDateString","size","totalReadings","threeMonthSummary","ref","getFormattedDateRange","onClick","title","items","hide","content","isVisible"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/BloodPressureChart.js"],"sourcesContent":["/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides comprehensive blood pressure tracking:\n - Systolic and diastolic pressure visualization\n - Risk categorization with color coding\n - Daily and weekly trend analysis\n - Multiple daily measurements display\n - Interactive tooltips with BP details\n - Navigation controls for time periods\n \n ARCHITECTURE:\n - Uses custom SVG for precise blood pressure visualization\n - Implements dual-axis system for systolic and diastolic values\n - Provides risk-based color coding for clinical interpretation\n - Supports multiple daily readings with time-based positioning\n - Implements configurable layouts\n \n Visualization Features:\n - Dual-line chart showing systolic and diastolic trends\n - Color-coded risk categories (normal, elevated, high, crisis)\n - Time-based positioning for multiple daily readings\n - Interactive tooltips with detailed BP information\n - Grid system with proper axis scaling\n \n Clinical Features:\n - Risk categorization based on medical guidelines\n - Summary statistics for physician view\n - Trend analysis over time periods\n - Educational information for patient view\n \n Component Structure:\n - Y-Axis: Dual-axis system for systolic and diastolic values\n - X-Axis: Time-based axis with day and time labels\n - DataPoints: Interactive blood pressure readings\n - Legend: Risk category explanations\n - Tooltip: Detailed reading information\n \n Critical for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\nconst TIME_LABELS = ['12a', '12p', '12a'];\nconst TIME_HOURS = [0, 12, 24];\n\n// Helper Functions\nconst getWeekStart = (date) => {\n  const d = new Date(date);\n  const day = d.getDay();\n  const diff = d.getDate() - day;\n  return new Date(d.setDate(diff));\n};\n\nconst formatDayLabel = (date) => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\n\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + (dayIndex * config.dayWidth) + config.dayPadding + (timeRatio * dayContentWidth);\n};\n\n// Chart Sub-components\n\nconst YAxis = ({ config, type }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n\n  return (\n    <g className=\"y-axis\">\n      <text\n        x={config.padding.left / 3}\n        y={config.padding.top + chartHeight / 2}\n        fontSize={config.fontSize.yAxisTitle}\n        textAnchor=\"middle\"\n        className=\"y-axis-title\"\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n      >\n        mm Hg\n      </text>\n      {yAxisLabels.map(value => {\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\n        return (\n          <g key={value} className=\"y-axis-grid-group\">\n                        <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n            <text x={config.padding.left - 10} y={y + 3} fontSize={config.fontSize.yAxis} textAnchor=\"end\" className=\"chart-tick-label\">{value}</text>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Blood Pressure Range Background Component\nconst BPRangeBackground = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  // Define BP ranges (systolic/diastolic)\n  const ranges = [\n    { \n      name: 'High', \n      systolic: [140, 200], \n      diastolic: [90, 120], \n      color: 'var(--chart-color-orange)', \n      opacity: 0.1 \n    },\n    { \n      name: 'Pre-high', \n      systolic: [120, 140], \n      diastolic: [80, 90], \n      color: 'var(--chart-color-yellow)', \n      opacity: 0.1 \n    },\n    { \n      name: 'Ideal', \n      systolic: [90, 120], \n      diastolic: [60, 80], \n      color: 'var(--chart-color-blue)', \n      opacity: 0.1 \n    },\n    { \n      name: 'Low', \n      systolic: [0, 90], \n      diastolic: [0, 60], \n      color: 'var(--chart-color-danger)', \n      opacity: 0.1 \n    }\n  ];\n\n  return (\n    <g className=\"bp-range-background\">\n      {ranges.map((range, index) => {\n        // Calculate Y positions for systolic range\n        const systolicTopY = config.height - config.padding.bottom - \n          ((range.systolic[1] - systolicOffset) / systolicRange) * chartHeight;\n        const systolicBottomY = config.height - config.padding.bottom - \n          ((range.systolic[0] - systolicOffset) / systolicRange) * chartHeight;\n        \n        // Calculate Y positions for diastolic range  \n        const diastolicTopY = config.height - config.padding.bottom - \n          ((range.diastolic[1] - diastolicOffset) / diastolicRange) * chartHeight;\n        const diastolicBottomY = config.height - config.padding.bottom - \n          ((range.diastolic[0] - diastolicOffset) / diastolicRange) * chartHeight;\n\n        // Create overlapping rectangles for the range\n        return (\n          <g key={range.name}>\n            {/* Systolic range background */}\n            <rect\n              x={config.padding.left}\n              y={Math.min(systolicTopY, systolicBottomY)}\n              width={config.width - config.padding.left - config.padding.right}\n              height={Math.abs(systolicBottomY - systolicTopY)}\n              fill={range.color}\n              opacity={range.opacity}\n              className={`bp-range-${range.name.toLowerCase()}`}\n            />\n            {/* Diastolic range background */}\n            <rect\n              x={config.padding.left}\n              y={Math.min(diastolicTopY, diastolicBottomY)}\n              width={config.width - config.padding.left - config.padding.right}\n              height={Math.abs(diastolicBottomY - diastolicTopY)}\n              fill={range.color}\n              opacity={range.opacity}\n              className={`bp-range-${range.name.toLowerCase()}`}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// New Dual Y-Axis Component for Combined Chart\nconst DualYAxis = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  return (\n    <g className=\"dual-y-axis\">\n      {/* Systolic Y-Axis (Left) */}\n      <g className=\"y-axis-left\">\n        <text\n          x={config.padding.left / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Systolic (mmHg)\n        </text>\n        {systolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - systolicOffset) / systolicRange) * chartHeight;\n          return (\n            <g key={`systolic-${value}`} className=\"y-axis-grid-group\">\n              <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n              <text \n                x={config.padding.left - 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"end\" \n                className=\"chart-tick-label systolic-label\"\n                fill=\"black\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n\n      {/* Diastolic Y-Axis (Right) */}\n      <g className=\"y-axis-right\">\n        <text\n          x={config.width - config.padding.right / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Diastolic (mmHg)\n        </text>\n        {diastolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - diastolicOffset) / diastolicRange) * chartHeight;\n          return (\n            <g key={`diastolic-${value}`} className=\"y-axis-grid-group\">\n              <text \n                x={config.width - config.padding.right + 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"start\" \n                className=\"chart-tick-label diastolic-label\"\n                fill=\"var(--chart-color-green)\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n\nconst XAxis = ({ config, weekDays }) => (\n  <g className=\"x-axis\">\n    {weekDays.map((day, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      const dayCenterX = dayX + config.dayWidth / 2;\n      \n      // Tick positions\n      const startTickX = dayX;\n      const middleTickX = dayX + config.dayWidth / 2;\n\n      return (\n        <g key={dayIndex} className=\"x-axis-label-group\">\n          {/* X-axis tick marks */}\n          <line \n            className=\"x-axis-tick\" \n            x1={startTickX} \n            y1={config.height - config.padding.bottom} \n            x2={startTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          <line \n            className=\"x-axis-tick\" \n            x1={middleTickX} \n            y1={config.height - config.padding.bottom} \n            x2={middleTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          \n          {/* Time labels positioned at tick marks */}\n          <text\n            className=\"time-label\"\n            x={startTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '8px'}}\n          >\n            12a\n          </text>\n          <text\n            className=\"time-label\"\n            x={middleTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '8px'}}\n          >\n            12p\n          </text>\n\n          {/* Day and Date Labels */}\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 35}\n            textAnchor=\"middle\"\n            className=\"x-axis-day-label\"\n            fontSize={config.fontSize.dayLabel}\n            style={{fontSize: '8px'}}\n          >\n            {formatDayLabel(day)}\n          </text>\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 52}\n            textAnchor=\"middle\"\n            className=\"x-axis-date-label\"\n            fontSize={config.fontSize.dateLabel}\n            style={{fontSize: '8px'}}\n          >\n            {day.getDate()}\n          </text>\n        </g>\n      );\n    })}\n    {/* Final tick mark at the end of the last day */}\n    <line \n      className=\"x-axis-tick\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.height - config.padding.bottom} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom + 5}\n      stroke=\"var(--chart-color-neutral)\"\n      strokeWidth=\"1\"\n    />\n    <text\n      className=\"time-label\"\n      x={config.padding.left + weekDays.length * config.dayWidth}\n      y={config.height - config.padding.bottom + 15}\n      textAnchor=\"middle\"\n      fontSize={config.fontSize.timeLabel}\n      style={{fontSize: '8px'}}\n    >\n      12a\n    </text>\n  </g>\n);\n\nconst GridLines = ({ config, weekDays }) => (\n  <g className=\"grid-lines\">\n    {/* Vertical day and time lines */}\n    {weekDays.map((_, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      return (\n        <g key={dayIndex}>\n          <line className=\"chart-grid-line-vertical\" x1={dayX} y1={config.padding.top} x2={dayX} y2={config.height - config.padding.bottom} />\n          {/* Time lines at 12am and 12pm within each day */}\n          {[0, 12].map(hour => {\n            const timeRatio = hour / 24;\n            const x = config.padding.left + (dayIndex * config.dayWidth) + (timeRatio * config.dayWidth);\n            return <line key={`${dayIndex}-${hour}`} className=\"chart-grid-line-vertical-time\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />;\n          })}\n        </g>\n      );\n    })}\n    {/* Final grid line at the end of the last day */}\n    <line \n      className=\"chart-grid-line-vertical\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.padding.top} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom} \n    />\n  </g>\n);\n\nconst DataBars = ({ readings, type, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n\n  return (\n    <g className=\"data-bars\">\n      {readings.map((reading, index) => {\n        const readingDate = new Date(reading.date);\n        const dayIndex = readingDate.getDay();\n        const x = getTimePosition(readingDate, dayIndex, config);\n        const value = reading[type];\n        const barHeight = (value / valueRange) * chartHeight;\n        const y = config.height - config.padding.bottom - barHeight;\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n            value: value,\n            unit: 'mmHg',\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <rect\n            key={index}\n            x={x - config.barWidth / 2}\n            y={y}\n            width={config.barWidth}\n            height={Math.max(0, barHeight)}\n            fill={getColor(value)}\n            style={{ cursor: 'pointer' }}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\n// New Combined I-Bar Chart Component\nconst CombinedDataBars = ({ readings, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  return (\n    <g className=\"combined-data-bars\">\n      {readings.map((reading, index) => {\n        const readingDate = new Date(reading.date);\n        const dayIndex = readingDate.getDay();\n        const x = getTimePosition(readingDate, dayIndex, config);\n        \n        // Calculate positions for both systolic and diastolic\n        const systolicValue = reading.systolic;\n        const diastolicValue = reading.diastolic;\n        \n        const systolicBarHeight = (systolicValue / systolicRange) * chartHeight;\n        const diastolicBarHeight = (diastolicValue / diastolicRange) * chartHeight;\n        \n        const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n        const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n        \n        // Determine overall risk color based on both values\n        const getCombinedRiskColor = (systolic, diastolic) => {\n          if (systolic >= 140 || diastolic >= 90) return 'var(--chart-color-orange)'; // High\n          if (systolic >= 120 || diastolic >= 80) return 'var(--chart-color-yellow)'; // Pre-high\n          if (systolic < 90 || diastolic < 60) return 'var(--chart-color-danger)'; // Low\n          return 'var(--chart-color-blue)'; // Ideal\n        };\n        \n        const riskColor = getCombinedRiskColor(systolicValue, diastolicValue);\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: 'Blood Pressure',\n            systolic: systolicValue,\n            diastolic: diastolicValue,\n            unit: 'mmHg',\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <g key={index} className=\"bp-reading-group\">\n            {/* I-Bar: Vertical line connecting systolic and diastolic */}\n            <line\n              x1={x}\n              y1={systolicY}\n              x2={x}\n              y2={diastolicY}\n              stroke={riskColor}\n              strokeWidth=\"3\"\n              style={{ cursor: 'pointer' }}\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n            {/* Systolic point */}\n            <circle\n              cx={x}\n              cy={systolicY}\n              r=\"4\"\n              fill={riskColor}\n              style={{ cursor: 'pointer' }}\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n            {/* Diastolic point */}\n            <circle\n              cx={x}\n              cy={diastolicY}\n              r=\"4\"\n              fill={riskColor}\n              style={{ cursor: 'pointer' }}\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nconst Chart = ({ type, weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\n  // Simple inline config - no factory pattern needed\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n        },\n        barWidth: 12,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 40, 80, 120, 160, 200],\n          diastolic: [0, 20, 40, 60, 80, 100, 120],\n        },\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 12,\n          dayLabel: 12,\n          dateLabel: 12,\n        },\n        barWidth: 8,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 100, 200],\n          diastolic: [0, 60, 120],\n        },\n        dayPadding: 6,\n      };\n  \n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n\n  return (\n    <div className={`chart-section ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">{type === 'systolic' ? 'Systolic' : 'Diastolic'}</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          <GridLines config={config} weekDays={weekDays} />\n          <YAxis config={config} type={type} />\n          <XAxis config={config} weekDays={weekDays} />\n          <DataBars readings={readings} type={type} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\n// New Combined Chart Component\nconst CombinedChart = ({ weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\n  // Simple inline config - no factory pattern needed\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n        },\n        barWidth: 12,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 40, 80, 120, 160, 200],\n          diastolic: [0, 20, 40, 60, 80, 100, 120],\n        },\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 12,\n          dayLabel: 12,\n          dateLabel: 12,\n        },\n        barWidth: 8,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 100, 200],\n          diastolic: [0, 60, 120],\n        },\n        dayPadding: 6,\n      };\n  \n  const readings = weekData.filter(d => d.systolic && d.diastolic && d.systolic > 0 && d.diastolic > 0);\n\n  return (\n    <div className={`chart-section combined-chart ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">Blood Pressure (Systolic/Diastolic)</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          {/* Blood pressure range background */}\n          <BPRangeBackground config={config} />\n          <GridLines config={config} weekDays={weekDays} />\n          {/* Dual Y-axis for both systolic and diastolic */}\n          <DualYAxis config={config} />\n          <XAxis config={config} weekDays={weekDays} />\n          <CombinedDataBars readings={readings} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nconst getSystolicColor = (value) => {\n  if (value < 90) return 'var(--chart-color-danger)';\n  if (value < 120) return 'var(--chart-color-blue)';\n  if (value < 140) return 'var(--chart-color-yellow)';\n  return 'var(--chart-color-orange)';\n};\n\nconst getDiastolicColor = (value) => {\n  if (value < 60) return 'var(--chart-color-danger)';\n  if (value < 80) return 'var(--chart-color-blue)';\n  if (value < 90) return 'var(--chart-color-yellow)';\n  return 'var(--chart-color-orange)';\n};\n\nconst bloodPressureLegendItems = [\n  { color: 'var(--chart-color-danger)', label: 'Low', description: 'Blood pressure below normal range' },\n  { color: 'var(--chart-color-blue)', label: 'Ideal', description: 'Blood pressure within ideal range' },\n  { color: 'var(--chart-color-yellow)', label: 'Pre-high', description: 'Blood pressure elevated but not yet high' },\n  { color: 'var(--chart-color-orange)', label: 'High', description: 'Blood pressure high - requires attention' },\n];\n\n\n\n// --- Main Component ---\nconst BloodPressureChart = ({ patientId, isExpanded = false, onExpand, viewMode = 'patient', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const { bloodPressureData, loading, error } = usePatientData(patientId, 'bloodPressure');\n  const [containerWidth, setContainerWidth] = useState(400);\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n  const [useCombinedView, setUseCombinedView] = useState(true); // New state for view toggle\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const useInternalNavigation = !navigation;\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n\n\n\n  // Resize observer to track container width changes\n  useLayoutEffect(() => {\n    const observeContainer = () => {\n      if (containerRef.current) {\n        const resizeObserver = new ResizeObserver(entries => {\n          for (let entry of entries) {\n            const { width } = entry.contentRect;\n            setContainerWidth(width);\n          }\n        });\n\n        resizeObserver.observe(containerRef.current);\n        return () => resizeObserver.disconnect();\n      }\n    };\n\n    const cleanup = observeContainer();\n    return cleanup;\n  }, []);\n\n  const { start: weekStart, end: weekEnd } = nav.getDateRange();\n\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n\n  const weekDays = Array.from({ length: 7 }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n\n\n\n  const formatDateRange = (start, end) => {\n    const startStr = start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n    const endStr = end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n    return `${startStr} to ${endStr}`;\n  };\n\n  const handleBarHover = (data) => {\n    setTooltipData(data);\n    setTooltipPosition(data.position);\n  };\n\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Calculate summary statistics for physician view\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    const systolicReadings = weekData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = weekData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\n\n    weekSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: weekData.length\n    };\n  }\n\n  // Calculate 3-month summary statistics for physician view\n  let threeMonthSummary = null;\n  if (threeMonthData.length > 0) {\n\n    const systolicReadings = threeMonthData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = threeMonthData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    const daysWithReadings = new Set(threeMonthData.map(d => d.date.toDateString())).size;\n\n    threeMonthSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: threeMonthData.length\n    };\n  }\n\n  return (\n    <>\n      <div className={`bp-chart-container ${isExpanded ? 'expanded' : ''}`} ref={containerRef}>\n        <div className=\"bp-header\">\n          <h3 className=\"bp-main-title\">Blood Pressure</h3>\n          <h4 className=\"chart-subtitle\">{nav.getFormattedDateRange()}</h4>\n          \n          {/* View Toggle */}\n          <div className=\"view-toggle\">\n            <button \n              className={`toggle-btn ${!useCombinedView ? 'active' : ''}`}\n              onClick={() => setUseCombinedView(false)}\n            >\n              Separate Charts\n            </button>\n            <button \n              className={`toggle-btn ${useCombinedView ? 'active' : ''}`}\n              onClick={() => setUseCombinedView(true)}\n            >\n              Combined View\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"bp-charts-wrapper\">\n          {useCombinedView ? (\n            <CombinedChart \n              weekData={weekData} \n              isExpanded={isExpanded} \n              weekDays={weekDays} \n              containerWidth={containerWidth}\n              onBarHover={handleBarHover}\n              onBarLeave={handleBarLeave}\n            />\n          ) : (\n            <>\n              <Chart \n                type=\"systolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                containerWidth={containerWidth}\n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n              <Chart \n                type=\"diastolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                containerWidth={containerWidth}\n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n            </>\n          )}\n        </div>\n        \n        <Legend title=\"Blood Pressure Category:\" items={bloodPressureLegendItems} hide={screenshotMode} />\n        \n        {/* Show InfoBox for patient view, summary for physician/unified view */}\n        {(viewMode === 'physician' || viewMode === 'unified') && weekSummary ? (\n          <>\n            <InfoBox \n              title=\"Blood Pressure Information\" \n              content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n            />\n            <div className=\"summary-container\">\n              <div className=\"chart-summary\">\n                <h4>Week Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Average BP:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.avgSystolic}/{weekSummary.avgDiastolic} mmHg\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Peak BP:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.maxSystolic}/{weekSummary.maxDiastolic} mmHg\n                    </span>\n                  </div>\n\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Reading Days:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.daysWithReadings}/7 days\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.totalReadings}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {showThreeMonthSummaries && threeMonthSummary && (\n                <div className=\"chart-summary\">\n                  <h4>3-Month Summary</h4>\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Average BP:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.avgSystolic}/{threeMonthSummary.avgDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Peak BP:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.maxSystolic}/{threeMonthSummary.maxDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.totalReadings}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          <InfoBox \n            title=\"Blood Pressure Information\" \n            content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n          />\n        )}\n      </div>\n      \n      {/* Custom Tooltip */}\n      <Tooltip\n        isVisible={!!tooltipData}\n        content={tooltipData && (\n          <div>\n            <div className=\"tooltip-title\">{tooltipData.type} Blood Pressure</div>\n            {tooltipData.systolic && tooltipData.diastolic ? (\n              <div className=\"tooltip-value\">\n                {tooltipData.systolic}/{tooltipData.diastolic} {tooltipData.unit}\n              </div>\n            ) : (\n              <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\n            )}\n            <div className=\"tooltip-time\">{tooltipData.time}</div>\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\n          </div>\n        )}\n        position={tooltipPosition}\n      />\n    </>\n  );\n};\n\nexport default BloodPressureChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}