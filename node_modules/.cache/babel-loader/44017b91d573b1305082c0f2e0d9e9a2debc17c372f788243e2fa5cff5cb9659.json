{"ast":null,"code":"import React,{useState,useMemo}from'react';import usePatientData from'../../hooks/usePatientData';import useChartNavigation from'../../hooks/useChartNavigation';import Legend from'../Legend';import'../ChartStyles.css';import BodySVG from'./BodySvg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PainChart=_ref=>{let{patientId,isExpanded=false,onExpand,viewMode='patient',navigation}=_ref;const{painData,isLoading:loading,error}=usePatientData(patientId,'pain');// Use navigation from parent or fallback to internal navigation\nconst useInternalNavigation=!navigation;const internalNavigation=useChartNavigation('pain');const nav=navigation||internalNavigation;const getPainColor=level=>{if(level===0)return'#F8F8F8';// Light grey for no pain\nif(level<=2)return'#FFE6E6';// Very light red for mild pain\nif(level<=4)return'#FFB3B3';// Light red for moderate pain\nif(level<=6)return'#FF8080';// Medium red for moderate-severe pain\nif(level<=8)return'#FF4D4D';// Bright red for severe pain\nreturn'#FF0000';// Pure red for extreme pain\n};const getPainIntensity=level=>{if(level===0)return'No Pain';return\"Rating \".concat(level);};const painLegendItems=Array.from({length:11},(_,i)=>i).map(level=>({color:getPainColor(level),label:\"\".concat(level)}));const{start:startOfWeek,end:endOfWeek}=nav.getDateRange();const weekPainData=painData.filter(d=>d.date>=startOfWeek&&d.date<=endOfWeek);// Process data for chart\nconst{chartData,mostCommonLocation,averagePainLevel}=useMemo(()=>{if(!weekPainData.length)return{chartData:[],mostCommonLocation:null,averagePainLevel:0};// Create a map of dates to pain levels\nconst dateMap=new Map();const locationCounts=new Map();weekPainData.forEach(item=>{const dateKey=item.date.toDateString();dateMap.set(dateKey,item.level);// Count locations\nconst location=item.location.toLowerCase();locationCounts.set(location,(locationCounts.get(location)||0)+1);});// Find most common location\nlet mostCommon=null;let maxCount=0;for(const[location,count]of locationCounts){if(count>maxCount){maxCount=count;mostCommon=location;}}// Generate chart data for all 7 days of the week\nconst data=[];for(let i=0;i<7;i++){const date=new Date(startOfWeek);date.setDate(date.getDate()+i);const dateKey=date.toDateString();const painLevel=dateMap.get(dateKey)||0;data.push({date,day:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][date.getDay()],level:painLevel,color:getPainColor(painLevel)});}const totalPain=weekPainData.reduce((sum,item)=>sum+item.level,0);const avgPain=weekPainData.length>0?totalPain/weekPainData.length:0;return{chartData:data,mostCommonLocation:mostCommon,averagePainLevel:avgPain};},[weekPainData,startOfWeek]);const formatDateRange=(start,end)=>{const startStr=start.toLocaleDateString('en-US',{month:'short',day:'numeric'});const endStr=end.toLocaleDateString('en-US',{month:'short',day:'numeric'});return\"\".concat(startStr,\" to \").concat(endStr);};// Line Chart Component for Pain Ratings\nconst PainLineChart=_ref2=>{let{data,isExpanded}=_ref2;const config={width:isExpanded?480:400,height:isExpanded?200:150,padding:{top:20,right:30,bottom:40,left:50},yAxisRange:10,fontSize:{yAxis:isExpanded?10:8,xAxis:isExpanded?10:8}};const chartWidth=config.width-config.padding.left-config.padding.right;const chartHeight=config.height-config.padding.top-config.padding.bottom;const dayWidth=chartWidth/6;// 7 days, 6 intervals\n// Create line path\nconst linePath=data.map((point,index)=>{const x=config.padding.left+index*dayWidth;const y=config.padding.top+chartHeight-point.level/config.yAxisRange*chartHeight;return\"\".concat(index===0?'M':'L',\" \").concat(x,\" \").concat(y);}).join(' ');return/*#__PURE__*/_jsx(\"div\",{className:\"pain-line-chart\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 \".concat(config.width,\" \").concat(config.height),children:[[0,2,4,6,8,10].map(level=>{const y=config.padding.top+chartHeight-level/config.yAxisRange*chartHeight;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:config.padding.left,y1:y,x2:config.width-config.padding.right,y2:y,stroke:\"#e0e0e0\",strokeWidth:\"1\",strokeDasharray:\"2,2\"}),/*#__PURE__*/_jsx(\"text\",{x:config.padding.left-10,y:y+3,fontSize:config.fontSize.yAxis,textAnchor:\"end\",fill:\"var(--chart-color-text-secondary)\",children:level})]},level);}),data.map((point,index)=>{const x=config.padding.left+index*dayWidth;return/*#__PURE__*/_jsx(\"text\",{x:x,y:config.height-config.padding.bottom+15,fontSize:config.fontSize.xAxis,textAnchor:\"middle\",className:\"x-axis-day-label\",children:point.day},index);}),/*#__PURE__*/_jsx(\"path\",{d:linePath,stroke:\"var(--chart-color-primary)\",strokeWidth:\"3\",fill:\"none\"}),data.map((point,index)=>{const x=config.padding.left+index*dayWidth;const y=config.padding.top+chartHeight-point.level/config.yAxisRange*chartHeight;return/*#__PURE__*/_jsx(\"circle\",{cx:x,cy:y,r:\"4\",fill:point.color,stroke:\"var(--chart-color-primary)\",strokeWidth:\"2\"},index);})]})});};const Body=_ref3=>{let{location,level}=_ref3;const color=getPainColor(level);const locationLower=location.toLowerCase();return/*#__PURE__*/_jsx(\"div\",{className:\"body-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"body-views\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"body-view\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"body-view-label\",children:\"Front\"}),/*#__PURE__*/_jsx(BodySVG,{className:\"body-svg\",painLocation:locationLower,painColor:color,view:\"front\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-view\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"body-view-label\",children:\"Back\"}),/*#__PURE__*/_jsx(BodySVG,{className:\"body-svg\",painLocation:locationLower,painColor:color,view:\"back\"})]})]})});};if(viewMode==='patient'){return/*#__PURE__*/_jsxs(\"div\",{className:\"pain-chart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pain-chart-wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"chart-title\",children:\"Pain\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pain-list\",children:weekPainData.length>0?weekPainData.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"pain-list-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pain-item-date\",children:new Date(item.date).toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'})}),/*#__PURE__*/_jsx(\"div\",{className:\"pain-item-body\",children:/*#__PURE__*/_jsx(Body,{location:item.location,level:item.level})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pain-item-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pain-level\",children:[\"Pain intensity: \",item.level,\"/10\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pain-location\",children:[\"Location: \",item.location]}),/*#__PURE__*/_jsx(\"div\",{className:\"pain-intensity\",children:getPainIntensity(item.level)})]})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"no-pain-data\",children:\"No pain data available for this week\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pain-legend-wrapper\",children:/*#__PURE__*/_jsx(Legend,{title:\"Pain Intensity Scale (0-10)\",items:painLegendItems})})]});}// Physician view\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"physician-pain-chart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pain-line-chart-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"chart-title\",children:\"Pain Assessment\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Pain Rating Trend\"}),/*#__PURE__*/_jsx(PainLineChart,{data:chartData,isExpanded:isExpanded})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pain-location-info\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Pain Location: \",mostCommonLocation||'N/A']})}),/*#__PURE__*/_jsx(\"div\",{className:\"pain-legend-wrapper\",children:/*#__PURE__*/_jsx(Legend,{title:\"Pain Intensity Scale (0-10)\",items:painLegendItems})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Week Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Average Pain Intensity:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[averagePainLevel.toFixed(1),\"/10\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Most Common Location:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:mostCommonLocation||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Days with Pain:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekPainData.length,\"/7\"]})]})]})]})]});};export default PainChart;","map":{"version":3,"names":["React","useState","useMemo","usePatientData","useChartNavigation","Legend","BodySVG","jsx","_jsx","jsxs","_jsxs","PainChart","_ref","patientId","isExpanded","onExpand","viewMode","navigation","painData","isLoading","loading","error","useInternalNavigation","internalNavigation","nav","getPainColor","level","getPainIntensity","concat","painLegendItems","Array","from","length","_","i","map","color","label","start","startOfWeek","end","endOfWeek","getDateRange","weekPainData","filter","d","date","chartData","mostCommonLocation","averagePainLevel","dateMap","Map","locationCounts","forEach","item","dateKey","toDateString","set","location","toLowerCase","get","mostCommon","maxCount","count","data","Date","setDate","getDate","painLevel","push","day","getDay","totalPain","reduce","sum","avgPain","formatDateRange","startStr","toLocaleDateString","month","endStr","PainLineChart","_ref2","config","width","height","padding","top","right","bottom","left","yAxisRange","fontSize","yAxis","xAxis","chartWidth","chartHeight","dayWidth","linePath","point","index","x","y","join","className","children","viewBox","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","textAnchor","fill","cx","cy","r","Body","_ref3","locationLower","painLocation","painColor","view","weekday","title","items","toFixed"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/components/patient_charts/PainChart.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport usePatientData from '../../hooks/usePatientData';\r\nimport useChartNavigation from '../../hooks/useChartNavigation';\r\n\r\nimport Legend from '../Legend';\r\nimport '../ChartStyles.css';\r\nimport BodySVG from './BodySvg';\r\n\r\nconst PainChart = ({ patientId, isExpanded = false, onExpand, viewMode = 'patient', navigation }) => {\r\n  const { painData, isLoading: loading, error } = usePatientData(patientId, 'pain');\r\n  \r\n  // Use navigation from parent or fallback to internal navigation\r\n  const useInternalNavigation = !navigation;\r\n  const internalNavigation = useChartNavigation('pain');\r\n  const nav = navigation || internalNavigation;\r\n\r\n  const getPainColor = (level) => {\r\n    if (level === 0) return '#F8F8F8'; // Light grey for no pain\r\n    if (level <= 2) return '#FFE6E6'; // Very light red for mild pain\r\n    if (level <= 4) return '#FFB3B3'; // Light red for moderate pain\r\n    if (level <= 6) return '#FF8080'; // Medium red for moderate-severe pain\r\n    if (level <= 8) return '#FF4D4D'; // Bright red for severe pain\r\n    return '#FF0000'; // Pure red for extreme pain\r\n  };\r\n\r\n  const getPainIntensity = (level) => {\r\n    if (level === 0) return 'No Pain';\r\n    return `Rating ${level}`;\r\n  };\r\n\r\n  const painLegendItems = Array.from({ length: 11 }, (_, i) => i).map(level => ({\r\n    color: getPainColor(level),\r\n    label: `${level}`,\r\n  }));\r\n\r\n  const { start: startOfWeek, end: endOfWeek } = nav.getDateRange();\r\n\r\n  const weekPainData = painData.filter(d => d.date >= startOfWeek && d.date <= endOfWeek);\r\n\r\n  // Process data for chart\r\n  const { chartData, mostCommonLocation, averagePainLevel } = useMemo(() => {\r\n    if (!weekPainData.length) return { chartData: [], mostCommonLocation: null, averagePainLevel: 0 };\r\n\r\n    // Create a map of dates to pain levels\r\n    const dateMap = new Map();\r\n    const locationCounts = new Map();\r\n\r\n    weekPainData.forEach(item => {\r\n      const dateKey = item.date.toDateString();\r\n      dateMap.set(dateKey, item.level);\r\n      \r\n      // Count locations\r\n      const location = item.location.toLowerCase();\r\n      locationCounts.set(location, (locationCounts.get(location) || 0) + 1);\r\n    });\r\n\r\n    // Find most common location\r\n    let mostCommon = null;\r\n    let maxCount = 0;\r\n    for (const [location, count] of locationCounts) {\r\n      if (count > maxCount) {\r\n        maxCount = count;\r\n        mostCommon = location;\r\n      }\r\n    }\r\n\r\n    // Generate chart data for all 7 days of the week\r\n    const data = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(startOfWeek);\r\n      date.setDate(date.getDate() + i);\r\n      const dateKey = date.toDateString();\r\n      const painLevel = dateMap.get(dateKey) || 0;\r\n      \r\n      data.push({\r\n        date,\r\n        day: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][date.getDay()],\r\n        level: painLevel,\r\n        color: getPainColor(painLevel)\r\n      });\r\n    }\r\n\r\n    const totalPain = weekPainData.reduce((sum, item) => sum + item.level, 0);\r\n    const avgPain = weekPainData.length > 0 ? (totalPain / weekPainData.length) : 0;\r\n\r\n    return {\r\n      chartData: data,\r\n      mostCommonLocation: mostCommon,\r\n      averagePainLevel: avgPain\r\n    };\r\n  }, [weekPainData, startOfWeek]);\r\n\r\n  const formatDateRange = (start, end) => {\r\n    const startStr = start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    const endStr = end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    return `${startStr} to ${endStr}`;\r\n  };\r\n\r\n  // Line Chart Component for Pain Ratings\r\n  const PainLineChart = ({ data, isExpanded }) => {\r\n    const config = {\r\n      width: isExpanded ? 480 : 400,\r\n      height: isExpanded ? 200 : 150,\r\n      padding: { top: 20, right: 30, bottom: 40, left: 50 },\r\n      yAxisRange: 10,\r\n      fontSize: {\r\n        yAxis: isExpanded ? 10 : 8,\r\n        xAxis: isExpanded ? 10 : 8,\r\n      }\r\n    };\r\n\r\n    const chartWidth = config.width - config.padding.left - config.padding.right;\r\n    const chartHeight = config.height - config.padding.top - config.padding.bottom;\r\n    const dayWidth = chartWidth / 6; // 7 days, 6 intervals\r\n\r\n    // Create line path\r\n    const linePath = data.map((point, index) => {\r\n      const x = config.padding.left + (index * dayWidth);\r\n      const y = config.padding.top + chartHeight - (point.level / config.yAxisRange) * chartHeight;\r\n      return `${index === 0 ? 'M' : 'L'} ${x} ${y}`;\r\n    }).join(' ');\r\n\r\n    return (\r\n      <div className=\"pain-line-chart\">\r\n        <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${config.width} ${config.height}`}>\r\n          {/* Grid lines */}\r\n          {[0, 2, 4, 6, 8, 10].map(level => {\r\n            const y = config.padding.top + chartHeight - (level / config.yAxisRange) * chartHeight;\r\n            return (\r\n              <g key={level}>\r\n                <line \r\n                  x1={config.padding.left} \r\n                  y1={y} \r\n                  x2={config.width - config.padding.right} \r\n                  y2={y} \r\n                  stroke=\"#e0e0e0\" \r\n                  strokeWidth=\"1\" \r\n                  strokeDasharray=\"2,2\"\r\n                />\r\n                <text \r\n                  x={config.padding.left - 10} \r\n                  y={y + 3} \r\n                  fontSize={config.fontSize.yAxis} \r\n                  textAnchor=\"end\" \r\n                  fill=\"var(--chart-color-text-secondary)\"\r\n                >\r\n                  {level}\r\n                </text>\r\n              </g>\r\n            );\r\n          })}\r\n\r\n          {/* X-axis labels */}\r\n          {data.map((point, index) => {\r\n            const x = config.padding.left + (index * dayWidth);\r\n            return (\r\n              <text \r\n                key={index}\r\n                x={x} \r\n                y={config.height - config.padding.bottom + 15} \r\n                fontSize={config.fontSize.xAxis} \r\n                textAnchor=\"middle\" \r\n                className=\"x-axis-day-label\"\r\n              >\r\n                {point.day}\r\n              </text>\r\n            );\r\n          })}\r\n\r\n          {/* Line */}\r\n          <path \r\n            d={linePath} \r\n            stroke=\"var(--chart-color-primary)\" \r\n            strokeWidth=\"3\" \r\n            fill=\"none\"\r\n          />\r\n\r\n          {/* Data points */}\r\n          {data.map((point, index) => {\r\n            const x = config.padding.left + (index * dayWidth);\r\n            const y = config.padding.top + chartHeight - (point.level / config.yAxisRange) * chartHeight;\r\n            return (\r\n              <circle \r\n                key={index}\r\n                cx={x} \r\n                cy={y} \r\n                r=\"4\" \r\n                fill={point.color} \r\n                stroke=\"var(--chart-color-primary)\" \r\n                strokeWidth=\"2\"\r\n              />\r\n            );\r\n          })}\r\n        </svg>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Body = ({ location, level }) => {\r\n    const color = getPainColor(level);\r\n    const locationLower = location.toLowerCase();\r\n\r\n    return (\r\n      <div className=\"body-container\">\r\n        <div className=\"body-views\">\r\n          <div className=\"body-view\">\r\n            <div className=\"body-view-label\">Front</div>\r\n            <BodySVG \r\n              className=\"body-svg\" \r\n              painLocation={locationLower} \r\n              painColor={color} \r\n              view=\"front\" \r\n            />\r\n          </div>\r\n          <div className=\"body-view\">\r\n            <div className=\"body-view-label\">Back</div>\r\n            <BodySVG \r\n              className=\"body-svg\" \r\n              painLocation={locationLower} \r\n              painColor={color} \r\n              view=\"back\" \r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (viewMode === 'patient') {\r\n    return (\r\n        <div className=\"pain-chart-container\">\r\n          <div className=\"pain-chart-wrapper\">\r\n            <h3 className=\"chart-title\">Pain</h3>\r\n            <div className=\"pain-list\">\r\n              {weekPainData.length > 0 ? (\r\n                weekPainData.map((item, index) => (\r\n                  <div key={index} className=\"pain-list-item\">\r\n                    <div className=\"pain-item-date\">\r\n                      {new Date(item.date).toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' })}\r\n                    </div>\r\n                    <div className=\"pain-item-body\">\r\n                      <Body location={item.location} level={item.level} />\r\n                    </div>\r\n                    <div className=\"pain-item-details\">\r\n                      <div className=\"pain-level\">Pain intensity: {item.level}/10</div>\r\n                      <div className=\"pain-location\">Location: {item.location}</div>\r\n                      <div className=\"pain-intensity\">{getPainIntensity(item.level)}</div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div className=\"no-pain-data\">No pain data available for this week</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"pain-legend-wrapper\">\r\n            <Legend title=\"Pain Intensity Scale (0-10)\" items={painLegendItems} />\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n\r\n  // Physician view\r\n  return (\r\n      <div className=\"physician-pain-chart-container\">\r\n        <div className=\"pain-line-chart-container\">\r\n          <h3 className=\"chart-title\">Pain Assessment</h3>\r\n          <h4>Pain Rating Trend</h4>\r\n          <PainLineChart data={chartData} isExpanded={isExpanded} />\r\n        </div>\r\n\r\n        <div className=\"pain-location-info\">\r\n          <h4>Pain Location: {mostCommonLocation || 'N/A'}</h4>\r\n        </div>\r\n        \r\n        <div className=\"pain-legend-wrapper\">\r\n          <Legend title=\"Pain Intensity Scale (0-10)\" items={painLegendItems} />\r\n        </div>\r\n\r\n        <div className=\"chart-summary\">\r\n          <h4>Week Summary</h4>\r\n          <div className=\"summary-stats\">\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Average Pain Intensity:</span>\r\n              <span className=\"stat-value\">{averagePainLevel.toFixed(1)}/10</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Most Common Location:</span>\r\n              <span className=\"stat-value\">{mostCommonLocation || 'N/A'}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Days with Pain:</span>\r\n              <span className=\"stat-value\">{weekPainData.length}/7</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default PainChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}