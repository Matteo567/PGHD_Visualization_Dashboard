{"ast":null,"code":"import React,{useState,useRef,useLayoutEffect,useMemo}from'react';import usePatientData from'../../hooks/usePatientData';import useChartNavigation from'../../hooks/useChartNavigation';import Legend from'../Legend';import InfoBox from'../InfoBox';import Tooltip from'../ui/Tooltip';import'./BloodPressureChart.css';import'../ChartStyles.css';import{createChartConfig}from'../chart-utils/ChartConfigFactory';// --- Constants ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TIME_LABELS=['12a','12p','12a'];const TIME_HOURS=[0,12,24];// --- Helper Functions ---\nconst getWeekStart=date=>{const d=new Date(date);const day=d.getDay();const diff=d.getDate()-day;return new Date(d.setDate(diff));};const formatDayLabel=date=>{const dayNames=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];return dayNames[date.getDay()];};const getTimePosition=(date,dayIndex,config)=>{const hour=date.getHours()+date.getMinutes()/60;const timeRatio=hour/24;const dayContentWidth=config.dayWidth-config.dayPadding*2;return config.padding.left+dayIndex*config.dayWidth+config.dayPadding+timeRatio*dayContentWidth;};// --- Chart Sub-components ---\nconst YAxis=_ref=>{let{config,type}=_ref;const chartHeight=config.height-config.padding.top-config.padding.bottom;const yAxisLabels=config.yAxisLabels[type];const valueRange=config.yAxisRange[type];const yOffset=config.yAxisOffset[type];return/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis\",children:[/*#__PURE__*/_jsx(\"text\",{x:config.padding.left/3,y:config.padding.top+chartHeight/2,fontSize:config.fontSize.yAxisTitle,textAnchor:\"middle\",className:\"y-axis-title\",transform:\"rotate(-90, \".concat(config.padding.left/3,\", \").concat(config.padding.top+chartHeight/2,\")\"),children:\"mm Hg\"}),yAxisLabels.map(value=>{const y=config.height-config.padding.bottom-(value-yOffset)/valueRange*chartHeight;return/*#__PURE__*/_jsxs(\"g\",{className:\"y-axis-grid-group\",children:[/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-horizontal\",x1:config.padding.left,y1:y,x2:config.width-config.padding.right,y2:y}),/*#__PURE__*/_jsx(\"text\",{x:config.padding.left-10,y:y+3,fontSize:config.fontSize.yAxis,textAnchor:\"end\",className:\"chart-tick-label\",children:value})]},value);})]});};const XAxis=_ref2=>{let{config,weekDays}=_ref2;return/*#__PURE__*/_jsxs(\"g\",{className:\"x-axis\",children:[weekDays.map((day,dayIndex)=>{const dayX=config.padding.left+dayIndex*config.dayWidth;const dayCenterX=dayX+config.dayWidth/2;// Tick positions\nconst startTickX=dayX;const middleTickX=dayX+config.dayWidth/2;return/*#__PURE__*/_jsxs(\"g\",{className:\"x-axis-label-group\",children:[/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:startTickX,y1:config.height-config.padding.bottom,x2:startTickX,y2:config.height-config.padding.bottom+5,stroke:\"#666\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:middleTickX,y1:config.height-config.padding.bottom,x2:middleTickX,y2:config.height-config.padding.bottom+5,stroke:\"#666\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:startTickX,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12a\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:middleTickX,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12p\"}),/*#__PURE__*/_jsx(\"text\",{x:dayCenterX,y:config.height-config.padding.bottom+35,textAnchor:\"middle\",className:\"x-axis-day-label\",fontSize:config.fontSize.dayLabel,style:{fontSize:'8px'},children:formatDayLabel(day)}),/*#__PURE__*/_jsx(\"text\",{x:dayCenterX,y:config.height-config.padding.bottom+52,textAnchor:\"middle\",className:\"x-axis-date-label\",fontSize:config.fontSize.dateLabel,style:{fontSize:'8px'},children:day.getDate()})]},dayIndex);}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:config.padding.left+weekDays.length*config.dayWidth,y1:config.height-config.padding.bottom,x2:config.padding.left+weekDays.length*config.dayWidth,y2:config.height-config.padding.bottom+5,stroke:\"#666\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:config.padding.left+weekDays.length*config.dayWidth,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12a\"})]});};const GridLines=_ref3=>{let{config,weekDays}=_ref3;return/*#__PURE__*/_jsxs(\"g\",{className:\"grid-lines\",children:[weekDays.map((_,dayIndex)=>{const dayX=config.padding.left+dayIndex*config.dayWidth;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical\",x1:dayX,y1:config.padding.top,x2:dayX,y2:config.height-config.padding.bottom}),[0,12].map(hour=>{const timeRatio=hour/24;const x=config.padding.left+dayIndex*config.dayWidth+timeRatio*config.dayWidth;return/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical-time\",x1:x,y1:config.padding.top,x2:x,y2:config.height-config.padding.bottom},\"\".concat(dayIndex,\"-\").concat(hour));})]},dayIndex);}),/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical\",x1:config.padding.left+weekDays.length*config.dayWidth,y1:config.padding.top,x2:config.padding.left+weekDays.length*config.dayWidth,y2:config.height-config.padding.bottom})]});};const DataBars=_ref4=>{let{readings,type,config,onBarHover,onBarLeave}=_ref4;const chartHeight=config.height-config.padding.top-config.padding.bottom;const valueRange=config.yAxisRange[type];const yOffset=config.yAxisOffset[type];const getColor=type==='systolic'?getSystolicColor:getDiastolicColor;return/*#__PURE__*/_jsx(\"g\",{className:\"data-bars\",children:readings.map((reading,index)=>{const readingDate=new Date(reading.date);const dayIndex=readingDate.getDay();const x=getTimePosition(readingDate,dayIndex,config);const value=reading[type];const barHeight=value/valueRange*chartHeight;const y=config.height-config.padding.bottom-barHeight;const handleMouseEnter=event=>{const tooltipData={type:type==='systolic'?'Systolic':'Diastolic',value:value,unit:'mmHg',time:readingDate.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true}),date:readingDate.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'}),position:{x:event.clientX,y:event.clientY}};onBarHover(tooltipData);};const handleMouseLeave=()=>{onBarLeave();};return/*#__PURE__*/_jsx(\"rect\",{x:x-config.barWidth/2,y:y,width:config.barWidth,height:Math.max(0,barHeight),fill:getColor(value),style:{cursor:'pointer'},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave},index);})});};const Chart=_ref5=>{let{type,weekData,isExpanded,weekDays,containerWidth,onBarHover,onBarLeave}=_ref5;const config=createChartConfig('bloodPressure',isExpanded,containerWidth);const readings=weekData.filter(d=>d[type]&&d[type]>0);return/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section \".concat(isExpanded?'expanded':''),children:[/*#__PURE__*/_jsx(\"h4\",{className:\"chart-subtitle\",children:type==='systolic'?'Systolic':'Diastolic'}),/*#__PURE__*/_jsx(\"div\",{className:\"bp-svg-container\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 \".concat(config.width,\" \").concat(config.height),className:\"chart-svg\",children:[/*#__PURE__*/_jsx(GridLines,{config:config,weekDays:weekDays}),/*#__PURE__*/_jsx(YAxis,{config:config,type:type}),/*#__PURE__*/_jsx(XAxis,{config:config,weekDays:weekDays}),/*#__PURE__*/_jsx(DataBars,{readings:readings,type:type,config:config,onBarHover:onBarHover,onBarLeave:onBarLeave})]})})]});};const getSystolicColor=value=>{if(value<90)return'var(--chart-color-danger)';if(value<120)return'var(--chart-color-blue)';if(value<140)return'var(--chart-color-yellow)';return'var(--chart-color-orange)';};const getDiastolicColor=value=>{if(value<60)return'var(--chart-color-danger)';if(value<80)return'var(--chart-color-blue)';if(value<90)return'var(--chart-color-yellow)';return'var(--chart-color-orange)';};const bloodPressureLegendItems=[{color:'var(--chart-color-danger)',label:'Low',description:'Blood pressure below normal range'},{color:'var(--chart-color-blue)',label:'Ideal',description:'Blood pressure within ideal range'},{color:'var(--chart-color-yellow)',label:'Pre-high',description:'Blood pressure elevated but not yet high'},{color:'var(--chart-color-orange)',label:'High',description:'Blood pressure high - requires attention'}];// --- Main Component ---\nconst BloodPressureChart=_ref6=>{let{patientId,isExpanded=false,onExpand,viewMode='patient',navigation}=_ref6;const{bloodPressureData,loading,error}=usePatientData(patientId,'bloodPressure');const[containerWidth,setContainerWidth]=useState(400);const[tooltipData,setTooltipData]=useState(null);const[tooltipPosition,setTooltipPosition]=useState({x:0,y:0});const containerRef=useRef(null);// Use navigation from parent or fallback to internal navigation\nconst useInternalNavigation=!navigation;const internalNavigation=useChartNavigation('bloodPressure');const nav=navigation||internalNavigation;// Resize observer to track container width changes\nuseLayoutEffect(()=>{const observeContainer=()=>{if(containerRef.current){const resizeObserver=new ResizeObserver(entries=>{for(let entry of entries){const{width}=entry.contentRect;setContainerWidth(width);}});resizeObserver.observe(containerRef.current);return()=>resizeObserver.disconnect();}};const cleanup=observeContainer();return cleanup;},[]);const{start:weekStart,end:weekEnd}=nav.getDateRange();const weekData=bloodPressureData.filter(d=>{const readingDate=new Date(d.date);return readingDate>=weekStart&&readingDate<=weekEnd;});const weekDays=Array.from({length:7},(_,i)=>{const d=new Date(weekStart);d.setDate(weekStart.getDate()+i);return d;});const formatDateRange=(start,end)=>{const startStr=start.toLocaleDateString('en-US',{month:'short',day:'numeric'});const endStr=end.toLocaleDateString('en-US',{month:'short',day:'numeric'});return\"\".concat(startStr,\" to \").concat(endStr);};const handleBarHover=data=>{setTooltipData(data);setTooltipPosition(data.position);};const handleBarLeave=()=>{setTooltipData(null);};// Calculate summary statistics for physician view\nconst weekSummary=useMemo(()=>{if(!weekData.length)return null;const systolicReadings=weekData.filter(d=>d.systolic&&d.systolic>0).map(d=>d.systolic);const diastolicReadings=weekData.filter(d=>d.diastolic&&d.diastolic>0).map(d=>d.diastolic);const avgSystolic=systolicReadings.length>0?(systolicReadings.reduce((sum,val)=>sum+val,0)/systolicReadings.length).toFixed(0):0;const avgDiastolic=diastolicReadings.length>0?(diastolicReadings.reduce((sum,val)=>sum+val,0)/diastolicReadings.length).toFixed(0):0;const maxSystolic=systolicReadings.length>0?Math.max(...systolicReadings):0;const maxDiastolic=diastolicReadings.length>0?Math.max(...diastolicReadings):0;const getRiskCategory=(systolic,diastolic)=>{if(systolic>=135||diastolic>=85)return'High Risk';if(systolic>=121||diastolic>=80)return'Medium Risk';return'Low Risk';};const avgRisk=getRiskCategory(parseFloat(avgSystolic),parseFloat(avgDiastolic));const daysWithReadings=new Set(weekData.map(d=>d.date.toDateString())).size;return{avgSystolic,avgDiastolic,maxSystolic,maxDiastolic,avgRisk,daysWithReadings,totalReadings:weekData.length};},[weekData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bp-chart-container\",ref:containerRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bp-chart-content \".concat(isExpanded?'expanded':''),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"bp-main-title\",children:\"Blood Pressure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bp-charts-wrapper\",children:[/*#__PURE__*/_jsx(Chart,{type:\"systolic\",weekData:weekData,isExpanded:isExpanded,weekDays:weekDays,containerWidth:containerWidth,onBarHover:handleBarHover,onBarLeave:handleBarLeave}),/*#__PURE__*/_jsx(Chart,{type:\"diastolic\",weekData:weekData,isExpanded:isExpanded,weekDays:weekDays,containerWidth:containerWidth,onBarHover:handleBarHover,onBarLeave:handleBarLeave})]}),/*#__PURE__*/_jsx(Legend,{title:\"Blood Pressure Category:\",items:bloodPressureLegendItems}),viewMode==='physician'&&weekSummary?/*#__PURE__*/_jsxs(\"div\",{className:\"chart-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Week Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Average BP:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.avgSystolic,\"/\",weekSummary.avgDiastolic,\" mmHg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Peak BP:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.maxSystolic,\"/\",weekSummary.maxDiastolic,\" mmHg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Risk Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(weekSummary.avgRisk.toLowerCase().replace(' ','-')),children:weekSummary.avgRisk})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Reading Days:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.daysWithReadings,\"/7 days\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Readings:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:weekSummary.totalReadings})]})]})]}):viewMode==='patient'?/*#__PURE__*/_jsx(InfoBox,{title:\"Blood Pressure Information\",content:\"Blood pressure ranges (Blood Pressure UK): Low: <90/<60 mmHg. Ideal: 90-120/60-80 mmHg. Pre-high: 120-140/80-90 mmHg. High: \\u2265140/\\u226590 mmHg. Always consult your healthcare provider for your personal targets.\"}):null]})}),/*#__PURE__*/_jsx(Tooltip,{isVisible:!!tooltipData,content:tooltipData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-title\",children:[tooltipData.type,\" Blood Pressure\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-value\",children:[tooltipData.value,\" \",tooltipData.unit]}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-time\",children:tooltipData.time}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-date\",children:tooltipData.date})]}),position:tooltipPosition})]});};export default BloodPressureChart;","map":{"version":3,"names":["React","useState","useRef","useLayoutEffect","useMemo","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","createChartConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TIME_LABELS","TIME_HOURS","getWeekStart","date","d","Date","day","getDay","diff","getDate","setDate","formatDayLabel","dayNames","getTimePosition","dayIndex","config","hour","getHours","getMinutes","timeRatio","dayContentWidth","dayWidth","dayPadding","padding","left","YAxis","_ref","type","chartHeight","height","top","bottom","yAxisLabels","valueRange","yAxisRange","yOffset","yAxisOffset","className","children","x","y","fontSize","yAxisTitle","textAnchor","transform","concat","map","value","x1","y1","x2","width","right","y2","yAxis","XAxis","_ref2","weekDays","dayX","dayCenterX","startTickX","middleTickX","stroke","strokeWidth","timeLabel","style","dayLabel","dateLabel","length","GridLines","_ref3","_","DataBars","_ref4","readings","onBarHover","onBarLeave","getColor","getSystolicColor","getDiastolicColor","reading","index","readingDate","barHeight","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","Math","max","fill","cursor","onMouseEnter","onMouseLeave","Chart","_ref5","weekData","isExpanded","containerWidth","filter","viewBox","bloodPressureLegendItems","color","label","description","BloodPressureChart","_ref6","patientId","onExpand","viewMode","navigation","bloodPressureData","loading","error","setContainerWidth","setTooltipData","tooltipPosition","setTooltipPosition","containerRef","useInternalNavigation","internalNavigation","nav","observeContainer","current","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","disconnect","cleanup","start","weekStart","end","weekEnd","getDateRange","Array","from","i","formatDateRange","startStr","endStr","handleBarHover","data","handleBarLeave","weekSummary","systolicReadings","systolic","diastolicReadings","diastolic","avgSystolic","reduce","sum","val","toFixed","avgDiastolic","maxSystolic","maxDiastolic","getRiskCategory","avgRisk","parseFloat","daysWithReadings","Set","toDateString","size","totalReadings","ref","title","items","toLowerCase","replace","content","isVisible"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/components/patient_charts/BloodPressureChart.js"],"sourcesContent":["import React, { useState, useRef, useLayoutEffect, useMemo } from 'react';\r\nimport usePatientData from '../../hooks/usePatientData';\r\nimport useChartNavigation from '../../hooks/useChartNavigation';\r\nimport Legend from '../Legend';\r\nimport InfoBox from '../InfoBox';\r\nimport Tooltip from '../ui/Tooltip';\r\nimport './BloodPressureChart.css';\r\nimport '../ChartStyles.css';\r\nimport { createChartConfig } from '../chart-utils/ChartConfigFactory';\r\n\r\n// --- Constants ---\r\nconst TIME_LABELS = ['12a', '12p', '12a'];\r\nconst TIME_HOURS = [0, 12, 24];\r\n\r\n// --- Helper Functions ---\r\nconst getWeekStart = (date) => {\r\n  const d = new Date(date);\r\n  const day = d.getDay();\r\n  const diff = d.getDate() - day;\r\n  return new Date(d.setDate(diff));\r\n};\r\n\r\nconst formatDayLabel = (date) => {\r\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n  return dayNames[date.getDay()];\r\n};\r\n\r\nconst getTimePosition = (date, dayIndex, config) => {\r\n  const hour = date.getHours() + date.getMinutes() / 60;\r\n  const timeRatio = hour / 24;\r\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\r\n  return config.padding.left + (dayIndex * config.dayWidth) + config.dayPadding + (timeRatio * dayContentWidth);\r\n};\r\n\r\n// --- Chart Sub-components ---\r\n\r\nconst YAxis = ({ config, type }) => {\r\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\r\n  const yAxisLabels = config.yAxisLabels[type];\r\n  const valueRange = config.yAxisRange[type];\r\n  const yOffset = config.yAxisOffset[type];\r\n\r\n  return (\r\n    <g className=\"y-axis\">\r\n      <text\r\n        x={config.padding.left / 3}\r\n        y={config.padding.top + chartHeight / 2}\r\n        fontSize={config.fontSize.yAxisTitle}\r\n        textAnchor=\"middle\"\r\n        className=\"y-axis-title\"\r\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\r\n      >\r\n        mm Hg\r\n      </text>\r\n      {yAxisLabels.map(value => {\r\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\r\n        return (\r\n          <g key={value} className=\"y-axis-grid-group\">\r\n                        <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\r\n            <text x={config.padding.left - 10} y={y + 3} fontSize={config.fontSize.yAxis} textAnchor=\"end\" className=\"chart-tick-label\">{value}</text>\r\n          </g>\r\n        );\r\n      })}\r\n    </g>\r\n  );\r\n};\r\n\r\nconst XAxis = ({ config, weekDays }) => (\r\n  <g className=\"x-axis\">\r\n    {weekDays.map((day, dayIndex) => {\r\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\r\n      const dayCenterX = dayX + config.dayWidth / 2;\r\n      \r\n      // Tick positions\r\n      const startTickX = dayX;\r\n      const middleTickX = dayX + config.dayWidth / 2;\r\n\r\n      return (\r\n        <g key={dayIndex} className=\"x-axis-label-group\">\r\n          {/* X-axis tick marks */}\r\n          <line \r\n            className=\"x-axis-tick\" \r\n            x1={startTickX} \r\n            y1={config.height - config.padding.bottom} \r\n            x2={startTickX} \r\n            y2={config.height - config.padding.bottom + 5}\r\n            stroke=\"#666\"\r\n            strokeWidth=\"1\"\r\n          />\r\n          <line \r\n            className=\"x-axis-tick\" \r\n            x1={middleTickX} \r\n            y1={config.height - config.padding.bottom} \r\n            x2={middleTickX} \r\n            y2={config.height - config.padding.bottom + 5}\r\n            stroke=\"#666\"\r\n            strokeWidth=\"1\"\r\n          />\r\n          \r\n          {/* Time labels positioned at tick marks */}\r\n          <text\r\n            className=\"time-label\"\r\n            x={startTickX}\r\n            y={config.height - config.padding.bottom + 15}\r\n            textAnchor=\"middle\"\r\n            fontSize={config.fontSize.timeLabel}\r\n            style={{fontSize: '8px'}}\r\n          >\r\n            12a\r\n          </text>\r\n          <text\r\n            className=\"time-label\"\r\n            x={middleTickX}\r\n            y={config.height - config.padding.bottom + 15}\r\n            textAnchor=\"middle\"\r\n            fontSize={config.fontSize.timeLabel}\r\n            style={{fontSize: '8px'}}\r\n          >\r\n            12p\r\n          </text>\r\n\r\n          {/* Day and Date Labels */}\r\n          <text\r\n            x={dayCenterX}\r\n            y={config.height - config.padding.bottom + 35}\r\n            textAnchor=\"middle\"\r\n            className=\"x-axis-day-label\"\r\n            fontSize={config.fontSize.dayLabel}\r\n            style={{fontSize: '8px'}}\r\n          >\r\n            {formatDayLabel(day)}\r\n          </text>\r\n          <text\r\n            x={dayCenterX}\r\n            y={config.height - config.padding.bottom + 52}\r\n            textAnchor=\"middle\"\r\n            className=\"x-axis-date-label\"\r\n            fontSize={config.fontSize.dateLabel}\r\n            style={{fontSize: '8px'}}\r\n          >\r\n            {day.getDate()}\r\n          </text>\r\n        </g>\r\n      );\r\n    })}\r\n    {/* Final tick mark at the end of the last day */}\r\n    <line \r\n      className=\"x-axis-tick\" \r\n      x1={config.padding.left + weekDays.length * config.dayWidth} \r\n      y1={config.height - config.padding.bottom} \r\n      x2={config.padding.left + weekDays.length * config.dayWidth} \r\n      y2={config.height - config.padding.bottom + 5}\r\n      stroke=\"#666\"\r\n      strokeWidth=\"1\"\r\n    />\r\n    <text\r\n      className=\"time-label\"\r\n      x={config.padding.left + weekDays.length * config.dayWidth}\r\n      y={config.height - config.padding.bottom + 15}\r\n      textAnchor=\"middle\"\r\n      fontSize={config.fontSize.timeLabel}\r\n      style={{fontSize: '8px'}}\r\n    >\r\n      12a\r\n    </text>\r\n  </g>\r\n);\r\n\r\nconst GridLines = ({ config, weekDays }) => (\r\n  <g className=\"grid-lines\">\r\n    {/* Vertical day and time lines */}\r\n    {weekDays.map((_, dayIndex) => {\r\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\r\n      return (\r\n        <g key={dayIndex}>\r\n          <line className=\"chart-grid-line-vertical\" x1={dayX} y1={config.padding.top} x2={dayX} y2={config.height - config.padding.bottom} />\r\n          {/* Time lines at 12am and 12pm within each day */}\r\n          {[0, 12].map(hour => {\r\n            const timeRatio = hour / 24;\r\n            const x = config.padding.left + (dayIndex * config.dayWidth) + (timeRatio * config.dayWidth);\r\n            return <line key={`${dayIndex}-${hour}`} className=\"chart-grid-line-vertical-time\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />;\r\n          })}\r\n        </g>\r\n      );\r\n    })}\r\n    {/* Final grid line at the end of the last day */}\r\n    <line \r\n      className=\"chart-grid-line-vertical\" \r\n      x1={config.padding.left + weekDays.length * config.dayWidth} \r\n      y1={config.padding.top} \r\n      x2={config.padding.left + weekDays.length * config.dayWidth} \r\n      y2={config.height - config.padding.bottom} \r\n    />\r\n  </g>\r\n);\r\n\r\nconst DataBars = ({ readings, type, config, onBarHover, onBarLeave }) => {\r\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\r\n  const valueRange = config.yAxisRange[type];\r\n  const yOffset = config.yAxisOffset[type];\r\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\r\n\r\n  return (\r\n    <g className=\"data-bars\">\r\n      {readings.map((reading, index) => {\r\n        const readingDate = new Date(reading.date);\r\n        const dayIndex = readingDate.getDay();\r\n        const x = getTimePosition(readingDate, dayIndex, config);\r\n        const value = reading[type];\r\n        const barHeight = (value / valueRange) * chartHeight;\r\n        const y = config.height - config.padding.bottom - barHeight;\r\n\r\n        const handleMouseEnter = (event) => {\r\n          const tooltipData = {\r\n            type: type === 'systolic' ? 'Systolic' : 'Diastolic',\r\n            value: value,\r\n            unit: 'mmHg',\r\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\r\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\r\n            position: { x: event.clientX, y: event.clientY }\r\n          };\r\n          onBarHover(tooltipData);\r\n        };\r\n\r\n        const handleMouseLeave = () => {\r\n          onBarLeave();\r\n        };\r\n\r\n        return (\r\n          <rect\r\n            key={index}\r\n            x={x - config.barWidth / 2}\r\n            y={y}\r\n            width={config.barWidth}\r\n            height={Math.max(0, barHeight)}\r\n            fill={getColor(value)}\r\n            style={{ cursor: 'pointer' }}\r\n            onMouseEnter={handleMouseEnter}\r\n            onMouseLeave={handleMouseLeave}\r\n          />\r\n        );\r\n      })}\r\n    </g>\r\n  );\r\n};\r\n\r\nconst Chart = ({ type, weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\r\n  const config = createChartConfig('bloodPressure', isExpanded, containerWidth);\r\n  const readings = weekData.filter(d => d[type] && d[type] > 0);\r\n\r\n  return (\r\n    <div className={`chart-section ${isExpanded ? 'expanded' : ''}`}>\r\n      <h4 className=\"chart-subtitle\">{type === 'systolic' ? 'Systolic' : 'Diastolic'}</h4>\r\n      <div className=\"bp-svg-container\">\r\n        <svg\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          viewBox={`0 0 ${config.width} ${config.height}`}\r\n          className=\"chart-svg\"\r\n        >\r\n          <GridLines config={config} weekDays={weekDays} />\r\n          <YAxis config={config} type={type} />\r\n          <XAxis config={config} weekDays={weekDays} />\r\n          <DataBars readings={readings} type={type} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getSystolicColor = (value) => {\r\n  if (value < 90) return 'var(--chart-color-danger)';\r\n  if (value < 120) return 'var(--chart-color-blue)';\r\n  if (value < 140) return 'var(--chart-color-yellow)';\r\n  return 'var(--chart-color-orange)';\r\n};\r\n\r\nconst getDiastolicColor = (value) => {\r\n  if (value < 60) return 'var(--chart-color-danger)';\r\n  if (value < 80) return 'var(--chart-color-blue)';\r\n  if (value < 90) return 'var(--chart-color-yellow)';\r\n  return 'var(--chart-color-orange)';\r\n};\r\n\r\nconst bloodPressureLegendItems = [\r\n  { color: 'var(--chart-color-danger)', label: 'Low', description: 'Blood pressure below normal range' },\r\n  { color: 'var(--chart-color-blue)', label: 'Ideal', description: 'Blood pressure within ideal range' },\r\n  { color: 'var(--chart-color-yellow)', label: 'Pre-high', description: 'Blood pressure elevated but not yet high' },\r\n  { color: 'var(--chart-color-orange)', label: 'High', description: 'Blood pressure high - requires attention' },\r\n];\r\n\r\n\r\n// --- Main Component ---\r\nconst BloodPressureChart = ({ patientId, isExpanded = false, onExpand, viewMode = 'patient', navigation }) => {\r\n  const { bloodPressureData, loading, error } = usePatientData(patientId, 'bloodPressure');\r\n  const [containerWidth, setContainerWidth] = useState(400);\r\n  const [tooltipData, setTooltipData] = useState(null);\r\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\r\n  const containerRef = useRef(null);\r\n\r\n  // Use navigation from parent or fallback to internal navigation\r\n  const useInternalNavigation = !navigation;\r\n  const internalNavigation = useChartNavigation('bloodPressure');\r\n  const nav = navigation || internalNavigation;\r\n\r\n\r\n\r\n  // Resize observer to track container width changes\r\n  useLayoutEffect(() => {\r\n    const observeContainer = () => {\r\n      if (containerRef.current) {\r\n        const resizeObserver = new ResizeObserver(entries => {\r\n          for (let entry of entries) {\r\n            const { width } = entry.contentRect;\r\n            setContainerWidth(width);\r\n          }\r\n        });\r\n\r\n        resizeObserver.observe(containerRef.current);\r\n        return () => resizeObserver.disconnect();\r\n      }\r\n    };\r\n\r\n    const cleanup = observeContainer();\r\n    return cleanup;\r\n  }, []);\r\n\r\n  const { start: weekStart, end: weekEnd } = nav.getDateRange();\r\n\r\n  const weekData = bloodPressureData.filter(d => {\r\n    const readingDate = new Date(d.date);\r\n    return readingDate >= weekStart && readingDate <= weekEnd;\r\n  });\r\n\r\n  const weekDays = Array.from({ length: 7 }, (_, i) => {\r\n    const d = new Date(weekStart);\r\n    d.setDate(weekStart.getDate() + i);\r\n    return d;\r\n  });\r\n\r\n\r\n\r\n  const formatDateRange = (start, end) => {\r\n    const startStr = start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    const endStr = end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    return `${startStr} to ${endStr}`;\r\n  };\r\n\r\n  const handleBarHover = (data) => {\r\n    setTooltipData(data);\r\n    setTooltipPosition(data.position);\r\n  };\r\n\r\n  const handleBarLeave = () => {\r\n    setTooltipData(null);\r\n  };\r\n\r\n  // Calculate summary statistics for physician view\r\n  const weekSummary = useMemo(() => {\r\n    if (!weekData.length) return null;\r\n\r\n    const systolicReadings = weekData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\r\n    const diastolicReadings = weekData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\r\n\r\n    const avgSystolic = systolicReadings.length > 0 ? \r\n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\r\n    const avgDiastolic = diastolicReadings.length > 0 ? \r\n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\r\n\r\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\r\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\r\n\r\n    const getRiskCategory = (systolic, diastolic) => {\r\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\r\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\r\n      return 'Low Risk';\r\n    };\r\n\r\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\r\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\r\n\r\n    return {\r\n      avgSystolic,\r\n      avgDiastolic,\r\n      maxSystolic,\r\n      maxDiastolic,\r\n      avgRisk,\r\n      daysWithReadings,\r\n      totalReadings: weekData.length\r\n    };\r\n  }, [weekData]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bp-chart-container\" ref={containerRef}>\r\n        <div className={`bp-chart-content ${isExpanded ? 'expanded' : ''}`}>\r\n          <h3 className=\"bp-main-title\">Blood Pressure</h3>\r\n          <div className=\"bp-charts-wrapper\">\r\n            <Chart \r\n              type=\"systolic\" \r\n              weekData={weekData} \r\n              isExpanded={isExpanded} \r\n              weekDays={weekDays} \r\n              containerWidth={containerWidth}\r\n              onBarHover={handleBarHover}\r\n              onBarLeave={handleBarLeave}\r\n            />\r\n            <Chart \r\n              type=\"diastolic\" \r\n              weekData={weekData} \r\n              isExpanded={isExpanded} \r\n              weekDays={weekDays} \r\n              containerWidth={containerWidth}\r\n              onBarHover={handleBarHover}\r\n              onBarLeave={handleBarLeave}\r\n            />\r\n          </div>\r\n          <Legend title=\"Blood Pressure Category:\" items={bloodPressureLegendItems} />\r\n          \r\n          {/* Show InfoBox for patient view, summary for physician view */}\r\n          {viewMode === 'physician' && weekSummary ? (\r\n            <div className=\"chart-summary\">\r\n              <h4>Week Summary</h4>\r\n              <div className=\"summary-stats\">\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Average BP:</span>\r\n                  <span className=\"stat-value\">\r\n                    {weekSummary.avgSystolic}/{weekSummary.avgDiastolic} mmHg\r\n                  </span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Peak BP:</span>\r\n                  <span className=\"stat-value\">\r\n                    {weekSummary.maxSystolic}/{weekSummary.maxDiastolic} mmHg\r\n                  </span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Risk Category:</span>\r\n                  <span className={`stat-value ${weekSummary.avgRisk.toLowerCase().replace(' ', '-')}`}>\r\n                    {weekSummary.avgRisk}\r\n                  </span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Reading Days:</span>\r\n                  <span className=\"stat-value\">\r\n                    {weekSummary.daysWithReadings}/7 days\r\n                  </span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Total Readings:</span>\r\n                  <span className=\"stat-value\">\r\n                    {weekSummary.totalReadings}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : viewMode === 'patient' ? (\r\n            <InfoBox \r\n              title=\"Blood Pressure Information\"\r\n              content=\"Blood pressure ranges (Blood Pressure UK): Low: <90/<60 mmHg. Ideal: 90-120/60-80 mmHg. Pre-high: 120-140/80-90 mmHg. High: ≥140/≥90 mmHg. Always consult your healthcare provider for your personal targets.\"\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Custom Tooltip */}\r\n      <Tooltip\r\n        isVisible={!!tooltipData}\r\n        content={tooltipData && (\r\n          <div>\r\n            <div className=\"tooltip-title\">{tooltipData.type} Blood Pressure</div>\r\n            <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\r\n            <div className=\"tooltip-time\">{tooltipData.time}</div>\r\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\r\n          </div>\r\n        )}\r\n        position={tooltipPosition}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BloodPressureChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}