{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local Experimental\\\\PGHD_Visualization_Dashboard\\\\src\\\\components\\\\patient_charts\\\\BloodPressureChart.js\",\n  _s = $RefreshSig$();\n/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides blood pressure tracking with systolic and diastolic pressure visualization. It includes risk categorization with color coding and provides daily and weekly trend analysis. It supports display of multiple daily measurements and includes interactive tooltips with blood pressure details. It includes navigation controls for time periods. The component uses custom SVG for blood pressure visualization and implements a dual-axis system for systolic and diastolic values. It provides risk-based color coding for clinical interpretation and supports multiple daily readings with time-based positioning. The component implements configurable layouts. Visualization features include color-coded risk categories including normal, elevated, high, and crisis, time-based positioning for multiple daily readings, interactive tooltips with detailed blood pressure information, and a grid system with axis scaling. Clinical features include risk categorization based on medical guidelines, summary statistics for physician view, trend analysis over time periods, and educational information for patient view. The component structure includes a dual-axis system for systolic and diastolic values on the Y-axis, a time-based axis with day and time labels on the X-axis, interactive blood pressure readings as data points, risk category explanations in the legend, and detailed reading information in tooltips. This component is used for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\n// Helper Functions\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatDayLabel = date => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + dayIndex * config.dayWidth + config.dayPadding + timeRatio * dayContentWidth;\n};\n\n// Chart Sub-components\n\nconst YAxis = ({\n  config,\n  type\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"text\", {\n      x: config.padding.left / 3,\n      y: config.padding.top + chartHeight / 2,\n      fontSize: config.fontSize.yAxisTitle,\n      textAnchor: \"middle\",\n      className: \"y-axis-title\",\n      transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n      children: \"mm Hg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), yAxisLabels.map(value => {\n      const y = config.height - config.padding.bottom - (value - yOffset) / valueRange * chartHeight;\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis-grid-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-horizontal\",\n          x1: config.padding.left,\n          y1: y,\n          x2: config.width - config.padding.right,\n          y2: y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: config.padding.left - 10,\n          y: y + 3,\n          fontSize: config.fontSize.yAxis,\n          textAnchor: \"end\",\n          className: \"chart-tick-label\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n// Blood Pressure Range Background Component\n_c = YAxis;\nconst BPRangeBackground = ({\n  config,\n  isCombined = false\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  if (isCombined) {\n    // For combined chart with single axis (0-200), show systolic ranges as background\n    // Based on Blood_pressure_range_description.txt\n    const valueRange = config.yAxisRange;\n    const yOffset = config.yAxisOffset;\n    const ranges = [{\n      name: 'High',\n      min: 140,\n      max: 200,\n      color: 'var(--chart-color-bp-high)',\n      opacity: 0.15\n    }, {\n      name: 'Pre-high',\n      min: 120,\n      max: 140,\n      color: 'var(--chart-color-bp-pre-high)',\n      opacity: 0.15\n    }, {\n      name: 'Ideal',\n      min: 90,\n      max: 120,\n      color: 'var(--chart-color-bp-ideal)',\n      opacity: 0.15\n    }, {\n      name: 'Low',\n      min: 0,\n      max: 90,\n      color: 'var(--chart-color-bp-low)',\n      opacity: 0.15\n    }];\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"bp-range-background\",\n      children: ranges.map(range => {\n        const topY = config.height - config.padding.bottom - (range.max - yOffset) / valueRange * chartHeight;\n        const bottomY = config.height - config.padding.bottom - (range.min - yOffset) / valueRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: config.padding.left,\n          y: Math.min(topY, bottomY),\n          width: config.width - config.padding.left - config.padding.right,\n          height: Math.abs(bottomY - topY),\n          fill: range.color,\n          opacity: range.opacity,\n          className: `bp-range-${range.name.toLowerCase()}`\n        }, range.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  } else {\n    // For separate charts, use dual-axis ranges\n    const systolicRange = config.yAxisRange.systolic;\n    const diastolicRange = config.yAxisRange.diastolic;\n    const systolicOffset = config.yAxisOffset.systolic;\n    const diastolicOffset = config.yAxisOffset.diastolic;\n    const ranges = [{\n      name: 'High',\n      systolic: [140, 200],\n      diastolic: [90, 120],\n      color: 'var(--chart-color-bp-high)',\n      opacity: 0.1\n    }, {\n      name: 'Pre-high',\n      systolic: [120, 140],\n      diastolic: [80, 90],\n      color: 'var(--chart-color-bp-pre-high)',\n      opacity: 0.1\n    }, {\n      name: 'Ideal',\n      systolic: [90, 120],\n      diastolic: [60, 80],\n      color: 'var(--chart-color-bp-ideal)',\n      opacity: 0.1\n    }, {\n      name: 'Low',\n      systolic: [0, 90],\n      diastolic: [0, 60],\n      color: 'var(--chart-color-bp-low)',\n      opacity: 0.1\n    }];\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"bp-range-background\",\n      children: ranges.map(range => {\n        const systolicTopY = config.height - config.padding.bottom - (range.systolic[1] - systolicOffset) / systolicRange * chartHeight;\n        const systolicBottomY = config.height - config.padding.bottom - (range.systolic[0] - systolicOffset) / systolicRange * chartHeight;\n        const diastolicTopY = config.height - config.padding.bottom - (range.diastolic[1] - diastolicOffset) / diastolicRange * chartHeight;\n        const diastolicBottomY = config.height - config.padding.bottom - (range.diastolic[0] - diastolicOffset) / diastolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: config.padding.left,\n            y: Math.min(systolicTopY, systolicBottomY),\n            width: config.width - config.padding.left - config.padding.right,\n            height: Math.abs(systolicBottomY - systolicTopY),\n            fill: range.color,\n            opacity: range.opacity,\n            className: `bp-range-${range.name.toLowerCase()}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: config.padding.left,\n            y: Math.min(diastolicTopY, diastolicBottomY),\n            width: config.width - config.padding.left - config.padding.right,\n            height: Math.abs(diastolicBottomY - diastolicTopY),\n            fill: range.color,\n            opacity: range.opacity,\n            className: `bp-range-${range.name.toLowerCase()}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, range.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n// Dual Y-Axis Component for Combined Chart\n_c2 = BPRangeBackground;\nconst DualYAxis = ({\n  config\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"dual-y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: config.padding.left / 3,\n        y: config.padding.top + chartHeight / 2,\n        fontSize: config.fontSize.yAxisTitle,\n        textAnchor: \"middle\",\n        className: \"y-axis-title\",\n        transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n        children: \"Systolic (mmHg)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), systolicLabels.map(value => {\n        const y = config.height - config.padding.bottom - (value - systolicOffset) / systolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"y-axis-grid-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            className: \"chart-grid-line-horizontal\",\n            x1: config.padding.left,\n            y1: y,\n            x2: config.width - config.padding.right,\n            y2: y\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: config.padding.left - 10,\n            y: y + 3,\n            fontSize: config.fontSize.yAxis,\n            textAnchor: \"end\",\n            className: \"chart-tick-label systolic-label\",\n            fill: \"black\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, `systolic-${value}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: config.width - config.padding.right / 3,\n        y: config.padding.top + chartHeight / 2,\n        fontSize: config.fontSize.yAxisTitle,\n        textAnchor: \"middle\",\n        className: \"y-axis-title\",\n        transform: `rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`,\n        children: \"Diastolic (mmHg)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), diastolicLabels.map(value => {\n        const y = config.height - config.padding.bottom - (value - diastolicOffset) / diastolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"y-axis-grid-group\",\n          children: /*#__PURE__*/_jsxDEV(\"text\", {\n            x: config.width - config.padding.right + 10,\n            y: y + 3,\n            fontSize: config.fontSize.yAxis,\n            textAnchor: \"start\",\n            className: \"chart-tick-label diastolic-label\",\n            fill: \"var(--chart-color-green)\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, `diastolic-${value}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n_c3 = DualYAxis;\nconst XAxis = ({\n  config,\n  weekDays\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"x-axis\",\n  children: [weekDays.map((day, dayIndex) => {\n    const dayX = config.padding.left + dayIndex * config.dayWidth;\n    const dayCenterX = dayX + config.dayWidth / 2;\n\n    // Tick positions\n    const startTickX = dayX;\n    const middleTickX = dayX + config.dayWidth / 2;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis-label-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: startTickX,\n        y1: config.height - config.padding.bottom,\n        x2: startTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: middleTickX,\n        y1: config.height - config.padding.bottom,\n        x2: middleTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: startTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.timeLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: \"12a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: middleTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.timeLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: \"12p\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: dayCenterX,\n        y: config.height - config.padding.bottom + 40,\n        textAnchor: \"middle\",\n        className: \"x-axis-day-label\",\n        fontSize: config.fontSize.dayLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: formatDayLabel(day)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: dayCenterX,\n        y: config.height - config.padding.bottom + 62,\n        textAnchor: \"middle\",\n        className: \"x-axis-date-label\",\n        fontSize: config.fontSize.dateLabel,\n        style: {\n          fontSize: '13px'\n        },\n        children: day.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)]\n    }, dayIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"x-axis-tick\",\n    x1: config.padding.left + weekDays.length * config.dayWidth,\n    y1: config.height - config.padding.bottom,\n    x2: config.padding.left + weekDays.length * config.dayWidth,\n    y2: config.height - config.padding.bottom + 5,\n    stroke: \"var(--chart-color-neutral)\",\n    strokeWidth: \"1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 363,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n    className: \"time-label\",\n    x: config.padding.left + weekDays.length * config.dayWidth,\n    y: config.height - config.padding.bottom + 15,\n    textAnchor: \"middle\",\n    fontSize: config.fontSize.timeLabel,\n    style: {\n      fontSize: '13px'\n    },\n    children: \"12a\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 372,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 285,\n  columnNumber: 3\n}, this);\n_c4 = XAxis;\nconst GridLines = ({\n  config,\n  weekDays\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"grid-lines\",\n  children: [weekDays.map((_, dayIndex) => {\n    const dayX = config.padding.left + dayIndex * config.dayWidth;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"chart-grid-line-vertical\",\n        x1: dayX,\n        y1: config.padding.top,\n        x2: dayX,\n        y2: config.height - config.padding.bottom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this), [0, 12].map(hour => {\n        const timeRatio = hour / 24;\n        const x = config.padding.left + dayIndex * config.dayWidth + timeRatio * config.dayWidth;\n        return /*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-vertical-time\",\n          x1: x,\n          y1: config.padding.top,\n          x2: x,\n          y2: config.height - config.padding.bottom\n        }, `${dayIndex}-${hour}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 20\n        }, this);\n      })]\n    }, dayIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"chart-grid-line-vertical\",\n    x1: config.padding.left + weekDays.length * config.dayWidth,\n    y1: config.padding.top,\n    x2: config.padding.left + weekDays.length * config.dayWidth,\n    y2: config.height - config.padding.bottom\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 386,\n  columnNumber: 3\n}, this);\n_c5 = GridLines;\nconst DataBars = ({\n  readings,\n  type,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"data-bars\",\n    children: readings.map((reading, index) => {\n      const readingDate = new Date(reading.date);\n      const dayIndex = readingDate.getDay();\n      const x = getTimePosition(readingDate, dayIndex, config);\n      const value = reading[type];\n      const barHeight = value / valueRange * chartHeight;\n      const y = config.height - config.padding.bottom - barHeight;\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n          value: value,\n          unit: 'mmHg',\n          time: readingDate.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: readingDate.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n      return /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: x - config.barWidth / 2,\n        y: y,\n        width: config.barWidth,\n        height: Math.max(0, barHeight),\n        fill: getColor(value),\n        style: {\n          cursor: 'pointer'\n        },\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 420,\n    columnNumber: 5\n  }, this);\n};\n_c6 = DataBars;\nconst getSystolicColor = value => {\n  if (value < 90) return 'var(--chart-color-bp-low)';\n  if (value < 120) return 'var(--chart-color-bp-ideal)';\n  if (value < 140) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\nconst getDiastolicColor = value => {\n  if (value < 60) return 'var(--chart-color-bp-low)';\n  if (value < 80) return 'var(--chart-color-bp-ideal)';\n  if (value < 90) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\n// Combined I-Bar Chart Component\nconst CombinedDataBars = ({\n  readings,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  // Use single range for both systolic and diastolic (0-200 covers both)\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n\n  // Determine overall risk color and category based on both values\n  // Based on Blood_pressure_range_description.txt:\n  // Low: systolic < 90 AND diastolic < 60\n  // Ideal: systolic 90-120 AND diastolic 60-80\n  // Pre-high: systolic 120-140 OR diastolic 80-90\n  // High: systolic >= 140 OR diastolic >= 90\n  const getCombinedRiskColor = (systolic, diastolic) => {\n    // High: systolic >= 140 OR diastolic >= 90\n    if (systolic >= 140 || diastolic >= 90) return 'var(--chart-color-bp-high)';\n\n    // Pre-high: systolic 120-140 OR diastolic 80-90 (but not already high)\n    if (systolic >= 120 && systolic < 140 || diastolic >= 80 && diastolic < 90) {\n      return 'var(--chart-color-bp-pre-high)';\n    }\n\n    // Low: systolic < 90 AND diastolic < 60 (both must be low)\n    if (systolic < 90 && diastolic < 60) return 'var(--chart-color-bp-low)';\n\n    // Ideal: systolic 90-120 AND diastolic 60-80 (default for remaining cases)\n    return 'var(--chart-color-bp-ideal)';\n  };\n  const getCombinedRiskCategory = (systolic, diastolic) => {\n    // High: systolic >= 140 OR diastolic >= 90\n    if (systolic >= 140 || diastolic >= 90) {\n      return {\n        name: 'High',\n        color: 'var(--chart-color-bp-high)'\n      };\n    }\n\n    // Pre-high: systolic 120-140 OR diastolic 80-90\n    if (systolic >= 120 && systolic < 140 || diastolic >= 80 && diastolic < 90) {\n      return {\n        name: 'Pre-High',\n        color: 'var(--chart-color-bp-pre-high)'\n      };\n    }\n\n    // Low: systolic < 90 AND diastolic < 60\n    if (systolic < 90 && diastolic < 60) {\n      return {\n        name: 'Low',\n        color: 'var(--chart-color-bp-low)'\n      };\n    }\n\n    // Ideal: systolic 90-120 AND diastolic 60-80\n    return {\n      name: 'Ideal',\n      color: 'var(--chart-color-bp-ideal)'\n    };\n  };\n\n  // Sort readings by date/time for proper line connection\n  const sortedReadings = [...readings].sort((a, b) => {\n    const dateA = new Date(a.date);\n    const dateB = new Date(b.date);\n    return dateA - dateB;\n  });\n\n  // Build path strings for trend lines\n  const buildPath = points => {\n    if (points.length === 0) return '';\n    return points.map((point, index) => `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`).join(' ');\n  };\n\n  // Calculate all point positions\n  const points = sortedReadings.map(reading => {\n    const readingDate = new Date(reading.date);\n    const dayIndex = readingDate.getDay();\n    const x = getTimePosition(readingDate, dayIndex, config);\n    const systolicValue = reading.systolic;\n    const diastolicValue = reading.diastolic;\n    const systolicBarHeight = (systolicValue - yOffset) / valueRange * chartHeight;\n    const diastolicBarHeight = (diastolicValue - yOffset) / valueRange * chartHeight;\n    const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n    const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n    return {\n      x,\n      systolicY,\n      diastolicY,\n      reading,\n      readingDate,\n      systolicValue,\n      diastolicValue\n    };\n  });\n\n  // Build paths for both lines\n  const systolicPath = buildPath(points.map(p => ({\n    x: p.x,\n    y: p.systolicY\n  })));\n  const diastolicPath = buildPath(points.map(p => ({\n    x: p.x,\n    y: p.diastolicY\n  })));\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"combined-data-bars\",\n    children: [systolicPath && points.length > 1 && /*#__PURE__*/_jsxDEV(\"path\", {\n      d: systolicPath,\n      fill: \"none\",\n      stroke: \"black\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      className: \"systolic-trend-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 9\n    }, this), diastolicPath && points.length > 1 && /*#__PURE__*/_jsxDEV(\"path\", {\n      d: diastolicPath,\n      fill: \"none\",\n      stroke: \"var(--chart-color-green)\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      className: \"diastolic-trend-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 9\n    }, this), points.map((point, index) => {\n      const {\n        reading,\n        readingDate,\n        x,\n        systolicY,\n        diastolicY,\n        systolicValue,\n        diastolicValue\n      } = point;\n      const combinedRiskColor = getCombinedRiskColor(systolicValue, diastolicValue);\n      const riskCategory = getCombinedRiskCategory(systolicValue, diastolicValue);\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          type: 'Blood Pressure',\n          systolic: systolicValue,\n          diastolic: diastolicValue,\n          unit: 'mmHg',\n          category: riskCategory.name,\n          categoryColor: riskCategory.color,\n          time: readingDate.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: readingDate.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"bp-reading-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: systolicY,\n          r: \"5\",\n          fill: combinedRiskColor,\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"systolic-dot\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: diastolicY,\n          r: \"4\",\n          fill: combinedRiskColor,\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"diastolic-dot\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 572,\n    columnNumber: 5\n  }, this);\n};\n_c7 = CombinedDataBars;\nconst Chart = ({\n  type,\n  weekData,\n  isExpanded,\n  weekDays,\n  containerWidth,\n  onBarHover,\n  onBarLeave\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 22,\n      dayLabel: 22,\n      dateLabel: 22\n    },\n    barWidth: 12,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 40, 80, 120, 160, 200],\n      diastolic: [0, 20, 40, 60, 80, 100, 120]\n    },\n    dayPadding: 10\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 19,\n      dayLabel: 19,\n      dateLabel: 19\n    },\n    barWidth: 8,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 100, 200],\n      diastolic: [0, 60, 120]\n    },\n    dayPadding: 6\n  };\n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chart-section ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: type === 'systolic' ? 'Systolic' : 'Diastolic'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 704,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp-svg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        className: \"chart-svg\",\n        children: [/*#__PURE__*/_jsxDEV(GridLines, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          config: config,\n          type: type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataBars, {\n          readings: readings,\n          type: type,\n          config: config,\n          onBarHover: onBarHover,\n          onBarLeave: onBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 703,\n    columnNumber: 5\n  }, this);\n};\n\n// Combined Y-Axis Component for Combined Chart (single axis)\n_c8 = Chart;\nconst CombinedYAxis = ({\n  config\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels;\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"text\", {\n      x: config.padding.left / 3,\n      y: config.padding.top + chartHeight / 2,\n      fontSize: config.fontSize.yAxisTitle,\n      textAnchor: \"middle\",\n      className: \"y-axis-title\",\n      transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n      children: \"Millimeters of mercury (mmHg)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 731,\n      columnNumber: 7\n    }, this), yAxisLabels.map(value => {\n      const y = config.height - config.padding.bottom - (value - yOffset) / valueRange * chartHeight;\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis-grid-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-horizontal\",\n          x1: config.padding.left,\n          y1: y,\n          x2: config.width - config.padding.right,\n          y2: y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: config.padding.left - 10,\n          y: y + 3,\n          fontSize: config.fontSize.yAxis,\n          textAnchor: \"end\",\n          className: \"chart-tick-label\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 13\n        }, this)]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 730,\n    columnNumber: 5\n  }, this);\n};\n\n// Combined Chart Component\n_c9 = CombinedYAxis;\nconst CombinedChart = ({\n  weekData,\n  isExpanded,\n  weekDays,\n  containerWidth,\n  onBarHover,\n  onBarLeave\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 22,\n      dayLabel: 22,\n      dateLabel: 22\n    },\n    barWidth: 12,\n    yAxisRange: 200,\n    // Single range for both systolic and diastolic\n    yAxisOffset: 0,\n    yAxisLabels: [0, 40, 80, 120, 160, 200],\n    dayPadding: 10\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 19,\n      dayLabel: 19,\n      dateLabel: 19\n    },\n    barWidth: 8,\n    yAxisRange: 200,\n    // Single range for both systolic and diastolic\n    yAxisOffset: 0,\n    yAxisLabels: [0, 50, 100, 150, 200],\n    dayPadding: 6\n  };\n\n  // Filter readings and validate that systolic > diastolic (medically required)\n  const readings = weekData.filter(d => d.systolic && d.diastolic && d.systolic > 0 && d.diastolic > 0 && d.systolic > d.diastolic // Ensure systolic is always greater than diastolic\n  );\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chart-section combined-chart ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: \"Blood Pressure (Systolic/Diastolic)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp-svg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        className: \"chart-svg\",\n        children: [/*#__PURE__*/_jsxDEV(BPRangeBackground, {\n          config: config,\n          isCombined: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridLines, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CombinedYAxis, {\n          config: config\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CombinedDataBars, {\n          readings: readings,\n          config: config,\n          onBarHover: onBarHover,\n          onBarLeave: onBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 814,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 813,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 811,\n    columnNumber: 5\n  }, this);\n};\n_c0 = CombinedChart;\nconst bloodPressureLegendItems = [{\n  color: 'var(--chart-color-bp-low)',\n  label: 'Low',\n  description: 'Blood pressure below normal range'\n}, {\n  color: 'var(--chart-color-bp-ideal)',\n  label: 'Ideal',\n  description: 'Blood pressure within ideal range'\n}, {\n  color: 'var(--chart-color-bp-pre-high)',\n  label: 'Pre-high',\n  description: 'Blood pressure elevated but not yet high'\n}, {\n  color: 'var(--chart-color-bp-high)',\n  label: 'High',\n  description: 'Blood pressure high - requires attention'\n}];\n\n// --- Main Component ---\nconst BloodPressureChart = ({\n  patientId,\n  isExpanded = false,\n  onExpand,\n  accessType = 'Admin',\n  navigation,\n  screenshotMode = false,\n  showThreeMonthSummaries = false\n}) => {\n  _s();\n  const {\n    bloodPressureData,\n    loading,\n    error\n  } = usePatientData(patientId);\n  const [containerWidth, setContainerWidth] = useState(400);\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  // For Patient access, force Combined View (remove Separate Charts access).\n  // For Physician access, force Combined View (remove Separate Charts access).\n  // Admin can toggle between both.\n  const shouldForceCombinedView = accessType === 'Patient' || accessType === 'Physician';\n\n  // Determine initial view state\n  let initialUseCombinedView = false;\n  if (shouldForceCombinedView) {\n    initialUseCombinedView = true;\n  }\n  const [useCombinedView, setUseCombinedView] = useState(initialUseCombinedView); // State for view toggle\n\n  // Enforce combined view for Patient and Physician - override state if needed\n  const effectiveUseCombinedView = shouldForceCombinedView ? true : useCombinedView;\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n\n  // Resize observer to track container width changes\n  useLayoutEffect(() => {\n    const observeContainer = () => {\n      if (containerRef.current) {\n        const resizeObserver = new ResizeObserver(entries => {\n          for (let entry of entries) {\n            const {\n              width\n            } = entry.contentRect;\n            setContainerWidth(width);\n          }\n        });\n        resizeObserver.observe(containerRef.current);\n        return () => resizeObserver.disconnect();\n      }\n    };\n    const cleanup = observeContainer();\n    return cleanup;\n  }, []);\n  const {\n    start: weekStart,\n    end: weekEnd\n  } = nav.getDateRange();\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const {\n    start: startOfThreeMonths,\n    end: endOfThreeMonths\n  } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n  const weekDays = Array.from({\n    length: 7\n  }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n  const handleBarHover = data => {\n    setTooltipData(data);\n    setTooltipPosition(data.position);\n  };\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Calculate summary statistics for week and 3-month periods\n  // This calculates average, max, risk categories, and reading counts\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    // Get all valid readings (where both systolic and diastolic are > 0)\n    const systolicReadings = weekData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = weekData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    // Calculate averages (sum all values, divide by count, round to whole number)\n    const avgSystolic = systolicReadings.length > 0 ? (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    // Find maximum values\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    // Determine risk category based on average values\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n\n    // Count unique days with readings\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\n    weekSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: weekData.length\n    };\n  }\n\n  // Calculate 3-month summary (same logic as week summary, just different data)\n  let threeMonthSummary = null;\n  if (threeMonthData.length > 0) {\n    const systolicReadings = threeMonthData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = threeMonthData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n    const avgSystolic = systolicReadings.length > 0 ? (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    const daysWithReadings = new Set(threeMonthData.map(d => d.date.toDateString())).size;\n    threeMonthSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: threeMonthData.length\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bp-chart-container ${isExpanded ? 'expanded' : ''}`,\n      ref: containerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"bp-main-title\",\n          children: \"Blood Pressure\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1002,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chart-subtitle\",\n          children: nav.getFormattedDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 11\n        }, this), accessType === 'Admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${!effectiveUseCombinedView ? 'active' : ''}`,\n            onClick: () => setUseCombinedView(false),\n            children: \"Separate Charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${effectiveUseCombinedView ? 'active' : ''}`,\n            onClick: () => setUseCombinedView(true),\n            children: \"Combined View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1001,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp-charts-wrapper\",\n        children: effectiveUseCombinedView ? /*#__PURE__*/_jsxDEV(CombinedChart, {\n          weekData: weekData,\n          isExpanded: isExpanded,\n          weekDays: weekDays,\n          containerWidth: containerWidth,\n          onBarHover: handleBarHover,\n          onBarLeave: handleBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Chart, {\n            type: \"systolic\",\n            weekData: weekData,\n            isExpanded: isExpanded,\n            weekDays: weekDays,\n            containerWidth: containerWidth,\n            onBarHover: handleBarHover,\n            onBarLeave: handleBarLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chart, {\n            type: \"diastolic\",\n            weekData: weekData,\n            isExpanded: isExpanded,\n            weekDays: weekDays,\n            containerWidth: containerWidth,\n            onBarHover: handleBarHover,\n            onBarLeave: handleBarLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1024,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n        title: \"Blood Pressure Category:\",\n        items: bloodPressureLegendItems,\n        hide: screenshotMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 9\n      }, this), weekSummary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n          title: \"Blood Pressure Information\",\n          content: \"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1065,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Week Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1076,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.avgSystolic, \"/\", weekSummary.avgDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1075,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1082,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.maxSystolic, \"/\", weekSummary.maxDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1083,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Reading Days:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1089,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.daysWithReadings, \"/7 days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1090,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1088,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1095,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: weekSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1096,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1094,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 15\n          }, this), showThreeMonthSummaries && threeMonthSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"3-Month Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1108,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.avgSystolic, \"/\", threeMonthSummary.avgDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1109,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1107,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak BP:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1114,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.maxSystolic, \"/\", threeMonthSummary.maxDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: threeMonthSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1121,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1119,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1106,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n        title: \"Blood Pressure Information\",\n        content: \"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1132,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1000,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      isVisible: !!tooltipData,\n      content: tooltipData && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-title\",\n          children: tooltipData.type === 'Blood Pressure' ? 'Blood Pressure' : `${tooltipData.type} Blood Pressure`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1145,\n          columnNumber: 13\n        }, this), tooltipData.systolic && tooltipData.diastolic ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.systolic, \"/\", tooltipData.diastolic, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.value, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1151,\n          columnNumber: 15\n        }, this), tooltipData.category && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-category\",\n          style: {\n            color: tooltipData.categoryColor\n          },\n          children: tooltipData.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1154,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-time\",\n          children: tooltipData.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-date\",\n          children: tooltipData.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1144,\n        columnNumber: 11\n      }, this),\n      position: tooltipPosition\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BloodPressureChart, \"gf+i08+Z/OFZr6y1B47S/JbUUIU=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c1 = BloodPressureChart;\nexport default BloodPressureChart;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"YAxis\");\n$RefreshReg$(_c2, \"BPRangeBackground\");\n$RefreshReg$(_c3, \"DualYAxis\");\n$RefreshReg$(_c4, \"XAxis\");\n$RefreshReg$(_c5, \"GridLines\");\n$RefreshReg$(_c6, \"DataBars\");\n$RefreshReg$(_c7, \"CombinedDataBars\");\n$RefreshReg$(_c8, \"Chart\");\n$RefreshReg$(_c9, \"CombinedYAxis\");\n$RefreshReg$(_c0, \"CombinedChart\");\n$RefreshReg$(_c1, \"BloodPressureChart\");","map":{"version":3,"names":["React","useState","useRef","useLayoutEffect","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","jsxDEV","_jsxDEV","Fragment","_Fragment","formatDayLabel","date","dayNames","getDay","getTimePosition","dayIndex","config","hour","getHours","getMinutes","timeRatio","dayContentWidth","dayWidth","dayPadding","padding","left","YAxis","type","chartHeight","height","top","bottom","yAxisLabels","valueRange","yAxisRange","yOffset","yAxisOffset","className","children","x","y","fontSize","yAxisTitle","textAnchor","transform","fileName","_jsxFileName","lineNumber","columnNumber","map","value","x1","y1","x2","width","right","y2","yAxis","_c","BPRangeBackground","isCombined","ranges","name","min","max","color","opacity","range","topY","bottomY","Math","abs","fill","toLowerCase","systolicRange","systolic","diastolicRange","diastolic","systolicOffset","diastolicOffset","systolicTopY","systolicBottomY","diastolicTopY","diastolicBottomY","_c2","DualYAxis","systolicLabels","diastolicLabels","_c3","XAxis","weekDays","day","dayX","dayCenterX","startTickX","middleTickX","stroke","strokeWidth","timeLabel","style","dayLabel","dateLabel","getDate","length","_c4","GridLines","_","_c5","DataBars","readings","onBarHover","onBarLeave","getColor","getSystolicColor","getDiastolicColor","reading","index","readingDate","Date","barHeight","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","cursor","onMouseEnter","onMouseLeave","_c6","CombinedDataBars","getCombinedRiskColor","getCombinedRiskCategory","sortedReadings","sort","a","b","dateA","dateB","buildPath","points","point","join","systolicValue","diastolicValue","systolicBarHeight","diastolicBarHeight","systolicY","diastolicY","systolicPath","p","diastolicPath","d","strokeLinecap","strokeLinejoin","combinedRiskColor","riskCategory","category","categoryColor","cx","cy","r","_c7","Chart","weekData","isExpanded","containerWidth","filter","viewBox","_c8","CombinedYAxis","_c9","CombinedChart","_c0","bloodPressureLegendItems","label","description","BloodPressureChart","patientId","onExpand","accessType","navigation","screenshotMode","showThreeMonthSummaries","_s","bloodPressureData","loading","error","setContainerWidth","setTooltipData","tooltipPosition","setTooltipPosition","shouldForceCombinedView","initialUseCombinedView","useCombinedView","setUseCombinedView","effectiveUseCombinedView","containerRef","internalNavigation","nav","observeContainer","current","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","disconnect","cleanup","start","weekStart","end","weekEnd","getDateRange","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","Array","from","i","setDate","handleBarHover","data","handleBarLeave","weekSummary","systolicReadings","diastolicReadings","avgSystolic","reduce","sum","val","toFixed","avgDiastolic","maxSystolic","maxDiastolic","getRiskCategory","avgRisk","parseFloat","daysWithReadings","Set","toDateString","size","totalReadings","threeMonthSummary","ref","getFormattedDateRange","onClick","title","items","hide","content","isVisible","_c1","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/BloodPressureChart.js"],"sourcesContent":["/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides blood pressure tracking with systolic and diastolic pressure visualization. It includes risk categorization with color coding and provides daily and weekly trend analysis. It supports display of multiple daily measurements and includes interactive tooltips with blood pressure details. It includes navigation controls for time periods. The component uses custom SVG for blood pressure visualization and implements a dual-axis system for systolic and diastolic values. It provides risk-based color coding for clinical interpretation and supports multiple daily readings with time-based positioning. The component implements configurable layouts. Visualization features include color-coded risk categories including normal, elevated, high, and crisis, time-based positioning for multiple daily readings, interactive tooltips with detailed blood pressure information, and a grid system with axis scaling. Clinical features include risk categorization based on medical guidelines, summary statistics for physician view, trend analysis over time periods, and educational information for patient view. The component structure includes a dual-axis system for systolic and diastolic values on the Y-axis, a time-based axis with day and time labels on the X-axis, interactive blood pressure readings as data points, risk category explanations in the legend, and detailed reading information in tooltips. This component is used for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\n// Helper Functions\n\nconst formatDayLabel = (date) => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\n\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + (dayIndex * config.dayWidth) + config.dayPadding + (timeRatio * dayContentWidth);\n};\n\n// Chart Sub-components\n\nconst YAxis = ({ config, type }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n\n  return (\n    <g className=\"y-axis\">\n      <text\n        x={config.padding.left / 3}\n        y={config.padding.top + chartHeight / 2}\n        fontSize={config.fontSize.yAxisTitle}\n        textAnchor=\"middle\"\n        className=\"y-axis-title\"\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n      >\n        mm Hg\n      </text>\n      {yAxisLabels.map(value => {\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\n        return (\n          <g key={value} className=\"y-axis-grid-group\">\n                        <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n            <text x={config.padding.left - 10} y={y + 3} fontSize={config.fontSize.yAxis} textAnchor=\"end\" className=\"chart-tick-label\">{value}</text>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Blood Pressure Range Background Component\nconst BPRangeBackground = ({ config, isCombined = false }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  \n  if (isCombined) {\n    // For combined chart with single axis (0-200), show systolic ranges as background\n    // Based on Blood_pressure_range_description.txt\n    const valueRange = config.yAxisRange;\n    const yOffset = config.yAxisOffset;\n    \n    const ranges = [\n      { \n        name: 'High', \n        min: 140, \n        max: 200, \n        color: 'var(--chart-color-bp-high)', \n        opacity: 0.15 \n      },\n      { \n        name: 'Pre-high', \n        min: 120, \n        max: 140, \n        color: 'var(--chart-color-bp-pre-high)', \n        opacity: 0.15 \n      },\n      { \n        name: 'Ideal', \n        min: 90, \n        max: 120, \n        color: 'var(--chart-color-bp-ideal)', \n        opacity: 0.15 \n      },\n      { \n        name: 'Low', \n        min: 0, \n        max: 90, \n        color: 'var(--chart-color-bp-low)', \n        opacity: 0.15 \n      }\n    ];\n\n    return (\n      <g className=\"bp-range-background\">\n        {ranges.map((range) => {\n          const topY = config.height - config.padding.bottom - \n            ((range.max - yOffset) / valueRange) * chartHeight;\n          const bottomY = config.height - config.padding.bottom - \n            ((range.min - yOffset) / valueRange) * chartHeight;\n\n          return (\n            <rect\n              key={range.name}\n              x={config.padding.left}\n              y={Math.min(topY, bottomY)}\n              width={config.width - config.padding.left - config.padding.right}\n              height={Math.abs(bottomY - topY)}\n              fill={range.color}\n              opacity={range.opacity}\n              className={`bp-range-${range.name.toLowerCase()}`}\n            />\n          );\n        })}\n      </g>\n    );\n  } else {\n    // For separate charts, use dual-axis ranges\n    const systolicRange = config.yAxisRange.systolic;\n    const diastolicRange = config.yAxisRange.diastolic;\n    const systolicOffset = config.yAxisOffset.systolic;\n    const diastolicOffset = config.yAxisOffset.diastolic;\n\n    const ranges = [\n      { \n        name: 'High', \n        systolic: [140, 200], \n        diastolic: [90, 120], \n        color: 'var(--chart-color-bp-high)', \n        opacity: 0.1 \n      },\n      { \n        name: 'Pre-high', \n        systolic: [120, 140], \n        diastolic: [80, 90], \n        color: 'var(--chart-color-bp-pre-high)', \n        opacity: 0.1 \n      },\n      { \n        name: 'Ideal', \n        systolic: [90, 120], \n        diastolic: [60, 80], \n        color: 'var(--chart-color-bp-ideal)', \n        opacity: 0.1 \n      },\n      { \n        name: 'Low', \n        systolic: [0, 90], \n        diastolic: [0, 60], \n        color: 'var(--chart-color-bp-low)', \n        opacity: 0.1 \n      }\n    ];\n\n    return (\n      <g className=\"bp-range-background\">\n        {ranges.map((range) => {\n          const systolicTopY = config.height - config.padding.bottom - \n            ((range.systolic[1] - systolicOffset) / systolicRange) * chartHeight;\n          const systolicBottomY = config.height - config.padding.bottom - \n            ((range.systolic[0] - systolicOffset) / systolicRange) * chartHeight;\n          \n          const diastolicTopY = config.height - config.padding.bottom - \n            ((range.diastolic[1] - diastolicOffset) / diastolicRange) * chartHeight;\n          const diastolicBottomY = config.height - config.padding.bottom - \n            ((range.diastolic[0] - diastolicOffset) / diastolicRange) * chartHeight;\n\n          return (\n            <g key={range.name}>\n              <rect\n                x={config.padding.left}\n                y={Math.min(systolicTopY, systolicBottomY)}\n                width={config.width - config.padding.left - config.padding.right}\n                height={Math.abs(systolicBottomY - systolicTopY)}\n                fill={range.color}\n                opacity={range.opacity}\n                className={`bp-range-${range.name.toLowerCase()}`}\n              />\n              <rect\n                x={config.padding.left}\n                y={Math.min(diastolicTopY, diastolicBottomY)}\n                width={config.width - config.padding.left - config.padding.right}\n                height={Math.abs(diastolicBottomY - diastolicTopY)}\n                fill={range.color}\n                opacity={range.opacity}\n                className={`bp-range-${range.name.toLowerCase()}`}\n              />\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n};\n\n// Dual Y-Axis Component for Combined Chart\nconst DualYAxis = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  return (\n    <g className=\"dual-y-axis\">\n      {/* Systolic Y-Axis (Left) */}\n      <g className=\"y-axis-left\">\n        <text\n          x={config.padding.left / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Systolic (mmHg)\n        </text>\n        {systolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - systolicOffset) / systolicRange) * chartHeight;\n          return (\n            <g key={`systolic-${value}`} className=\"y-axis-grid-group\">\n              <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n              <text \n                x={config.padding.left - 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"end\" \n                className=\"chart-tick-label systolic-label\"\n                fill=\"black\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n\n      {/* Diastolic Y-Axis (Right) */}\n      <g className=\"y-axis-right\">\n        <text\n          x={config.width - config.padding.right / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Diastolic (mmHg)\n        </text>\n        {diastolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - diastolicOffset) / diastolicRange) * chartHeight;\n          return (\n            <g key={`diastolic-${value}`} className=\"y-axis-grid-group\">\n              <text \n                x={config.width - config.padding.right + 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"start\" \n                className=\"chart-tick-label diastolic-label\"\n                fill=\"var(--chart-color-green)\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n\nconst XAxis = ({ config, weekDays }) => (\n  <g className=\"x-axis\">\n    {weekDays.map((day, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      const dayCenterX = dayX + config.dayWidth / 2;\n      \n      // Tick positions\n      const startTickX = dayX;\n      const middleTickX = dayX + config.dayWidth / 2;\n\n      return (\n        <g key={dayIndex} className=\"x-axis-label-group\">\n          {/* X-axis tick marks */}\n          <line \n            className=\"x-axis-tick\" \n            x1={startTickX} \n            y1={config.height - config.padding.bottom} \n            x2={startTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          <line \n            className=\"x-axis-tick\" \n            x1={middleTickX} \n            y1={config.height - config.padding.bottom} \n            x2={middleTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          \n          {/* Time labels positioned at tick marks */}\n          <text\n            className=\"time-label\"\n            x={startTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '13px'}}\n          >\n            12a\n          </text>\n          <text\n            className=\"time-label\"\n            x={middleTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '13px'}}\n          >\n            12p\n          </text>\n\n          {/* Day and Date Labels */}\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 40}\n            textAnchor=\"middle\"\n            className=\"x-axis-day-label\"\n            fontSize={config.fontSize.dayLabel}\n            style={{fontSize: '13px'}}\n          >\n            {formatDayLabel(day)}\n          </text>\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 62}\n            textAnchor=\"middle\"\n            className=\"x-axis-date-label\"\n            fontSize={config.fontSize.dateLabel}\n            style={{fontSize: '13px'}}\n          >\n            {day.getDate()}\n          </text>\n        </g>\n      );\n    })}\n    {/* Final tick mark at the end of the last day */}\n    <line \n      className=\"x-axis-tick\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.height - config.padding.bottom} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom + 5}\n      stroke=\"var(--chart-color-neutral)\"\n      strokeWidth=\"1\"\n    />\n    <text\n      className=\"time-label\"\n      x={config.padding.left + weekDays.length * config.dayWidth}\n      y={config.height - config.padding.bottom + 15}\n      textAnchor=\"middle\"\n      fontSize={config.fontSize.timeLabel}\n      style={{fontSize: '13px'}}\n    >\n      12a\n    </text>\n  </g>\n);\n\nconst GridLines = ({ config, weekDays }) => (\n  <g className=\"grid-lines\">\n    {/* Vertical day and time lines */}\n    {weekDays.map((_, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      return (\n        <g key={dayIndex}>\n          <line className=\"chart-grid-line-vertical\" x1={dayX} y1={config.padding.top} x2={dayX} y2={config.height - config.padding.bottom} />\n          {/* Time lines at 12am and 12pm within each day */}\n          {[0, 12].map(hour => {\n            const timeRatio = hour / 24;\n            const x = config.padding.left + (dayIndex * config.dayWidth) + (timeRatio * config.dayWidth);\n            return <line key={`${dayIndex}-${hour}`} className=\"chart-grid-line-vertical-time\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />;\n          })}\n        </g>\n      );\n    })}\n    {/* Final grid line at the end of the last day */}\n    <line \n      className=\"chart-grid-line-vertical\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.padding.top} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom} \n    />\n  </g>\n);\n\nconst DataBars = ({ readings, type, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n\n  return (\n    <g className=\"data-bars\">\n      {readings.map((reading, index) => {\n        const readingDate = new Date(reading.date);\n        const dayIndex = readingDate.getDay();\n        const x = getTimePosition(readingDate, dayIndex, config);\n        const value = reading[type];\n        const barHeight = (value / valueRange) * chartHeight;\n        const y = config.height - config.padding.bottom - barHeight;\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n            value: value,\n            unit: 'mmHg',\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <rect\n            key={index}\n            x={x - config.barWidth / 2}\n            y={y}\n            width={config.barWidth}\n            height={Math.max(0, barHeight)}\n            fill={getColor(value)}\n            style={{ cursor: 'pointer' }}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nconst getSystolicColor = (value) => {\n  if (value < 90) return 'var(--chart-color-bp-low)';\n  if (value < 120) return 'var(--chart-color-bp-ideal)';\n  if (value < 140) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\nconst getDiastolicColor = (value) => {\n  if (value < 60) return 'var(--chart-color-bp-low)';\n  if (value < 80) return 'var(--chart-color-bp-ideal)';\n  if (value < 90) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\n// Combined I-Bar Chart Component\nconst CombinedDataBars = ({ readings, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  // Use single range for both systolic and diastolic (0-200 covers both)\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n\n  // Determine overall risk color and category based on both values\n  // Based on Blood_pressure_range_description.txt:\n  // Low: systolic < 90 AND diastolic < 60\n  // Ideal: systolic 90-120 AND diastolic 60-80\n  // Pre-high: systolic 120-140 OR diastolic 80-90\n  // High: systolic >= 140 OR diastolic >= 90\n  const getCombinedRiskColor = (systolic, diastolic) => {\n    // High: systolic >= 140 OR diastolic >= 90\n    if (systolic >= 140 || diastolic >= 90) return 'var(--chart-color-bp-high)';\n    \n    // Pre-high: systolic 120-140 OR diastolic 80-90 (but not already high)\n    if ((systolic >= 120 && systolic < 140) || (diastolic >= 80 && diastolic < 90)) {\n      return 'var(--chart-color-bp-pre-high)';\n    }\n    \n    // Low: systolic < 90 AND diastolic < 60 (both must be low)\n    if (systolic < 90 && diastolic < 60) return 'var(--chart-color-bp-low)';\n    \n    // Ideal: systolic 90-120 AND diastolic 60-80 (default for remaining cases)\n    return 'var(--chart-color-bp-ideal)';\n  };\n  \n  const getCombinedRiskCategory = (systolic, diastolic) => {\n    // High: systolic >= 140 OR diastolic >= 90\n    if (systolic >= 140 || diastolic >= 90) {\n      return { name: 'High', color: 'var(--chart-color-bp-high)' };\n    }\n    \n    // Pre-high: systolic 120-140 OR diastolic 80-90\n    if ((systolic >= 120 && systolic < 140) || (diastolic >= 80 && diastolic < 90)) {\n      return { name: 'Pre-High', color: 'var(--chart-color-bp-pre-high)' };\n    }\n    \n    // Low: systolic < 90 AND diastolic < 60\n    if (systolic < 90 && diastolic < 60) {\n      return { name: 'Low', color: 'var(--chart-color-bp-low)' };\n    }\n    \n    // Ideal: systolic 90-120 AND diastolic 60-80\n    return { name: 'Ideal', color: 'var(--chart-color-bp-ideal)' };\n  };\n\n  // Sort readings by date/time for proper line connection\n  const sortedReadings = [...readings].sort((a, b) => {\n    const dateA = new Date(a.date);\n    const dateB = new Date(b.date);\n    return dateA - dateB;\n  });\n\n  // Build path strings for trend lines\n  const buildPath = (points) => {\n    if (points.length === 0) return '';\n    return points.map((point, index) => \n      `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`\n    ).join(' ');\n  };\n\n  // Calculate all point positions\n  const points = sortedReadings.map((reading) => {\n    const readingDate = new Date(reading.date);\n    const dayIndex = readingDate.getDay();\n    const x = getTimePosition(readingDate, dayIndex, config);\n    \n    const systolicValue = reading.systolic;\n    const diastolicValue = reading.diastolic;\n    \n    const systolicBarHeight = ((systolicValue - yOffset) / valueRange) * chartHeight;\n    const diastolicBarHeight = ((diastolicValue - yOffset) / valueRange) * chartHeight;\n    \n    const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n    const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n    \n    return {\n      x,\n      systolicY,\n      diastolicY,\n      reading,\n      readingDate,\n      systolicValue,\n      diastolicValue\n    };\n  });\n\n  // Build paths for both lines\n  const systolicPath = buildPath(points.map(p => ({ x: p.x, y: p.systolicY })));\n  const diastolicPath = buildPath(points.map(p => ({ x: p.x, y: p.diastolicY })));\n\n  return (\n    <g className=\"combined-data-bars\">\n      {/* Trend lines - draw before dots so dots appear on top */}\n      {systolicPath && points.length > 1 && (\n        <path\n          d={systolicPath}\n          fill=\"none\"\n          stroke=\"black\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          className=\"systolic-trend-line\"\n        />\n      )}\n      {diastolicPath && points.length > 1 && (\n        <path\n          d={diastolicPath}\n          fill=\"none\"\n          stroke=\"var(--chart-color-green)\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          className=\"diastolic-trend-line\"\n        />\n      )}\n      \n      {/* Individual data points */}\n      {points.map((point, index) => {\n        const { reading, readingDate, x, systolicY, diastolicY, systolicValue, diastolicValue } = point;\n        \n        const combinedRiskColor = getCombinedRiskColor(systolicValue, diastolicValue);\n        const riskCategory = getCombinedRiskCategory(systolicValue, diastolicValue);\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: 'Blood Pressure',\n            systolic: systolicValue,\n            diastolic: diastolicValue,\n            unit: 'mmHg',\n            category: riskCategory.name,\n            categoryColor: riskCategory.color,\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <g key={index} className=\"bp-reading-group\">\n            {/* Systolic point - larger, filled with risk color, no outline */}\n            <circle\n              cx={x}\n              cy={systolicY}\n              r=\"5\"\n              fill={combinedRiskColor}\n              style={{ cursor: 'pointer' }}\n              className=\"systolic-dot\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n            {/* Diastolic point - regular size, filled with risk color, no outline */}\n            <circle\n              cx={x}\n              cy={diastolicY}\n              r=\"4\"\n              fill={combinedRiskColor}\n              style={{ cursor: 'pointer' }}\n              className=\"diastolic-dot\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nconst Chart = ({ type, weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 22,\n          dayLabel: 22,\n          dateLabel: 22,\n        },\n        barWidth: 12,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 40, 80, 120, 160, 200],\n          diastolic: [0, 20, 40, 60, 80, 100, 120],\n        },\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 19,\n          dayLabel: 19,\n          dateLabel: 19,\n        },\n        barWidth: 8,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 100, 200],\n          diastolic: [0, 60, 120],\n        },\n        dayPadding: 6,\n      };\n  \n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n\n  return (\n    <div className={`chart-section ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">{type === 'systolic' ? 'Systolic' : 'Diastolic'}</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          <GridLines config={config} weekDays={weekDays} />\n          <YAxis config={config} type={type} />\n          <XAxis config={config} weekDays={weekDays} />\n          <DataBars readings={readings} type={type} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\n// Combined Y-Axis Component for Combined Chart (single axis)\nconst CombinedYAxis = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels;\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n\n  return (\n    <g className=\"y-axis\">\n      <text\n        x={config.padding.left / 3}\n        y={config.padding.top + chartHeight / 2}\n        fontSize={config.fontSize.yAxisTitle}\n        textAnchor=\"middle\"\n        className=\"y-axis-title\"\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n      >\n        Millimeters of mercury (mmHg)\n      </text>\n      {yAxisLabels.map(value => {\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\n        return (\n          <g key={value} className=\"y-axis-grid-group\">\n            <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n            <text \n              x={config.padding.left - 10} \n              y={y + 3} \n              fontSize={config.fontSize.yAxis} \n              textAnchor=\"end\" \n              className=\"chart-tick-label\"\n            >\n              {value}\n            </text>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Combined Chart Component\nconst CombinedChart = ({ weekData, isExpanded, weekDays, containerWidth, onBarHover, onBarLeave }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 22,\n          dayLabel: 22,\n          dateLabel: 22,\n        },\n        barWidth: 12,\n        yAxisRange: 200,  // Single range for both systolic and diastolic\n        yAxisOffset: 0,\n        yAxisLabels: [0, 40, 80, 120, 160, 200],\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 19,\n          dayLabel: 19,\n          dateLabel: 19,\n        },\n        barWidth: 8,\n        yAxisRange: 200,  // Single range for both systolic and diastolic\n        yAxisOffset: 0,\n        yAxisLabels: [0, 50, 100, 150, 200],\n        dayPadding: 6,\n      };\n  \n  // Filter readings and validate that systolic > diastolic (medically required)\n  const readings = weekData.filter(d => \n    d.systolic && d.diastolic && \n    d.systolic > 0 && d.diastolic > 0 &&\n    d.systolic > d.diastolic  // Ensure systolic is always greater than diastolic\n  );\n\n  return (\n    <div className={`chart-section combined-chart ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">Blood Pressure (Systolic/Diastolic)</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          {/* Blood pressure range background */}\n          <BPRangeBackground config={config} isCombined={true} />\n          <GridLines config={config} weekDays={weekDays} />\n          {/* Single Y-axis for combined chart */}\n          <CombinedYAxis config={config} />\n          <XAxis config={config} weekDays={weekDays} />\n          <CombinedDataBars readings={readings} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nconst bloodPressureLegendItems = [\n  { color: 'var(--chart-color-bp-low)', label: 'Low', description: 'Blood pressure below normal range' },\n  { color: 'var(--chart-color-bp-ideal)', label: 'Ideal', description: 'Blood pressure within ideal range' },\n  { color: 'var(--chart-color-bp-pre-high)', label: 'Pre-high', description: 'Blood pressure elevated but not yet high' },\n  { color: 'var(--chart-color-bp-high)', label: 'High', description: 'Blood pressure high - requires attention' },\n];\n\n\n\n// --- Main Component ---\nconst BloodPressureChart = ({ patientId, isExpanded = false, onExpand, accessType = 'Admin', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const { bloodPressureData, loading, error } = usePatientData(patientId);\n  const [containerWidth, setContainerWidth] = useState(400);\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n  // For Patient access, force Combined View (remove Separate Charts access).\n  // For Physician access, force Combined View (remove Separate Charts access).\n  // Admin can toggle between both.\n  const shouldForceCombinedView = accessType === 'Patient' || accessType === 'Physician';\n  \n  // Determine initial view state\n  let initialUseCombinedView = false;\n  if (shouldForceCombinedView) {\n    initialUseCombinedView = true;\n  }\n  \n  const [useCombinedView, setUseCombinedView] = useState(initialUseCombinedView); // State for view toggle\n  \n  // Enforce combined view for Patient and Physician - override state if needed\n  const effectiveUseCombinedView = shouldForceCombinedView ? true : useCombinedView;\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n\n\n\n  // Resize observer to track container width changes\n  useLayoutEffect(() => {\n    const observeContainer = () => {\n      if (containerRef.current) {\n        const resizeObserver = new ResizeObserver(entries => {\n          for (let entry of entries) {\n            const { width } = entry.contentRect;\n            setContainerWidth(width);\n          }\n        });\n\n        resizeObserver.observe(containerRef.current);\n        return () => resizeObserver.disconnect();\n      }\n    };\n\n    const cleanup = observeContainer();\n    return cleanup;\n  }, []);\n\n  const { start: weekStart, end: weekEnd } = nav.getDateRange();\n\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n\n  const weekDays = Array.from({ length: 7 }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n\n\n\n\n  const handleBarHover = (data) => {\n    setTooltipData(data);\n    setTooltipPosition(data.position);\n  };\n\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Calculate summary statistics for week and 3-month periods\n  // This calculates average, max, risk categories, and reading counts\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    // Get all valid readings (where both systolic and diastolic are > 0)\n    const systolicReadings = weekData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = weekData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    // Calculate averages (sum all values, divide by count, round to whole number)\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    // Find maximum values\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    // Determine risk category based on average values\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    \n    // Count unique days with readings\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\n\n    weekSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: weekData.length\n    };\n  }\n\n  // Calculate 3-month summary (same logic as week summary, just different data)\n  let threeMonthSummary = null;\n  if (threeMonthData.length > 0) {\n    const systolicReadings = threeMonthData.filter(d => d.systolic && d.systolic > 0).map(d => d.systolic);\n    const diastolicReadings = threeMonthData.filter(d => d.diastolic && d.diastolic > 0).map(d => d.diastolic);\n\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicReadings.reduce((sum, val) => sum + val, 0) / systolicReadings.length).toFixed(0) : 0;\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicReadings.reduce((sum, val) => sum + val, 0) / diastolicReadings.length).toFixed(0) : 0;\n\n    const maxSystolic = systolicReadings.length > 0 ? Math.max(...systolicReadings) : 0;\n    const maxDiastolic = diastolicReadings.length > 0 ? Math.max(...diastolicReadings) : 0;\n\n    const getRiskCategory = (systolic, diastolic) => {\n      if (systolic >= 135 || diastolic >= 85) return 'High Risk';\n      if (systolic >= 121 || diastolic >= 80) return 'Medium Risk';\n      return 'Low Risk';\n    };\n\n    const avgRisk = getRiskCategory(parseFloat(avgSystolic), parseFloat(avgDiastolic));\n    const daysWithReadings = new Set(threeMonthData.map(d => d.date.toDateString())).size;\n\n    threeMonthSummary = {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: threeMonthData.length\n    };\n  }\n\n  return (\n    <>\n      <div className={`bp-chart-container ${isExpanded ? 'expanded' : ''}`} ref={containerRef}>\n        <div className=\"bp-header\">\n          <h3 className=\"bp-main-title\">Blood Pressure</h3>\n          <h4 className=\"chart-subtitle\">{nav.getFormattedDateRange()}</h4>\n          \n          {/* View Toggle - Hide for Patient and Physician, show both for Admin */}\n          {accessType === 'Admin' && (\n            <div className=\"view-toggle\">\n              <button \n                className={`toggle-btn ${!effectiveUseCombinedView ? 'active' : ''}`}\n                onClick={() => setUseCombinedView(false)}\n              >\n                Separate Charts\n              </button>\n              <button \n                className={`toggle-btn ${effectiveUseCombinedView ? 'active' : ''}`}\n                onClick={() => setUseCombinedView(true)}\n              >\n                Combined View\n              </button>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"bp-charts-wrapper\">\n          {effectiveUseCombinedView ? (\n            <CombinedChart \n              weekData={weekData} \n              isExpanded={isExpanded} \n              weekDays={weekDays} \n              containerWidth={containerWidth}\n              onBarHover={handleBarHover}\n              onBarLeave={handleBarLeave}\n            />\n          ) : (\n            <>\n              <Chart \n                type=\"systolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                containerWidth={containerWidth}\n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n              <Chart \n                type=\"diastolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                containerWidth={containerWidth}\n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n            </>\n          )}\n        </div>\n        \n        <Legend title=\"Blood Pressure Category:\" items={bloodPressureLegendItems} hide={screenshotMode} />\n        \n        {/* Show InfoBox for patient view, summary for physician/unified view - Hide InfoBox for Physician but keep summaries */}\n        {weekSummary ? (\n          <>\n            {/* Hide InfoBox for Physician */}\n            {accessType !== 'Physician' && (\n              <InfoBox \n                title=\"Blood Pressure Information\" \n                content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n              />\n            )}\n            {/* Always show summaries for physician/unified view */}\n            <div className=\"summary-container\">\n              <div className=\"chart-summary\">\n                <h4>Week Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Average BP:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.avgSystolic}/{weekSummary.avgDiastolic} mmHg\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Peak BP:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.maxSystolic}/{weekSummary.maxDiastolic} mmHg\n                    </span>\n                  </div>\n\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Reading Days:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.daysWithReadings}/7 days\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.totalReadings}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {showThreeMonthSummaries && threeMonthSummary && (\n                <div className=\"chart-summary\">\n                  <h4>3-Month Summary</h4>\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Average BP:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.avgSystolic}/{threeMonthSummary.avgDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Peak BP:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.maxSystolic}/{threeMonthSummary.maxDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.totalReadings}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          accessType !== 'Physician' && (\n            <InfoBox \n              title=\"Blood Pressure Information\" \n              content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n            />\n          )\n        )}\n      </div>\n      \n      {/* Custom Tooltip */}\n      <Tooltip\n        isVisible={!!tooltipData}\n        content={tooltipData && (\n          <div>\n            <div className=\"tooltip-title\">{tooltipData.type === 'Blood Pressure' ? 'Blood Pressure' : `${tooltipData.type} Blood Pressure`}</div>\n            {tooltipData.systolic && tooltipData.diastolic ? (\n              <div className=\"tooltip-value\">\n                {tooltipData.systolic}/{tooltipData.diastolic} {tooltipData.unit}\n              </div>\n            ) : (\n              <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\n            )}\n            {tooltipData.category && (\n              <div className=\"tooltip-category\" style={{ color: tooltipData.categoryColor }}>\n                {tooltipData.category}\n              </div>\n            )}\n            <div className=\"tooltip-time\">{tooltipData.time}</div>\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\n          </div>\n        )}\n        position={tooltipPosition}\n      />\n    </>\n  );\n};\n\nexport default BloodPressureChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}