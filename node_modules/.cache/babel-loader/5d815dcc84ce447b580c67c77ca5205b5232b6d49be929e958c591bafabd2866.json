{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local Experimental\\\\PGHD_Visualization_Dashboard\\\\src\\\\components\\\\patient_charts\\\\BloodPressureChart.js\",\n  _s = $RefreshSig$();\n/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides blood pressure tracking with systolic and diastolic pressure visualization. It includes risk categorization with color coding and provides daily and weekly trend analysis. It supports display of multiple daily measurements and includes interactive tooltips with blood pressure details. It includes navigation controls for time periods. The component uses custom SVG for blood pressure visualization and implements a dual-axis system for systolic and diastolic values. It provides risk-based color coding for clinical interpretation and supports multiple daily readings with time-based positioning. The component implements configurable layouts. Visualization features include color-coded risk categories including normal, elevated, high, and crisis, time-based positioning for multiple daily readings, interactive tooltips with detailed blood pressure information, and a grid system with axis scaling. Clinical features include risk categorization based on medical guidelines, summary statistics for physician view, trend analysis over time periods, and educational information for patient view. The component structure includes a dual-axis system for systolic and diastolic values on the Y-axis, a time-based axis with day and time labels on the X-axis, interactive blood pressure readings as data points, risk category explanations in the legend, and detailed reading information in tooltips. This component is used for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\n// Helper Functions\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatDayLabel = date => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + dayIndex * config.dayWidth + config.dayPadding + timeRatio * dayContentWidth;\n};\n\n// Chart Sub-components\n\nconst YAxis = ({\n  config,\n  type\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"text\", {\n      x: config.padding.left / 3,\n      y: config.padding.top + chartHeight / 2,\n      fontSize: config.fontSize.yAxisTitle,\n      textAnchor: \"middle\",\n      className: \"y-axis-title\",\n      transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n      children: \"mm Hg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), yAxisLabels.map(value => {\n      const y = config.height - config.padding.bottom - (value - yOffset) / valueRange * chartHeight;\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis-grid-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-horizontal\",\n          x1: config.padding.left,\n          y1: y,\n          x2: config.width - config.padding.right,\n          y2: y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: config.padding.left - 10,\n          y: y + 3,\n          fontSize: config.fontSize.yAxis,\n          textAnchor: \"end\",\n          className: \"chart-tick-label\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n// Blood Pressure Range Background Component\n_c = YAxis;\nconst BPRangeBackground = ({\n  config,\n  isCombined = false\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  if (isCombined) {\n    // For combined chart with single axis (0-200), show only ideal ranges as green bars\n    // This avoids conflicts with dot colors which use combined risk assessment\n    const valueRange = config.yAxisRange;\n    const yOffset = config.yAxisOffset;\n\n    // Ideal ranges: Systolic 90-120, Diastolic 60-80\n    const idealRanges = [{\n      name: 'Systolic Ideal',\n      min: 90,\n      max: 120,\n      color: 'var(--chart-color-bp-ideal)',\n      opacity: 0.15\n    }, {\n      name: 'Diastolic Ideal',\n      min: 60,\n      max: 80,\n      color: 'var(--chart-color-bp-ideal)',\n      opacity: 0.15\n    }];\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"bp-range-background\",\n      children: idealRanges.map(range => {\n        const topY = config.height - config.padding.bottom - (range.max - yOffset) / valueRange * chartHeight;\n        const bottomY = config.height - config.padding.bottom - (range.min - yOffset) / valueRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: config.padding.left,\n          y: Math.min(topY, bottomY),\n          width: config.width - config.padding.left - config.padding.right,\n          height: Math.abs(bottomY - topY),\n          fill: range.color,\n          opacity: range.opacity,\n          className: \"bp-range-ideal\"\n        }, range.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  } else {\n    // For separate charts, use dual-axis ranges\n    const systolicRange = config.yAxisRange.systolic;\n    const diastolicRange = config.yAxisRange.diastolic;\n    const systolicOffset = config.yAxisOffset.systolic;\n    const diastolicOffset = config.yAxisOffset.diastolic;\n    const ranges = [{\n      name: 'High',\n      systolic: [140, 200],\n      diastolic: [90, 120],\n      color: 'var(--chart-color-bp-high)',\n      opacity: 0.1\n    }, {\n      name: 'Pre-high',\n      systolic: [120, 140],\n      diastolic: [80, 90],\n      color: 'var(--chart-color-bp-pre-high)',\n      opacity: 0.1\n    }, {\n      name: 'Ideal',\n      systolic: [90, 120],\n      diastolic: [60, 80],\n      color: 'var(--chart-color-bp-ideal)',\n      opacity: 0.1\n    }, {\n      name: 'Low',\n      systolic: [0, 90],\n      diastolic: [0, 60],\n      color: 'var(--chart-color-bp-low)',\n      opacity: 0.1\n    }];\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"bp-range-background\",\n      children: ranges.map(range => {\n        const systolicTopY = config.height - config.padding.bottom - (range.systolic[1] - systolicOffset) / systolicRange * chartHeight;\n        const systolicBottomY = config.height - config.padding.bottom - (range.systolic[0] - systolicOffset) / systolicRange * chartHeight;\n        const diastolicTopY = config.height - config.padding.bottom - (range.diastolic[1] - diastolicOffset) / diastolicRange * chartHeight;\n        const diastolicBottomY = config.height - config.padding.bottom - (range.diastolic[0] - diastolicOffset) / diastolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: config.padding.left,\n            y: Math.min(systolicTopY, systolicBottomY),\n            width: config.width - config.padding.left - config.padding.right,\n            height: Math.abs(systolicBottomY - systolicTopY),\n            fill: range.color,\n            opacity: range.opacity,\n            className: `bp-range-${range.name.toLowerCase()}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: config.padding.left,\n            y: Math.min(diastolicTopY, diastolicBottomY),\n            width: config.width - config.padding.left - config.padding.right,\n            height: Math.abs(diastolicBottomY - diastolicTopY),\n            fill: range.color,\n            opacity: range.opacity,\n            className: `bp-range-${range.name.toLowerCase()}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, range.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n// Dual Y-Axis Component for Combined Chart\n_c2 = BPRangeBackground;\nconst DualYAxis = ({\n  config\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"dual-y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: config.padding.left / 3,\n        y: config.padding.top + chartHeight / 2,\n        fontSize: config.fontSize.yAxisTitle,\n        textAnchor: \"middle\",\n        className: \"y-axis-title\",\n        transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n        children: \"Systolic (mmHg)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), systolicLabels.map(value => {\n        const y = config.height - config.padding.bottom - (value - systolicOffset) / systolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"y-axis-grid-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            className: \"chart-grid-line-horizontal\",\n            x1: config.padding.left,\n            y1: y,\n            x2: config.width - config.padding.right,\n            y2: y\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: config.padding.left - 10,\n            y: y + 3,\n            fontSize: config.fontSize.yAxis,\n            textAnchor: \"end\",\n            className: \"chart-tick-label systolic-label\",\n            fill: \"black\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)]\n        }, `systolic-${value}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: config.width - config.padding.right / 3,\n        y: config.padding.top + chartHeight / 2,\n        fontSize: config.fontSize.yAxisTitle,\n        textAnchor: \"middle\",\n        className: \"y-axis-title\",\n        transform: `rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`,\n        children: \"Diastolic (mmHg)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), diastolicLabels.map(value => {\n        const y = config.height - config.padding.bottom - (value - diastolicOffset) / diastolicRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"y-axis-grid-group\",\n          children: /*#__PURE__*/_jsxDEV(\"text\", {\n            x: config.width - config.padding.right + 10,\n            y: y + 3,\n            fontSize: config.fontSize.yAxis,\n            textAnchor: \"start\",\n            className: \"chart-tick-label diastolic-label\",\n            fill: \"var(--chart-color-green)\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)\n        }, `diastolic-${value}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n_c3 = DualYAxis;\nconst XAxis = ({\n  config,\n  weekDays,\n  isExpanded\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"x-axis\",\n  children: [weekDays.map((day, dayIndex) => {\n    const dayX = config.padding.left + dayIndex * config.dayWidth;\n    const dayCenterX = dayX + config.dayWidth / 2;\n\n    // Tick positions\n    const startTickX = dayX;\n    const middleTickX = dayX + config.dayWidth / 2;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis-label-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: startTickX,\n        y1: config.height - config.padding.bottom,\n        x2: startTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: middleTickX,\n        y1: config.height - config.padding.bottom,\n        x2: middleTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: startTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: isExpanded ? config.fontSize.timeLabel - 2 : config.fontSize.timeLabel - 4,\n        children: \"12am\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: middleTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: isExpanded ? config.fontSize.timeLabel - 2 : config.fontSize.timeLabel - 4,\n        children: \"12pm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: dayCenterX,\n        y: config.height - config.padding.bottom + 40,\n        textAnchor: \"middle\",\n        className: \"x-axis-day-label\",\n        fontSize: config.fontSize.dayLabel,\n        children: formatDayLabel(day)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: dayCenterX,\n        y: config.height - config.padding.bottom + 62,\n        textAnchor: \"middle\",\n        className: \"x-axis-date-label\",\n        fontSize: config.fontSize.dateLabel,\n        children: day.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)]\n    }, dayIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"x-axis-tick\",\n    x1: config.padding.left + weekDays.length * config.dayWidth,\n    y1: config.height - config.padding.bottom,\n    x2: config.padding.left + weekDays.length * config.dayWidth,\n    y2: config.height - config.padding.bottom + 5,\n    stroke: \"var(--chart-color-neutral)\",\n    strokeWidth: \"1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n    className: \"time-label\",\n    x: config.padding.left + weekDays.length * config.dayWidth,\n    y: config.height - config.padding.bottom + 15,\n    textAnchor: \"middle\",\n    fontSize: isExpanded ? config.fontSize.timeLabel - 2 : config.fontSize.timeLabel - 4,\n    children: \"12am\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 272,\n  columnNumber: 3\n}, this);\n_c4 = XAxis;\nconst GridLines = ({\n  config,\n  weekDays\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"grid-lines\",\n  children: [weekDays.map((_, dayIndex) => {\n    const dayX = config.padding.left + dayIndex * config.dayWidth;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"chart-grid-line-vertical\",\n        x1: dayX,\n        y1: config.padding.top,\n        x2: dayX,\n        y2: config.height - config.padding.bottom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), [0, 12].map(hour => {\n        const timeRatio = hour / 24;\n        const x = config.padding.left + dayIndex * config.dayWidth + timeRatio * config.dayWidth;\n        return /*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-vertical-time\",\n          x1: x,\n          y1: config.padding.top,\n          x2: x,\n          y2: config.height - config.padding.bottom\n        }, `${dayIndex}-${hour}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 20\n        }, this);\n      })]\n    }, dayIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"chart-grid-line-vertical\",\n    x1: config.padding.left + weekDays.length * config.dayWidth,\n    y1: config.padding.top,\n    x2: config.padding.left + weekDays.length * config.dayWidth,\n    y2: config.height - config.padding.bottom\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 385,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 368,\n  columnNumber: 3\n}, this);\n_c5 = GridLines;\nconst DataBars = ({\n  readings,\n  type,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"data-bars\",\n    children: readings.map((reading, index) => {\n      const readingDate = new Date(reading.date);\n      const dayIndex = readingDate.getDay();\n      const x = getTimePosition(readingDate, dayIndex, config);\n      const value = reading[type];\n      const barHeight = value / valueRange * chartHeight;\n      const y = config.height - config.padding.bottom - barHeight;\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n          value: value,\n          unit: 'mmHg',\n          time: readingDate.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: readingDate.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n      return /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: x - config.barWidth / 2,\n        y: y,\n        width: config.barWidth,\n        height: Math.max(0, barHeight),\n        fill: getColor(value),\n        style: {\n          cursor: 'pointer'\n        },\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 402,\n    columnNumber: 5\n  }, this);\n};\n_c6 = DataBars;\nconst getSystolicColor = value => {\n  if (value < 90) return 'var(--chart-color-bp-low)';\n  if (value < 120) return 'var(--chart-color-bp-ideal)';\n  if (value < 140) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\nconst getDiastolicColor = value => {\n  if (value < 60) return 'var(--chart-color-bp-low)';\n  if (value < 80) return 'var(--chart-color-bp-ideal)';\n  if (value < 90) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\n// Combined I-Bar Chart Component\nconst CombinedDataBars = ({\n  readings,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  // Use single range for both systolic and diastolic (0-200 covers both)\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n\n  // Determine overall risk color and category based on both values\n  // Based on Blood_pressure_range_description.txt:\n  // Low: systolic < 90 AND diastolic < 60\n  // Ideal: systolic 90-120 AND diastolic 60-80\n  // Pre-high: systolic 120-140 OR diastolic 80-90\n  // High: systolic >= 140 OR diastolic >= 90\n  // This simplified function combines both color and category into one return value\n  function getCombinedRisk(systolic, diastolic) {\n    // High: systolic >= 140 OR diastolic >= 90\n    if (systolic >= 140 || diastolic >= 90) {\n      return {\n        name: 'High',\n        color: 'var(--chart-color-bp-high)'\n      };\n    }\n\n    // Pre-high: systolic 120-140 OR diastolic 80-90 (but not already high)\n    if (systolic >= 120 && systolic < 140 || diastolic >= 80 && diastolic < 90) {\n      return {\n        name: 'Pre-High',\n        color: 'var(--chart-color-bp-pre-high)'\n      };\n    }\n\n    // Low: systolic < 90 AND diastolic < 60 (both must be low)\n    if (systolic < 90 && diastolic < 60) {\n      return {\n        name: 'Low',\n        color: 'var(--chart-color-bp-low)'\n      };\n    }\n\n    // Ideal: systolic 90-120 AND diastolic 60-80 (default for remaining cases)\n    return {\n      name: 'Ideal',\n      color: 'var(--chart-color-bp-ideal)'\n    };\n  }\n\n  // Sort readings by date/time for proper line connection\n  const sortedReadings = [...readings].sort((a, b) => {\n    const dateA = new Date(a.date);\n    const dateB = new Date(b.date);\n    return dateA - dateB;\n  });\n\n  // Build path string for trend lines - simpler version using basic loops\n  function buildPath(points) {\n    if (points.length === 0) {\n      return '';\n    }\n    let pathString = '';\n    for (let i = 0; i < points.length; i++) {\n      if (i === 0) {\n        // First point: use 'M' (move to)\n        pathString = pathString + 'M ' + points[i].x + ' ' + points[i].y;\n      } else {\n        // Other points: use 'L' (line to)\n        pathString = pathString + ' L ' + points[i].x + ' ' + points[i].y;\n      }\n    }\n    return pathString;\n  }\n\n  // Calculate all point positions\n  const points = sortedReadings.map(reading => {\n    const readingDate = new Date(reading.date);\n    const dayIndex = readingDate.getDay();\n    const x = getTimePosition(readingDate, dayIndex, config);\n    const systolicValue = reading.systolic;\n    const diastolicValue = reading.diastolic;\n    const systolicBarHeight = (systolicValue - yOffset) / valueRange * chartHeight;\n    const diastolicBarHeight = (diastolicValue - yOffset) / valueRange * chartHeight;\n    const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n    const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n    return {\n      x,\n      systolicY,\n      diastolicY,\n      reading,\n      readingDate,\n      systolicValue,\n      diastolicValue\n    };\n  });\n\n  // Build paths for both lines\n  const systolicPath = buildPath(points.map(p => ({\n    x: p.x,\n    y: p.systolicY\n  })));\n  const diastolicPath = buildPath(points.map(p => ({\n    x: p.x,\n    y: p.diastolicY\n  })));\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"combined-data-bars\",\n    children: [systolicPath && points.length > 1 && /*#__PURE__*/_jsxDEV(\"path\", {\n      d: systolicPath,\n      fill: \"none\",\n      stroke: \"#cccccc\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      className: \"systolic-trend-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 9\n    }, this), diastolicPath && points.length > 1 && /*#__PURE__*/_jsxDEV(\"path\", {\n      d: diastolicPath,\n      fill: \"none\",\n      stroke: \"#cccccc\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      className: \"diastolic-trend-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 9\n    }, this), points.map((point, index) => {\n      const {\n        reading,\n        readingDate,\n        x,\n        systolicY,\n        diastolicY,\n        systolicValue,\n        diastolicValue\n      } = point;\n      const risk = getCombinedRisk(systolicValue, diastolicValue);\n      const combinedRiskColor = risk.color;\n      const riskCategory = risk;\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          type: 'Blood Pressure',\n          systolic: systolicValue,\n          diastolic: diastolicValue,\n          unit: 'mmHg',\n          category: riskCategory.name,\n          categoryColor: riskCategory.color,\n          time: readingDate.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: readingDate.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"bp-reading-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: systolicY,\n          r: \"5\",\n          fill: combinedRiskColor,\n          stroke: \"#cccccc\",\n          strokeWidth: \"2\",\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"systolic-dot\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: diastolicY,\n          r: \"5\",\n          fill: combinedRiskColor,\n          stroke: \"#cccccc\",\n          strokeWidth: \"2\",\n          style: {\n            cursor: 'pointer'\n          },\n          className: \"diastolic-dot\",\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 563,\n    columnNumber: 5\n  }, this);\n};\n_c7 = CombinedDataBars;\nconst Chart = ({\n  type,\n  weekData,\n  isExpanded,\n  weekDays,\n  onBarHover,\n  onBarLeave\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 14,\n      dayLabel: 14,\n      dateLabel: 14\n    },\n    barWidth: 12,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 40, 80, 120, 160, 200],\n      diastolic: [0, 20, 40, 60, 80, 100, 120]\n    },\n    dayPadding: 10\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 19,\n      dayLabel: 19,\n      dateLabel: 19\n    },\n    barWidth: 8,\n    yAxisRange: {\n      systolic: 200,\n      diastolic: 120\n    },\n    yAxisOffset: {\n      systolic: 0,\n      diastolic: 0\n    },\n    yAxisLabels: {\n      systolic: [0, 100, 200],\n      diastolic: [0, 60, 120]\n    },\n    dayPadding: 6\n  };\n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chart-section ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: type === 'systolic' ? 'Systolic' : 'Diastolic'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp-svg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        className: \"chart-svg\",\n        children: [/*#__PURE__*/_jsxDEV(GridLines, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          config: config,\n          type: type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          config: config,\n          weekDays: weekDays,\n          isExpanded: isExpanded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataBars, {\n          readings: readings,\n          type: type,\n          config: config,\n          onBarHover: onBarHover,\n          onBarLeave: onBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 699,\n    columnNumber: 5\n  }, this);\n};\n\n// Combined Y-Axis Component for Combined Chart (single axis)\n_c8 = Chart;\nconst CombinedYAxis = ({\n  config\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels;\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"y-axis\",\n    children: [/*#__PURE__*/_jsxDEV(\"text\", {\n      x: config.padding.left / 3,\n      y: config.padding.top + chartHeight / 2,\n      fontSize: config.fontSize.yAxisTitle,\n      textAnchor: \"middle\",\n      className: \"y-axis-title\",\n      transform: `rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`,\n      children: \"Millimeters of mercury (mmHg)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this), yAxisLabels.map(value => {\n      const y = config.height - config.padding.bottom - (value - yOffset) / valueRange * chartHeight;\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis-grid-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          className: \"chart-grid-line-horizontal\",\n          x1: config.padding.left,\n          y1: y,\n          x2: config.width - config.padding.right,\n          y2: y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: config.padding.left - 10,\n          y: y + 3,\n          fontSize: config.fontSize.yAxis,\n          textAnchor: \"end\",\n          className: \"chart-tick-label\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 13\n        }, this)]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 740,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 726,\n    columnNumber: 5\n  }, this);\n};\n\n// Combined Chart Component\n_c9 = CombinedYAxis;\nconst CombinedChart = ({\n  weekData,\n  isExpanded,\n  weekDays,\n  onBarHover,\n  onBarLeave\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 14,\n      dayLabel: 14,\n      dateLabel: 14\n    },\n    barWidth: 12,\n    yAxisRange: 200,\n    // Single range for both systolic and diastolic\n    yAxisOffset: 0,\n    yAxisLabels: [0, 40, 80, 120, 160, 200],\n    dayPadding: 10\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 19,\n      dayLabel: 19,\n      dateLabel: 19\n    },\n    barWidth: 8,\n    yAxisRange: 200,\n    // Single range for both systolic and diastolic\n    yAxisOffset: 0,\n    yAxisLabels: [0, 50, 100, 150, 200],\n    dayPadding: 6\n  };\n\n  // Filter readings and validate that systolic > diastolic (medically required)\n  const readings = weekData.filter(d => d.systolic && d.diastolic && d.systolic > 0 && d.diastolic > 0 && d.systolic > d.diastolic // Ensure systolic is always greater than diastolic\n  );\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chart-section combined-chart ${isExpanded ? 'expanded' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: \"Blood Pressure (Systolic/Diastolic)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp-svg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        className: \"chart-svg\",\n        children: [/*#__PURE__*/_jsxDEV(BPRangeBackground, {\n          config: config,\n          isCombined: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridLines, {\n          config: config,\n          weekDays: weekDays\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CombinedYAxis, {\n          config: config\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          config: config,\n          weekDays: weekDays,\n          isExpanded: isExpanded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CombinedDataBars, {\n          readings: readings,\n          config: config,\n          onBarHover: onBarHover,\n          onBarLeave: onBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 807,\n    columnNumber: 5\n  }, this);\n};\n_c0 = CombinedChart;\nconst bloodPressureLegendItems = [{\n  color: 'var(--chart-color-bp-low)',\n  label: 'Low',\n  description: 'Blood pressure below normal range'\n}, {\n  color: 'var(--chart-color-bp-ideal)',\n  label: 'Ideal',\n  description: 'Blood pressure within ideal range'\n}, {\n  color: 'var(--chart-color-bp-pre-high)',\n  label: 'Pre-high',\n  description: 'Blood pressure elevated but not yet high'\n}, {\n  color: 'var(--chart-color-bp-high)',\n  label: 'High',\n  description: 'Blood pressure high - requires attention'\n}];\n\n// --- Main Component ---\nconst BloodPressureChart = ({\n  patientId,\n  isExpanded = false,\n  onExpand,\n  accessType = 'Admin',\n  navigation,\n  screenshotMode = false,\n  showThreeMonthSummaries = false\n}) => {\n  _s();\n  const {\n    bloodPressureData,\n    loading,\n    error\n  } = usePatientData(patientId);\n  const [tooltipData, setTooltipData] = useState(null);\n  // For Patient access, force Combined View (remove Separate Charts access).\n  // For Physician access, force Combined View (remove Separate Charts access).\n  // Admin can toggle between both.\n  const shouldForceCombinedView = accessType === 'Patient' || accessType === 'Physician';\n\n  // Determine initial view state\n  let initialUseCombinedView = false;\n  if (shouldForceCombinedView) {\n    initialUseCombinedView = true;\n  }\n  const [useCombinedView, setUseCombinedView] = useState(initialUseCombinedView); // State for view toggle\n\n  // Enforce combined view for Patient and Physician - override state if needed\n  const effectiveUseCombinedView = shouldForceCombinedView ? true : useCombinedView;\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n  const {\n    start: weekStart,\n    end: weekEnd\n  } = nav.getDateRange();\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const {\n    start: startOfThreeMonths,\n    end: endOfThreeMonths\n  } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n  const weekDays = Array.from({\n    length: 7\n  }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n  const handleBarHover = data => {\n    setTooltipData(data);\n  };\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Helper function to calculate blood pressure summary statistics\n  // This function calculates average, max, risk categories, and reading counts for any data period\n  function calculateBPSummary(data) {\n    if (!data || data.length === 0) {\n      return null;\n    }\n\n    // Get all valid readings (where both systolic and diastolic are > 0)\n    const systolicReadings = [];\n    const diastolicReadings = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].systolic && data[i].systolic > 0) {\n        systolicReadings.push(data[i].systolic);\n      }\n      if (data[i].diastolic && data[i].diastolic > 0) {\n        diastolicReadings.push(data[i].diastolic);\n      }\n    }\n\n    // Calculate averages\n    let systolicSum = 0;\n    for (let i = 0; i < systolicReadings.length; i++) {\n      systolicSum = systolicSum + systolicReadings[i];\n    }\n    const avgSystolic = systolicReadings.length > 0 ? (systolicSum / systolicReadings.length).toFixed(0) : 0;\n    let diastolicSum = 0;\n    for (let i = 0; i < diastolicReadings.length; i++) {\n      diastolicSum = diastolicSum + diastolicReadings[i];\n    }\n    const avgDiastolic = diastolicReadings.length > 0 ? (diastolicSum / diastolicReadings.length).toFixed(0) : 0;\n\n    // Find maximum values\n    let maxSystolic = 0;\n    for (let i = 0; i < systolicReadings.length; i++) {\n      if (systolicReadings[i] > maxSystolic) {\n        maxSystolic = systolicReadings[i];\n      }\n    }\n    let maxDiastolic = 0;\n    for (let i = 0; i < diastolicReadings.length; i++) {\n      if (diastolicReadings[i] > maxDiastolic) {\n        maxDiastolic = diastolicReadings[i];\n      }\n    }\n\n    // Determine risk category based on average values\n    const systolic = parseFloat(avgSystolic);\n    const diastolic = parseFloat(avgDiastolic);\n    let avgRisk;\n    if (systolic >= 135 || diastolic >= 85) {\n      avgRisk = 'High Risk';\n    } else if (systolic >= 121 || diastolic >= 80) {\n      avgRisk = 'Medium Risk';\n    } else {\n      avgRisk = 'Low Risk';\n    }\n\n    // Count unique days with readings\n    const daysSet = new Set();\n    for (let i = 0; i < data.length; i++) {\n      const dateString = data[i].date.toDateString();\n      daysSet.add(dateString);\n    }\n    const daysWithReadings = daysSet.size;\n\n    // Count readings in ideal category (systolic 90-120 AND diastolic 60-80)\n    let idealReadingsCount = 0;\n    for (let i = 0; i < data.length; i++) {\n      const systolic = data[i].systolic;\n      const diastolic = data[i].diastolic;\n      if (systolic && systolic >= 90 && systolic < 120 && diastolic && diastolic >= 60 && diastolic < 80) {\n        idealReadingsCount++;\n      }\n    }\n    return {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: data.length,\n      idealReadingsCount\n    };\n  }\n\n  // Calculate summary statistics for week period\n  const weekSummary = calculateBPSummary(weekData);\n\n  // Calculate 3-month summary using the same helper function\n  const threeMonthSummary = calculateBPSummary(threeMonthData);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bp-chart-container ${isExpanded ? 'expanded' : ''}`,\n      ref: containerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"bp-main-title\",\n          children: \"Blood Pressure\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chart-subtitle\",\n          children: nav.getFormattedDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 999,\n          columnNumber: 11\n        }, this), accessType === 'Admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${!effectiveUseCombinedView ? 'active' : ''}`,\n            onClick: () => setUseCombinedView(false),\n            children: \"Separate Charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-btn ${effectiveUseCombinedView ? 'active' : ''}`,\n            onClick: () => setUseCombinedView(true),\n            children: \"Combined View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1010,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp-charts-wrapper\",\n        children: effectiveUseCombinedView ? /*#__PURE__*/_jsxDEV(CombinedChart, {\n          weekData: weekData,\n          isExpanded: isExpanded,\n          weekDays: weekDays,\n          onBarHover: handleBarHover,\n          onBarLeave: handleBarLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1022,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Chart, {\n            type: \"systolic\",\n            weekData: weekData,\n            isExpanded: isExpanded,\n            weekDays: weekDays,\n            onBarHover: handleBarHover,\n            onBarLeave: handleBarLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chart, {\n            type: \"diastolic\",\n            weekData: weekData,\n            isExpanded: isExpanded,\n            weekDays: weekDays,\n            onBarHover: handleBarHover,\n            onBarLeave: handleBarLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1039,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n        title: \"Blood Pressure Category:\",\n        items: bloodPressureLegendItems,\n        hide: screenshotMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 9\n      }, this), weekSummary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n          title: \"Blood Pressure Information\",\n          content: \"Blood pressure readings include a measurement of both systolic and diastolic blood pressure measured in millimeters of mercury (mmHg). Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg (Blood Pressure UK).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Week Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average Blood Pressure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1069,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.avgSystolic, \"/\", weekSummary.avgDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1070,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak Blood Pressure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1075,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.maxSystolic, \"/\", weekSummary.maxDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1076,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Reading Days:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1082,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.daysWithReadings, \"/7 days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1083,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings in Ideal Category:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1088,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: weekSummary.idealReadingsCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1089,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1087,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1094,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: weekSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1095,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1093,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1067,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 15\n          }, this), showThreeMonthSummaries && threeMonthSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"3-Month Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1104,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average Blood Pressure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1107,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.avgSystolic, \"/\", threeMonthSummary.avgDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1108,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1106,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak Blood Pressure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1113,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.maxSystolic, \"/\", threeMonthSummary.maxDiastolic, \" mmHg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1114,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Reading Days:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1119,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.daysWithReadings, \" days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings in Ideal Category:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1125,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: threeMonthSummary.idealReadingsCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1124,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1131,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: threeMonthSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1132,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1130,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1103,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n        title: \"Blood Pressure Information\",\n        content: \"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1143,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 996,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      isVisible: !!tooltipData,\n      content: tooltipData && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-title\",\n          children: tooltipData.type === 'Blood Pressure' ? 'Blood Pressure' : `${tooltipData.type} Blood Pressure`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1156,\n          columnNumber: 13\n        }, this), tooltipData.systolic && tooltipData.diastolic ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.systolic, \"/\", tooltipData.diastolic, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.value, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1162,\n          columnNumber: 15\n        }, this), tooltipData.category && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-category\",\n          style: {\n            color: tooltipData.categoryColor\n          },\n          children: tooltipData.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1165,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-time\",\n          children: tooltipData.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-date\",\n          children: tooltipData.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1155,\n        columnNumber: 11\n      }, this),\n      position: tooltipData ? tooltipData.position : {\n        x: 0,\n        y: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BloodPressureChart, \"4TvY+zGEdrXsZ8AxLuW17lPgHsc=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c1 = BloodPressureChart;\nexport default BloodPressureChart;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"YAxis\");\n$RefreshReg$(_c2, \"BPRangeBackground\");\n$RefreshReg$(_c3, \"DualYAxis\");\n$RefreshReg$(_c4, \"XAxis\");\n$RefreshReg$(_c5, \"GridLines\");\n$RefreshReg$(_c6, \"DataBars\");\n$RefreshReg$(_c7, \"CombinedDataBars\");\n$RefreshReg$(_c8, \"Chart\");\n$RefreshReg$(_c9, \"CombinedYAxis\");\n$RefreshReg$(_c0, \"CombinedChart\");\n$RefreshReg$(_c1, \"BloodPressureChart\");","map":{"version":3,"names":["React","useState","useRef","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","jsxDEV","_jsxDEV","Fragment","_Fragment","formatDayLabel","date","dayNames","getDay","getTimePosition","dayIndex","config","hour","getHours","getMinutes","timeRatio","dayContentWidth","dayWidth","dayPadding","padding","left","YAxis","type","chartHeight","height","top","bottom","yAxisLabels","valueRange","yAxisRange","yOffset","yAxisOffset","className","children","x","y","fontSize","yAxisTitle","textAnchor","transform","fileName","_jsxFileName","lineNumber","columnNumber","map","value","x1","y1","x2","width","right","y2","yAxis","_c","BPRangeBackground","isCombined","idealRanges","name","min","max","color","opacity","range","topY","bottomY","Math","abs","fill","systolicRange","systolic","diastolicRange","diastolic","systolicOffset","diastolicOffset","ranges","systolicTopY","systolicBottomY","diastolicTopY","diastolicBottomY","toLowerCase","_c2","DualYAxis","systolicLabels","diastolicLabels","_c3","XAxis","weekDays","isExpanded","day","dayX","dayCenterX","startTickX","middleTickX","stroke","strokeWidth","timeLabel","dayLabel","dateLabel","getDate","length","_c4","GridLines","_","_c5","DataBars","readings","onBarHover","onBarLeave","getColor","getSystolicColor","getDiastolicColor","reading","index","readingDate","Date","barHeight","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","style","cursor","onMouseEnter","onMouseLeave","_c6","CombinedDataBars","getCombinedRisk","sortedReadings","sort","a","b","dateA","dateB","buildPath","points","pathString","i","systolicValue","diastolicValue","systolicBarHeight","diastolicBarHeight","systolicY","diastolicY","systolicPath","p","diastolicPath","d","strokeLinecap","strokeLinejoin","point","risk","combinedRiskColor","riskCategory","category","categoryColor","cx","cy","r","_c7","Chart","weekData","filter","viewBox","_c8","CombinedYAxis","_c9","CombinedChart","_c0","bloodPressureLegendItems","label","description","BloodPressureChart","patientId","onExpand","accessType","navigation","screenshotMode","showThreeMonthSummaries","_s","bloodPressureData","loading","error","setTooltipData","shouldForceCombinedView","initialUseCombinedView","useCombinedView","setUseCombinedView","effectiveUseCombinedView","containerRef","internalNavigation","nav","start","weekStart","end","weekEnd","getDateRange","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","Array","from","setDate","handleBarHover","data","handleBarLeave","calculateBPSummary","systolicReadings","diastolicReadings","push","systolicSum","avgSystolic","toFixed","diastolicSum","avgDiastolic","maxSystolic","maxDiastolic","parseFloat","avgRisk","daysSet","Set","dateString","toDateString","add","daysWithReadings","size","idealReadingsCount","totalReadings","weekSummary","threeMonthSummary","ref","getFormattedDateRange","onClick","title","items","hide","content","isVisible","_c1","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/BloodPressureChart.js"],"sourcesContent":["/*\n BloodPressureChart.js - Blood Pressure Monitoring Visualization\n \n This component provides blood pressure tracking with systolic and diastolic pressure visualization. It includes risk categorization with color coding and provides daily and weekly trend analysis. It supports display of multiple daily measurements and includes interactive tooltips with blood pressure details. It includes navigation controls for time periods. The component uses custom SVG for blood pressure visualization and implements a dual-axis system for systolic and diastolic values. It provides risk-based color coding for clinical interpretation and supports multiple daily readings with time-based positioning. The component implements configurable layouts. Visualization features include color-coded risk categories including normal, elevated, high, and crisis, time-based positioning for multiple daily readings, interactive tooltips with detailed blood pressure information, and a grid system with axis scaling. Clinical features include risk categorization based on medical guidelines, summary statistics for physician view, trend analysis over time periods, and educational information for patient view. The component structure includes a dual-axis system for systolic and diastolic values on the Y-axis, a time-based axis with day and time labels on the X-axis, interactive blood pressure readings as data points, risk category explanations in the legend, and detailed reading information in tooltips. This component is used for cardiovascular health monitoring and hypertension management.\n */\n\nimport React, { useState, useRef } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport './BloodPressureChart.css';\n\n// Constants\n// Helper Functions\n\nconst formatDayLabel = (date) => {\n  const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  return dayNames[date.getDay()];\n};\n\nconst getTimePosition = (date, dayIndex, config) => {\n  const hour = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = hour / 24;\n  const dayContentWidth = config.dayWidth - config.dayPadding * 2;\n  return config.padding.left + (dayIndex * config.dayWidth) + config.dayPadding + (timeRatio * dayContentWidth);\n};\n\n// Chart Sub-components\n\nconst YAxis = ({ config, type }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels[type];\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n\n  return (\n    <g className=\"y-axis\">\n      <text\n        x={config.padding.left / 3}\n        y={config.padding.top + chartHeight / 2}\n        fontSize={config.fontSize.yAxisTitle}\n        textAnchor=\"middle\"\n        className=\"y-axis-title\"\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n      >\n        mm Hg\n      </text>\n      {yAxisLabels.map(value => {\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\n        return (\n          <g key={value} className=\"y-axis-grid-group\">\n                        <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n            <text x={config.padding.left - 10} y={y + 3} fontSize={config.fontSize.yAxis} textAnchor=\"end\" className=\"chart-tick-label\">{value}</text>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Blood Pressure Range Background Component\nconst BPRangeBackground = ({ config, isCombined = false }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  \n  if (isCombined) {\n    // For combined chart with single axis (0-200), show only ideal ranges as green bars\n    // This avoids conflicts with dot colors which use combined risk assessment\n    const valueRange = config.yAxisRange;\n    const yOffset = config.yAxisOffset;\n    \n    // Ideal ranges: Systolic 90-120, Diastolic 60-80\n    const idealRanges = [\n      { \n        name: 'Systolic Ideal', \n        min: 90, \n        max: 120, \n        color: 'var(--chart-color-bp-ideal)', \n        opacity: 0.15 \n      },\n      { \n        name: 'Diastolic Ideal', \n        min: 60, \n        max: 80, \n        color: 'var(--chart-color-bp-ideal)', \n        opacity: 0.15 \n      }\n    ];\n\n    return (\n      <g className=\"bp-range-background\">\n        {idealRanges.map((range) => {\n          const topY = config.height - config.padding.bottom - \n            ((range.max - yOffset) / valueRange) * chartHeight;\n          const bottomY = config.height - config.padding.bottom - \n            ((range.min - yOffset) / valueRange) * chartHeight;\n\n          return (\n            <rect\n              key={range.name}\n              x={config.padding.left}\n              y={Math.min(topY, bottomY)}\n              width={config.width - config.padding.left - config.padding.right}\n              height={Math.abs(bottomY - topY)}\n              fill={range.color}\n              opacity={range.opacity}\n              className=\"bp-range-ideal\"\n            />\n          );\n        })}\n      </g>\n    );\n  } else {\n    // For separate charts, use dual-axis ranges\n    const systolicRange = config.yAxisRange.systolic;\n    const diastolicRange = config.yAxisRange.diastolic;\n    const systolicOffset = config.yAxisOffset.systolic;\n    const diastolicOffset = config.yAxisOffset.diastolic;\n\n    const ranges = [\n      { \n        name: 'High', \n        systolic: [140, 200], \n        diastolic: [90, 120], \n        color: 'var(--chart-color-bp-high)', \n        opacity: 0.1 \n      },\n      { \n        name: 'Pre-high', \n        systolic: [120, 140], \n        diastolic: [80, 90], \n        color: 'var(--chart-color-bp-pre-high)', \n        opacity: 0.1 \n      },\n      { \n        name: 'Ideal', \n        systolic: [90, 120], \n        diastolic: [60, 80], \n        color: 'var(--chart-color-bp-ideal)', \n        opacity: 0.1 \n      },\n      { \n        name: 'Low', \n        systolic: [0, 90], \n        diastolic: [0, 60], \n        color: 'var(--chart-color-bp-low)', \n        opacity: 0.1 \n      }\n    ];\n\n    return (\n      <g className=\"bp-range-background\">\n        {ranges.map((range) => {\n          const systolicTopY = config.height - config.padding.bottom - \n            ((range.systolic[1] - systolicOffset) / systolicRange) * chartHeight;\n          const systolicBottomY = config.height - config.padding.bottom - \n            ((range.systolic[0] - systolicOffset) / systolicRange) * chartHeight;\n          \n          const diastolicTopY = config.height - config.padding.bottom - \n            ((range.diastolic[1] - diastolicOffset) / diastolicRange) * chartHeight;\n          const diastolicBottomY = config.height - config.padding.bottom - \n            ((range.diastolic[0] - diastolicOffset) / diastolicRange) * chartHeight;\n\n          return (\n            <g key={range.name}>\n              <rect\n                x={config.padding.left}\n                y={Math.min(systolicTopY, systolicBottomY)}\n                width={config.width - config.padding.left - config.padding.right}\n                height={Math.abs(systolicBottomY - systolicTopY)}\n                fill={range.color}\n                opacity={range.opacity}\n                className={`bp-range-${range.name.toLowerCase()}`}\n              />\n              <rect\n                x={config.padding.left}\n                y={Math.min(diastolicTopY, diastolicBottomY)}\n                width={config.width - config.padding.left - config.padding.right}\n                height={Math.abs(diastolicBottomY - diastolicTopY)}\n                fill={range.color}\n                opacity={range.opacity}\n                className={`bp-range-${range.name.toLowerCase()}`}\n              />\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n};\n\n// Dual Y-Axis Component for Combined Chart\nconst DualYAxis = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const systolicLabels = config.yAxisLabels.systolic;\n  const diastolicLabels = config.yAxisLabels.diastolic;\n  const systolicRange = config.yAxisRange.systolic;\n  const diastolicRange = config.yAxisRange.diastolic;\n  const systolicOffset = config.yAxisOffset.systolic;\n  const diastolicOffset = config.yAxisOffset.diastolic;\n\n  return (\n    <g className=\"dual-y-axis\">\n      {/* Systolic Y-Axis (Left) */}\n      <g className=\"y-axis-left\">\n        <text\n          x={config.padding.left / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Systolic (mmHg)\n        </text>\n        {systolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - systolicOffset) / systolicRange) * chartHeight;\n          return (\n            <g key={`systolic-${value}`} className=\"y-axis-grid-group\">\n              <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n              <text \n                x={config.padding.left - 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"end\" \n                className=\"chart-tick-label systolic-label\"\n                fill=\"black\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n\n      {/* Diastolic Y-Axis (Right) */}\n      <g className=\"y-axis-right\">\n        <text\n          x={config.width - config.padding.right / 3}\n          y={config.padding.top + chartHeight / 2}\n          fontSize={config.fontSize.yAxisTitle}\n          textAnchor=\"middle\"\n          className=\"y-axis-title\"\n          transform={`rotate(90, ${config.width - config.padding.right / 3}, ${config.padding.top + chartHeight / 2})`}\n        >\n          Diastolic (mmHg)\n        </text>\n        {diastolicLabels.map(value => {\n          const y = config.height - config.padding.bottom - ((value - diastolicOffset) / diastolicRange) * chartHeight;\n          return (\n            <g key={`diastolic-${value}`} className=\"y-axis-grid-group\">\n              <text \n                x={config.width - config.padding.right + 10} \n                y={y + 3} \n                fontSize={config.fontSize.yAxis} \n                textAnchor=\"start\" \n                className=\"chart-tick-label diastolic-label\"\n                fill=\"var(--chart-color-green)\"\n              >\n                {value}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n\nconst XAxis = ({ config, weekDays, isExpanded }) => (\n  <g className=\"x-axis\">\n    {weekDays.map((day, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      const dayCenterX = dayX + config.dayWidth / 2;\n      \n      // Tick positions\n      const startTickX = dayX;\n      const middleTickX = dayX + config.dayWidth / 2;\n\n      return (\n        <g key={dayIndex} className=\"x-axis-label-group\">\n          {/* X-axis tick marks */}\n          <line \n            className=\"x-axis-tick\" \n            x1={startTickX} \n            y1={config.height - config.padding.bottom} \n            x2={startTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          <line \n            className=\"x-axis-tick\" \n            x1={middleTickX} \n            y1={config.height - config.padding.bottom} \n            x2={middleTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          \n          {/* Time labels positioned at tick marks */}\n          <text\n            className=\"time-label\"\n            x={startTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={isExpanded ? config.fontSize.timeLabel - 2 : config.fontSize.timeLabel - 4}\n          >\n            12am\n          </text>\n          <text\n            className=\"time-label\"\n            x={middleTickX}\n            y={config.height - config.padding.bottom + 15}\n            textAnchor=\"middle\"\n            fontSize={isExpanded ? config.fontSize.timeLabel - 2 : config.fontSize.timeLabel - 4}\n          >\n            12pm\n          </text>\n\n          {/* Day and Date Labels */}\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 40}\n            textAnchor=\"middle\"\n            className=\"x-axis-day-label\"\n            fontSize={config.fontSize.dayLabel}\n          >\n            {formatDayLabel(day)}\n          </text>\n          <text\n            x={dayCenterX}\n            y={config.height - config.padding.bottom + 62}\n            textAnchor=\"middle\"\n            className=\"x-axis-date-label\"\n            fontSize={config.fontSize.dateLabel}\n          >\n            {day.getDate()}\n          </text>\n        </g>\n      );\n    })}\n    {/* Final tick mark at the end of the last day */}\n    <line \n      className=\"x-axis-tick\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.height - config.padding.bottom} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom + 5}\n      stroke=\"var(--chart-color-neutral)\"\n      strokeWidth=\"1\"\n    />\n    <text\n      className=\"time-label\"\n      x={config.padding.left + weekDays.length * config.dayWidth}\n      y={config.height - config.padding.bottom + 15}\n      textAnchor=\"middle\"\n      fontSize={isExpanded ? config.fontSize.timeLabel - 2 : config.fontSize.timeLabel - 4}\n    >\n      12am\n    </text>\n  </g>\n);\n\nconst GridLines = ({ config, weekDays }) => (\n  <g className=\"grid-lines\">\n    {/* Vertical day and time lines */}\n    {weekDays.map((_, dayIndex) => {\n      const dayX = config.padding.left + dayIndex * config.dayWidth;\n      return (\n        <g key={dayIndex}>\n          <line className=\"chart-grid-line-vertical\" x1={dayX} y1={config.padding.top} x2={dayX} y2={config.height - config.padding.bottom} />\n          {/* Time lines at 12am and 12pm within each day */}\n          {[0, 12].map(hour => {\n            const timeRatio = hour / 24;\n            const x = config.padding.left + (dayIndex * config.dayWidth) + (timeRatio * config.dayWidth);\n            return <line key={`${dayIndex}-${hour}`} className=\"chart-grid-line-vertical-time\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />;\n          })}\n        </g>\n      );\n    })}\n    {/* Final grid line at the end of the last day */}\n    <line \n      className=\"chart-grid-line-vertical\" \n      x1={config.padding.left + weekDays.length * config.dayWidth} \n      y1={config.padding.top} \n      x2={config.padding.left + weekDays.length * config.dayWidth} \n      y2={config.height - config.padding.bottom} \n    />\n  </g>\n);\n\nconst DataBars = ({ readings, type, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const valueRange = config.yAxisRange[type];\n  const yOffset = config.yAxisOffset[type];\n  const getColor = type === 'systolic' ? getSystolicColor : getDiastolicColor;\n\n  return (\n    <g className=\"data-bars\">\n      {readings.map((reading, index) => {\n        const readingDate = new Date(reading.date);\n        const dayIndex = readingDate.getDay();\n        const x = getTimePosition(readingDate, dayIndex, config);\n        const value = reading[type];\n        const barHeight = (value / valueRange) * chartHeight;\n        const y = config.height - config.padding.bottom - barHeight;\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: type === 'systolic' ? 'Systolic' : 'Diastolic',\n            value: value,\n            unit: 'mmHg',\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <rect\n            key={index}\n            x={x - config.barWidth / 2}\n            y={y}\n            width={config.barWidth}\n            height={Math.max(0, barHeight)}\n            fill={getColor(value)}\n            style={{ cursor: 'pointer' }}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nconst getSystolicColor = (value) => {\n  if (value < 90) return 'var(--chart-color-bp-low)';\n  if (value < 120) return 'var(--chart-color-bp-ideal)';\n  if (value < 140) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\nconst getDiastolicColor = (value) => {\n  if (value < 60) return 'var(--chart-color-bp-low)';\n  if (value < 80) return 'var(--chart-color-bp-ideal)';\n  if (value < 90) return 'var(--chart-color-bp-pre-high)';\n  return 'var(--chart-color-bp-high)';\n};\n\n// Combined I-Bar Chart Component\nconst CombinedDataBars = ({ readings, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  // Use single range for both systolic and diastolic (0-200 covers both)\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n\n  // Determine overall risk color and category based on both values\n  // Based on Blood_pressure_range_description.txt:\n  // Low: systolic < 90 AND diastolic < 60\n  // Ideal: systolic 90-120 AND diastolic 60-80\n  // Pre-high: systolic 120-140 OR diastolic 80-90\n  // High: systolic >= 140 OR diastolic >= 90\n  // This simplified function combines both color and category into one return value\n  function getCombinedRisk(systolic, diastolic) {\n    // High: systolic >= 140 OR diastolic >= 90\n    if (systolic >= 140 || diastolic >= 90) {\n      return {\n        name: 'High',\n        color: 'var(--chart-color-bp-high)'\n      };\n    }\n    \n    // Pre-high: systolic 120-140 OR diastolic 80-90 (but not already high)\n    if ((systolic >= 120 && systolic < 140) || (diastolic >= 80 && diastolic < 90)) {\n      return {\n        name: 'Pre-High',\n        color: 'var(--chart-color-bp-pre-high)'\n      };\n    }\n    \n    // Low: systolic < 90 AND diastolic < 60 (both must be low)\n    if (systolic < 90 && diastolic < 60) {\n      return {\n        name: 'Low',\n        color: 'var(--chart-color-bp-low)'\n      };\n    }\n    \n    // Ideal: systolic 90-120 AND diastolic 60-80 (default for remaining cases)\n    return {\n      name: 'Ideal',\n      color: 'var(--chart-color-bp-ideal)'\n    };\n  }\n\n  // Sort readings by date/time for proper line connection\n  const sortedReadings = [...readings].sort((a, b) => {\n    const dateA = new Date(a.date);\n    const dateB = new Date(b.date);\n    return dateA - dateB;\n  });\n\n  // Build path string for trend lines - simpler version using basic loops\n  function buildPath(points) {\n    if (points.length === 0) {\n      return '';\n    }\n    \n    let pathString = '';\n    for (let i = 0; i < points.length; i++) {\n      if (i === 0) {\n        // First point: use 'M' (move to)\n        pathString = pathString + 'M ' + points[i].x + ' ' + points[i].y;\n      } else {\n        // Other points: use 'L' (line to)\n        pathString = pathString + ' L ' + points[i].x + ' ' + points[i].y;\n      }\n    }\n    \n    return pathString;\n  }\n\n  // Calculate all point positions\n  const points = sortedReadings.map((reading) => {\n    const readingDate = new Date(reading.date);\n    const dayIndex = readingDate.getDay();\n    const x = getTimePosition(readingDate, dayIndex, config);\n    \n    const systolicValue = reading.systolic;\n    const diastolicValue = reading.diastolic;\n    \n    const systolicBarHeight = ((systolicValue - yOffset) / valueRange) * chartHeight;\n    const diastolicBarHeight = ((diastolicValue - yOffset) / valueRange) * chartHeight;\n    \n    const systolicY = config.height - config.padding.bottom - systolicBarHeight;\n    const diastolicY = config.height - config.padding.bottom - diastolicBarHeight;\n    \n    return {\n      x,\n      systolicY,\n      diastolicY,\n      reading,\n      readingDate,\n      systolicValue,\n      diastolicValue\n    };\n  });\n\n  // Build paths for both lines\n  const systolicPath = buildPath(points.map(p => ({ x: p.x, y: p.systolicY })));\n  const diastolicPath = buildPath(points.map(p => ({ x: p.x, y: p.diastolicY })));\n\n  return (\n    <g className=\"combined-data-bars\">\n      {/* Trend lines - draw before dots so dots appear on top */}\n      {systolicPath && points.length > 1 && (\n        <path\n          d={systolicPath}\n          fill=\"none\"\n          stroke=\"#cccccc\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          className=\"systolic-trend-line\"\n        />\n      )}\n      {diastolicPath && points.length > 1 && (\n        <path\n          d={diastolicPath}\n          fill=\"none\"\n          stroke=\"#cccccc\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          className=\"diastolic-trend-line\"\n        />\n      )}\n      \n      {/* Individual data points */}\n      {points.map((point, index) => {\n        const { reading, readingDate, x, systolicY, diastolicY, systolicValue, diastolicValue } = point;\n        \n        const risk = getCombinedRisk(systolicValue, diastolicValue);\n        const combinedRiskColor = risk.color;\n        const riskCategory = risk;\n\n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            type: 'Blood Pressure',\n            systolic: systolicValue,\n            diastolic: diastolicValue,\n            unit: 'mmHg',\n            category: riskCategory.name,\n            categoryColor: riskCategory.color,\n            time: readingDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: readingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n\n        return (\n          <g key={index} className=\"bp-reading-group\">\n            {/* Systolic point - standardized styling */}\n            <circle\n              cx={x}\n              cy={systolicY}\n              r=\"5\"\n              fill={combinedRiskColor}\n              stroke=\"#cccccc\"\n              strokeWidth=\"2\"\n              style={{ cursor: 'pointer' }}\n              className=\"systolic-dot\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n            {/* Diastolic point - standardized styling */}\n            <circle\n              cx={x}\n              cy={diastolicY}\n              r=\"5\"\n              fill={combinedRiskColor}\n              stroke=\"#cccccc\"\n              strokeWidth=\"2\"\n              style={{ cursor: 'pointer' }}\n              className=\"diastolic-dot\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nconst Chart = ({ type, weekData, isExpanded, weekDays, onBarHover, onBarLeave }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n        },\n        barWidth: 12,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 40, 80, 120, 160, 200],\n          diastolic: [0, 20, 40, 60, 80, 100, 120],\n        },\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 19,\n          dayLabel: 19,\n          dateLabel: 19,\n        },\n        barWidth: 8,\n        yAxisRange: { systolic: 200, diastolic: 120 },\n        yAxisOffset: { systolic: 0, diastolic: 0 },\n        yAxisLabels: {\n          systolic: [0, 100, 200],\n          diastolic: [0, 60, 120],\n        },\n        dayPadding: 6,\n      };\n  \n  const readings = weekData.filter(d => d[type] && d[type] > 0);\n\n  return (\n    <div className={`chart-section ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">{type === 'systolic' ? 'Systolic' : 'Diastolic'}</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          <GridLines config={config} weekDays={weekDays} />\n          <YAxis config={config} type={type} />\n          <XAxis config={config} weekDays={weekDays} isExpanded={isExpanded} />\n          <DataBars readings={readings} type={type} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\n// Combined Y-Axis Component for Combined Chart (single axis)\nconst CombinedYAxis = ({ config }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  const yAxisLabels = config.yAxisLabels;\n  const valueRange = config.yAxisRange;\n  const yOffset = config.yAxisOffset;\n\n  return (\n    <g className=\"y-axis\">\n      <text\n        x={config.padding.left / 3}\n        y={config.padding.top + chartHeight / 2}\n        fontSize={config.fontSize.yAxisTitle}\n        textAnchor=\"middle\"\n        className=\"y-axis-title\"\n        transform={`rotate(-90, ${config.padding.left / 3}, ${config.padding.top + chartHeight / 2})`}\n      >\n        Millimeters of mercury (mmHg)\n      </text>\n      {yAxisLabels.map(value => {\n        const y = config.height - config.padding.bottom - ((value - yOffset) / valueRange) * chartHeight;\n        return (\n          <g key={value} className=\"y-axis-grid-group\">\n            <line className=\"chart-grid-line-horizontal\" x1={config.padding.left} y1={y} x2={config.width - config.padding.right} y2={y} />\n            <text \n              x={config.padding.left - 10} \n              y={y + 3} \n              fontSize={config.fontSize.yAxis} \n              textAnchor=\"end\" \n              className=\"chart-tick-label\"\n            >\n              {value}\n            </text>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// Combined Chart Component\nconst CombinedChart = ({ weekData, isExpanded, weekDays, onBarHover, onBarLeave }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n        },\n        barWidth: 12,\n        yAxisRange: 200,  // Single range for both systolic and diastolic\n        yAxisOffset: 0,\n        yAxisLabels: [0, 40, 80, 120, 160, 200],\n        dayPadding: 10,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 19,\n          dayLabel: 19,\n          dateLabel: 19,\n        },\n        barWidth: 8,\n        yAxisRange: 200,  // Single range for both systolic and diastolic\n        yAxisOffset: 0,\n        yAxisLabels: [0, 50, 100, 150, 200],\n        dayPadding: 6,\n      };\n  \n  // Filter readings and validate that systolic > diastolic (medically required)\n  const readings = weekData.filter(d => \n    d.systolic && d.diastolic && \n    d.systolic > 0 && d.diastolic > 0 &&\n    d.systolic > d.diastolic  // Ensure systolic is always greater than diastolic\n  );\n\n  return (\n    <div className={`chart-section combined-chart ${isExpanded ? 'expanded' : ''}`}>\n      <h4 className=\"chart-subtitle\">Blood Pressure (Systolic/Diastolic)</h4>\n      <div className=\"bp-svg-container\">\n        <svg\n          width=\"100%\"\n          height=\"100%\"\n          viewBox={`0 0 ${config.width} ${config.height}`}\n          className=\"chart-svg\"\n        >\n          {/* Blood pressure range background */}\n          <BPRangeBackground config={config} isCombined={true} />\n          <GridLines config={config} weekDays={weekDays} />\n          {/* Single Y-axis for combined chart */}\n          <CombinedYAxis config={config} />\n          <XAxis config={config} weekDays={weekDays} isExpanded={isExpanded} />\n          <CombinedDataBars readings={readings} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nconst bloodPressureLegendItems = [\n  { color: 'var(--chart-color-bp-low)', label: 'Low', description: 'Blood pressure below normal range' },\n  { color: 'var(--chart-color-bp-ideal)', label: 'Ideal', description: 'Blood pressure within ideal range' },\n  { color: 'var(--chart-color-bp-pre-high)', label: 'Pre-high', description: 'Blood pressure elevated but not yet high' },\n  { color: 'var(--chart-color-bp-high)', label: 'High', description: 'Blood pressure high - requires attention' },\n];\n\n\n\n// --- Main Component ---\nconst BloodPressureChart = ({ patientId, isExpanded = false, onExpand, accessType = 'Admin', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const { bloodPressureData, loading, error } = usePatientData(patientId);\n  const [tooltipData, setTooltipData] = useState(null);\n  // For Patient access, force Combined View (remove Separate Charts access).\n  // For Physician access, force Combined View (remove Separate Charts access).\n  // Admin can toggle between both.\n  const shouldForceCombinedView = accessType === 'Patient' || accessType === 'Physician';\n  \n  // Determine initial view state\n  let initialUseCombinedView = false;\n  if (shouldForceCombinedView) {\n    initialUseCombinedView = true;\n  }\n  \n  const [useCombinedView, setUseCombinedView] = useState(initialUseCombinedView); // State for view toggle\n  \n  // Enforce combined view for Patient and Physician - override state if needed\n  const effectiveUseCombinedView = shouldForceCombinedView ? true : useCombinedView;\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('bloodPressure');\n  const nav = navigation || internalNavigation;\n\n  const { start: weekStart, end: weekEnd } = nav.getDateRange();\n\n  const weekData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= weekStart && readingDate <= weekEnd;\n  });\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = bloodPressureData.filter(d => {\n    const readingDate = new Date(d.date);\n    return readingDate >= startOfThreeMonths && readingDate <= endOfThreeMonths;\n  });\n\n  const weekDays = Array.from({ length: 7 }, (_, i) => {\n    const d = new Date(weekStart);\n    d.setDate(weekStart.getDate() + i);\n    return d;\n  });\n\n\n\n\n  const handleBarHover = (data) => {\n    setTooltipData(data);\n  };\n\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  // Helper function to calculate blood pressure summary statistics\n  // This function calculates average, max, risk categories, and reading counts for any data period\n  function calculateBPSummary(data) {\n    if (!data || data.length === 0) {\n      return null;\n    }\n\n    // Get all valid readings (where both systolic and diastolic are > 0)\n    const systolicReadings = [];\n    const diastolicReadings = [];\n    \n    for (let i = 0; i < data.length; i++) {\n      if (data[i].systolic && data[i].systolic > 0) {\n        systolicReadings.push(data[i].systolic);\n      }\n      if (data[i].diastolic && data[i].diastolic > 0) {\n        diastolicReadings.push(data[i].diastolic);\n      }\n    }\n\n    // Calculate averages\n    let systolicSum = 0;\n    for (let i = 0; i < systolicReadings.length; i++) {\n      systolicSum = systolicSum + systolicReadings[i];\n    }\n    const avgSystolic = systolicReadings.length > 0 ? \n      (systolicSum / systolicReadings.length).toFixed(0) : 0;\n    \n    let diastolicSum = 0;\n    for (let i = 0; i < diastolicReadings.length; i++) {\n      diastolicSum = diastolicSum + diastolicReadings[i];\n    }\n    const avgDiastolic = diastolicReadings.length > 0 ? \n      (diastolicSum / diastolicReadings.length).toFixed(0) : 0;\n\n    // Find maximum values\n    let maxSystolic = 0;\n    for (let i = 0; i < systolicReadings.length; i++) {\n      if (systolicReadings[i] > maxSystolic) {\n        maxSystolic = systolicReadings[i];\n      }\n    }\n    \n    let maxDiastolic = 0;\n    for (let i = 0; i < diastolicReadings.length; i++) {\n      if (diastolicReadings[i] > maxDiastolic) {\n        maxDiastolic = diastolicReadings[i];\n      }\n    }\n\n    // Determine risk category based on average values\n    const systolic = parseFloat(avgSystolic);\n    const diastolic = parseFloat(avgDiastolic);\n    let avgRisk;\n    \n    if (systolic >= 135 || diastolic >= 85) {\n      avgRisk = 'High Risk';\n    } else if (systolic >= 121 || diastolic >= 80) {\n      avgRisk = 'Medium Risk';\n    } else {\n      avgRisk = 'Low Risk';\n    }\n    \n    // Count unique days with readings\n    const daysSet = new Set();\n    for (let i = 0; i < data.length; i++) {\n      const dateString = data[i].date.toDateString();\n      daysSet.add(dateString);\n    }\n    const daysWithReadings = daysSet.size;\n\n    // Count readings in ideal category (systolic 90-120 AND diastolic 60-80)\n    let idealReadingsCount = 0;\n    for (let i = 0; i < data.length; i++) {\n      const systolic = data[i].systolic;\n      const diastolic = data[i].diastolic;\n      if (systolic && systolic >= 90 && systolic < 120 &&\n          diastolic && diastolic >= 60 && diastolic < 80) {\n        idealReadingsCount++;\n      }\n    }\n\n    return {\n      avgSystolic,\n      avgDiastolic,\n      maxSystolic,\n      maxDiastolic,\n      avgRisk,\n      daysWithReadings,\n      totalReadings: data.length,\n      idealReadingsCount\n    };\n  }\n\n  // Calculate summary statistics for week period\n  const weekSummary = calculateBPSummary(weekData);\n\n  // Calculate 3-month summary using the same helper function\n  const threeMonthSummary = calculateBPSummary(threeMonthData);\n\n  return (\n    <>\n      <div className={`bp-chart-container ${isExpanded ? 'expanded' : ''}`} ref={containerRef}>\n        <div className=\"bp-header\">\n          <h3 className=\"bp-main-title\">Blood Pressure</h3>\n          <h4 className=\"chart-subtitle\">{nav.getFormattedDateRange()}</h4>\n          \n          {/* View Toggle - Hide for Patient and Physician, show both for Admin */}\n          {accessType === 'Admin' && (\n            <div className=\"view-toggle\">\n              <button \n                className={`toggle-btn ${!effectiveUseCombinedView ? 'active' : ''}`}\n                onClick={() => setUseCombinedView(false)}\n              >\n                Separate Charts\n              </button>\n              <button \n                className={`toggle-btn ${effectiveUseCombinedView ? 'active' : ''}`}\n                onClick={() => setUseCombinedView(true)}\n              >\n                Combined View\n              </button>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"bp-charts-wrapper\">\n          {effectiveUseCombinedView ? (\n            <CombinedChart \n              weekData={weekData} \n              isExpanded={isExpanded} \n              weekDays={weekDays} \n              onBarHover={handleBarHover}\n              onBarLeave={handleBarLeave}\n            />\n          ) : (\n            <>\n              <Chart \n                type=\"systolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n              <Chart \n                type=\"diastolic\" \n                weekData={weekData} \n                isExpanded={isExpanded} \n                weekDays={weekDays} \n                onBarHover={handleBarHover}\n                onBarLeave={handleBarLeave}\n              />\n            </>\n          )}\n        </div>\n        \n        <Legend title=\"Blood Pressure Category:\" items={bloodPressureLegendItems} hide={screenshotMode} />\n        \n        {/* Show InfoBox for patient view, summary for physician/unified view - Hide InfoBox for Physician but keep summaries */}\n        {weekSummary ? (\n          <>\n            {/* Hide InfoBox for Physician */}\n            {accessType !== 'Physician' && (\n              <InfoBox \n                title=\"Blood Pressure Information\" \n                content=\"Blood pressure readings include a measurement of both systolic and diastolic blood pressure measured in millimeters of mercury (mmHg). Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg (Blood Pressure UK).\"\n              />\n            )}\n            {/* Always show summaries for physician/unified view */}\n            <div className=\"summary-container\">\n              <div className=\"chart-summary\">\n                <h4>Week Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Average Blood Pressure:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.avgSystolic}/{weekSummary.avgDiastolic} mmHg\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Peak Blood Pressure:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.maxSystolic}/{weekSummary.maxDiastolic} mmHg\n                    </span>\n                  </div>\n\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Reading Days:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.daysWithReadings}/7 days\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings in Ideal Category:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.idealReadingsCount}\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.totalReadings}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {showThreeMonthSummaries && threeMonthSummary && (\n                <div className=\"chart-summary\">\n                  <h4>3-Month Summary</h4>\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Average Blood Pressure:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.avgSystolic}/{threeMonthSummary.avgDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Peak Blood Pressure:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.maxSystolic}/{threeMonthSummary.maxDiastolic} mmHg\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Reading Days:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.daysWithReadings} days\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings in Ideal Category:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.idealReadingsCount}\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.totalReadings}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          accessType !== 'Physician' && (\n            <InfoBox \n              title=\"Blood Pressure Information\" \n              content=\"Blood pressure is measured by two numbers: systolic and diastolic. Low blood pressure is a systolic reading below 90 mmHg and a diastolic reading below 60 mmHg. Ideal blood pressure is a systolic reading between 90 and 120 mmHg and a diastolic reading between 60 and 80 mmHg. Pre-high blood pressure is a systolic reading between 120 and 140 mmHg or a diastolic reading between 80 and 90 mmHg. High blood pressure is a systolic reading of 140 mmHg or higher or a diastolic reading of 90 mmHg or higher (Blood Pressure UK).\"\n            />\n          )\n        )}\n      </div>\n      \n      {/* Custom Tooltip */}\n      <Tooltip\n        isVisible={!!tooltipData}\n        content={tooltipData && (\n          <div>\n            <div className=\"tooltip-title\">{tooltipData.type === 'Blood Pressure' ? 'Blood Pressure' : `${tooltipData.type} Blood Pressure`}</div>\n            {tooltipData.systolic && tooltipData.diastolic ? (\n              <div className=\"tooltip-value\">\n                {tooltipData.systolic}/{tooltipData.diastolic} {tooltipData.unit}\n              </div>\n            ) : (\n              <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\n            )}\n            {tooltipData.category && (\n              <div className=\"tooltip-category\" style={{ color: tooltipData.categoryColor }}>\n                {tooltipData.category}\n              </div>\n            )}\n            <div className=\"tooltip-time\">{tooltipData.time}</div>\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\n          </div>\n        )}\n        position={tooltipData ? tooltipData.position : { x: 0, y: 0 }}\n      />\n    </>\n  );\n};\n\nexport default BloodPressureChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}