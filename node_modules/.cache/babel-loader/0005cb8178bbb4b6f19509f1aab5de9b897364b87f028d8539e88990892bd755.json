{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local\\\\MCC_digital_health_data_visualizations\\\\src\\\\components\\\\patient_charts\\\\PainChart.js\",\n  _s = $RefreshSig$();\n/**\r\n PainChart.js - Pain Assessment and Visualization Component\r\n \r\n This component provides comprehensive pain monitoring:\r\n - Anatomical body mapping for pain location\r\n - Pain intensity scale (0-10) with color coding\r\n - Daily pain tracking and trend analysis\r\n - Interactive body diagram for pain location selection\r\n - Pain level input and editing capabilities\r\n - Navigation controls for time periods\r\n \r\n Critical for pain management and treatment monitoring.\r\n */\n\nimport React, { useState, useMemo, useRef } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport BodySVG from './BodySvg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PainChart = ({\n  patientId,\n  isExpanded = false,\n  onExpand,\n  viewMode = 'patient',\n  navigation\n}) => {\n  _s();\n  const {\n    painData,\n    isLoading: loading,\n    error\n  } = usePatientData(patientId, 'pain');\n\n  // Use navigation from parent or fallback to internal navigation\n  const useInternalNavigation = !navigation;\n  const internalNavigation = useChartNavigation('pain');\n  const nav = navigation || internalNavigation;\n  const getPainColor = level => {\n    // 11-class color scheme from light to dark\n    const painColors = ['#ffffe5',\n    // 0 - No pain (lightest cream)\n    '#fff7bc',\n    // 1 - Very mild pain\n    '#f7f7b3',\n    // 2 - Mild pain\n    '#fee391',\n    // 3 - Mild-moderate pain\n    '#fec44f',\n    // 4 - Moderate pain\n    '#fe9929',\n    // 5 - Moderate-severe pain\n    '#ec7014',\n    // 6 - Severe pain\n    '#cc4c02',\n    // 7 - Very severe pain\n    '#b34703',\n    // 8 - Extremely severe pain\n    '#993404',\n    // 9 - Most severe pain\n    '#662506' // 10 - Maximum pain (darkest brown)\n    ];\n    return painColors[Math.min(level, 10)];\n  };\n  const painLegendItems = Array.from({\n    length: 11\n  }, (_, i) => i).map(level => ({\n    color: getPainColor(level),\n    label: `${level}`\n  }));\n  const {\n    start: startOfWeek,\n    end: endOfWeek\n  } = nav.getDateRange();\n\n  // For physician view, use 4 weeks (28 days) of data; for patient view, use 1 week (7 days)\n  const daysToShow = viewMode === 'physician' ? 28 : 7;\n  const startOfPeriod = new Date(startOfWeek);\n  const endOfPeriod = new Date(startOfWeek);\n  endOfPeriod.setDate(endOfPeriod.getDate() + (daysToShow - 1));\n  const weekPainData = painData.filter(d => d.date >= startOfPeriod && d.date <= endOfPeriod);\n\n  // Get 3-month data\n  const {\n    start: startOfThreeMonths,\n    end: endOfThreeMonths\n  } = nav.getThreeMonthRange();\n  const threeMonthPainData = painData.filter(d => d.date >= startOfThreeMonths && d.date <= endOfThreeMonths);\n\n  // Process data for chart\n  const {\n    chartData,\n    mostCommonLocation,\n    averagePainLevel\n  } = useMemo(() => {\n    if (!weekPainData.length) return {\n      chartData: [],\n      mostCommonLocation: null,\n      averagePainLevel: 0\n    };\n\n    // Create a map of dates to pain levels\n    const dateMap = new Map();\n    const locationCounts = new Map();\n    weekPainData.forEach(item => {\n      const dateKey = item.date.toDateString();\n      dateMap.set(dateKey, item.level);\n\n      // Count locations\n      const location = item.location.toLowerCase();\n      locationCounts.set(location, (locationCounts.get(location) || 0) + 1);\n    });\n\n    // Find most common location\n    let mostCommon = null;\n    let maxCount = 0;\n    for (const [location, count] of locationCounts) {\n      if (count > maxCount) {\n        maxCount = count;\n        mostCommon = location;\n      }\n    }\n\n    // Generate chart data for the specified number of days\n    const data = [];\n    for (let i = 0; i < daysToShow; i++) {\n      const date = new Date(startOfPeriod);\n      date.setDate(date.getDate() + i);\n      const dateKey = date.toDateString();\n      const painLevel = dateMap.get(dateKey) || 0;\n      data.push({\n        date,\n        day: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][date.getDay()],\n        level: painLevel,\n        color: getPainColor(painLevel)\n      });\n    }\n    const totalPain = weekPainData.reduce((sum, item) => sum + item.level, 0);\n    const avgPain = weekPainData.length > 0 ? totalPain / weekPainData.length : 0;\n    return {\n      chartData: data,\n      mostCommonLocation: mostCommon,\n      averagePainLevel: avgPain\n    };\n  }, [weekPainData, startOfPeriod, daysToShow]);\n\n  // Calculate 3-month summary statistics for physician view\n  const threeMonthSummary = useMemo(() => {\n    if (!threeMonthPainData.length) return null;\n\n    // Create a map of dates to pain levels for 3-month period\n    const dateMap = new Map();\n    const locationCounts = new Map();\n    threeMonthPainData.forEach(item => {\n      const dateKey = item.date.toDateString();\n      dateMap.set(dateKey, item.level);\n\n      // Count locations\n      const location = item.location.toLowerCase();\n      locationCounts.set(location, (locationCounts.get(location) || 0) + 1);\n    });\n\n    // Find most common location\n    let mostCommon = null;\n    let maxCount = 0;\n    for (const [location, count] of locationCounts) {\n      if (count > maxCount) {\n        maxCount = count;\n        mostCommon = location;\n      }\n    }\n    const totalPain = threeMonthPainData.reduce((sum, item) => sum + item.level, 0);\n    const avgPain = threeMonthPainData.length > 0 ? totalPain / threeMonthPainData.length : 0;\n\n    // Calculate actual days in the 3-month period\n    const {\n      start: startOfThreeMonths,\n      end: endOfThreeMonths\n    } = nav.getThreeMonthRange();\n    const daysInThreeMonths = Math.ceil((endOfThreeMonths - startOfThreeMonths) / (1000 * 60 * 60 * 24)) + 1;\n    const daysWithPain = new Set(threeMonthPainData.map(d => d.date.toDateString())).size;\n\n    // Calculate pain severity distribution\n    const painLevelCounts = {};\n    for (let i = 0; i <= 10; i++) {\n      painLevelCounts[i] = 0;\n    }\n    threeMonthPainData.forEach(item => {\n      painLevelCounts[item.level]++;\n    });\n\n    // Find most common pain level\n    const mostCommonPainLevel = Object.entries(painLevelCounts).sort(([, a], [, b]) => b - a)[0];\n    return {\n      totalEntries: threeMonthPainData.length,\n      daysWithPain,\n      daysInThreeMonths,\n      mostCommonLocation: mostCommon,\n      mostCommonLocationCount: maxCount,\n      averagePainLevel: avgPain,\n      mostCommonPainLevel: parseInt(mostCommonPainLevel[0]),\n      mostCommonPainLevelCount: mostCommonPainLevel[1]\n    };\n  }, [threeMonthPainData]);\n  const formatDateRange = (start, end) => {\n    const startStr = start.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n    const endStr = end.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n    return `${startStr} to ${endStr}`;\n  };\n\n  // Line Chart Component for Pain Ratings\n  const PainLineChart = ({\n    data,\n    isExpanded\n  }) => {\n    const config = {\n      width: isExpanded ? 600 : 400,\n      // Match legend width (600px) when expanded\n      height: isExpanded ? 200 : 150,\n      padding: {\n        top: 20,\n        right: 30,\n        bottom: 40,\n        left: 50\n      },\n      yAxisRange: 10,\n      fontSize: {\n        yAxis: isExpanded ? 10 : 8,\n        xAxis: isExpanded ? 10 : 8\n      }\n    };\n    const chartWidth = config.width - config.padding.left - config.padding.right;\n    const chartHeight = config.height - config.padding.top - config.padding.bottom;\n    const dayWidth = chartWidth / (data.length - 1); // Dynamic based on number of days\n\n    // Create line path\n    const linePath = data.map((point, index) => {\n      const x = config.padding.left + index * dayWidth;\n      const y = config.padding.top + chartHeight - point.level / config.yAxisRange * chartHeight;\n      return `${index === 0 ? 'M' : 'L'} ${x} ${y}`;\n    }).join(' ');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pain-line-chart\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        children: [[0, 2, 4, 6, 8, 10].map(level => {\n          const y = config.padding.top + chartHeight - level / config.yAxisRange * chartHeight;\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            children: [/*#__PURE__*/_jsxDEV(\"line\", {\n              x1: config.padding.left,\n              y1: y,\n              x2: config.width - config.padding.right,\n              y2: y,\n              stroke: \"#e0e0e0\",\n              strokeWidth: \"1\",\n              strokeDasharray: \"2,2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: config.padding.left - 10,\n              y: y + 3,\n              fontSize: config.fontSize.yAxis,\n              textAnchor: \"end\",\n              fill: \"var(--chart-color-text-secondary)\",\n              children: level\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this)]\n          }, level, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this);\n        }), data.map((point, index) => {\n          // For 7 days, show all days; for 28 days, show every 4th day\n          const interval = data.length <= 7 ? 1 : 4;\n          if (index % interval !== 0) return null;\n          const x = config.padding.left + index * dayWidth;\n          return /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x,\n            y: config.height - config.padding.bottom + 15,\n            fontSize: config.fontSize.xAxis,\n            textAnchor: \"middle\",\n            className: \"x-axis-day-label\",\n            children: point.day\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"path\", {\n          d: linePath,\n          stroke: \"var(--chart-color-primary)\",\n          strokeWidth: \"3\",\n          fill: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), data.map((point, index) => {\n          const x = config.padding.left + index * dayWidth;\n          const y = config.padding.top + chartHeight - point.level / config.yAxisRange * chartHeight;\n          return /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: x,\n            cy: y,\n            r: \"4\",\n            fill: point.color,\n            stroke: \"var(--chart-color-primary)\",\n            strokeWidth: \"2\"\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  };\n  const Body = ({\n    location,\n    level\n  }) => {\n    const color = getPainColor(level);\n    const locationLower = location.toLowerCase();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"body-views\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"body-view\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"body-view-label\",\n            children: \"Front\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BodySVG, {\n            className: \"body-svg\",\n            painLocation: locationLower,\n            painColor: color,\n            view: \"front\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"body-view\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"body-view-label\",\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BodySVG, {\n            className: \"body-svg\",\n            painLocation: locationLower,\n            painColor: color,\n            view: \"back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this);\n  };\n  if (viewMode === 'patient') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pain-chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pain-chart-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"chart-title\",\n          children: \"Pain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chart-subtitle\",\n          children: nav.getCurrentMonthYear()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pain-content-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pain-list\",\n          children: weekPainData.length > 0 ? weekPainData.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pain-list-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pain-item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pain-item-date\",\n                children: new Date(item.date).toLocaleDateString('en-US', {\n                  weekday: 'short',\n                  month: 'short',\n                  day: 'numeric'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pain-item-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pain-level\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Pain Level:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 25\n                  }, this), \" \", item.level, \"/10\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pain-location\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Location:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this), \" \", item.location]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pain-item-body\",\n              children: /*#__PURE__*/_jsxDEV(Body, {\n                location: item.location,\n                level: item.level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-pain-data\",\n            children: \"No pain data available for this week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pain-legend-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(Legend, {\n            title: \"Pain Intensity Scale (0-10)\",\n            items: painLegendItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Physician view\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"physician-pain-chart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pain-line-chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"chart-title\",\n        children: \"Pain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"chart-subtitle\",\n        children: nav.getCurrentMonthYear()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PainLineChart, {\n        data: chartData,\n        isExpanded: isExpanded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pain-location-info\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Pain Location: \", mostCommonLocation || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pain-legend-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Legend, {\n        title: \"Pain Intensity Scale (0-10)\",\n        items: painLegendItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Week Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Average Pain Intensity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [averagePainLevel.toFixed(1), \"/10\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Most Common Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: mostCommonLocation || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Days with Pain:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekPainData.length, \"/7\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this), threeMonthSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"3-Month Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Average Pain Intensity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.averagePainLevel.toFixed(1), \"/10\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Most Common Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.mostCommonLocation || 'N/A', \" (\", threeMonthSummary.mostCommonLocationCount, \"x)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Days with Pain:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [threeMonthSummary.daysWithPain, \"/\", threeMonthSummary.daysInThreeMonths]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 7\n  }, this);\n};\n_s(PainChart, \"3ya5N8I4jitwWKYF60Ub2L29ygE=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c = PainChart;\nexport default PainChart;\nvar _c;\n$RefreshReg$(_c, \"PainChart\");","map":{"version":3,"names":["React","useState","useMemo","useRef","usePatientData","useChartNavigation","Legend","BodySVG","jsxDEV","_jsxDEV","PainChart","patientId","isExpanded","onExpand","viewMode","navigation","_s","painData","isLoading","loading","error","useInternalNavigation","internalNavigation","nav","getPainColor","level","painColors","Math","min","painLegendItems","Array","from","length","_","i","map","color","label","start","startOfWeek","end","endOfWeek","getDateRange","daysToShow","startOfPeriod","Date","endOfPeriod","setDate","getDate","weekPainData","filter","d","date","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthPainData","chartData","mostCommonLocation","averagePainLevel","dateMap","Map","locationCounts","forEach","item","dateKey","toDateString","set","location","toLowerCase","get","mostCommon","maxCount","count","data","painLevel","push","day","getDay","totalPain","reduce","sum","avgPain","threeMonthSummary","daysInThreeMonths","ceil","daysWithPain","Set","size","painLevelCounts","mostCommonPainLevel","Object","entries","sort","a","b","totalEntries","mostCommonLocationCount","parseInt","mostCommonPainLevelCount","formatDateRange","startStr","toLocaleDateString","month","endStr","PainLineChart","config","width","height","padding","top","right","bottom","left","yAxisRange","fontSize","yAxis","xAxis","chartWidth","chartHeight","dayWidth","linePath","point","index","x","y","join","className","children","viewBox","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","fileName","_jsxFileName","lineNumber","columnNumber","textAnchor","fill","interval","cx","cy","r","Body","locationLower","painLocation","painColor","view","getCurrentMonthYear","weekday","title","items","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/components/patient_charts/PainChart.js"],"sourcesContent":["/**\r\n PainChart.js - Pain Assessment and Visualization Component\r\n \r\n This component provides comprehensive pain monitoring:\r\n - Anatomical body mapping for pain location\r\n - Pain intensity scale (0-10) with color coding\r\n - Daily pain tracking and trend analysis\r\n - Interactive body diagram for pain location selection\r\n - Pain level input and editing capabilities\r\n - Navigation controls for time periods\r\n \r\n Critical for pain management and treatment monitoring.\r\n */\r\n\r\nimport React, { useState, useMemo, useRef } from 'react';\r\nimport usePatientData from '../../hooks/usePatientData';\r\nimport useChartNavigation from '../../hooks/useChartNavigation';\r\n\r\nimport Legend from '../Legend';\r\n\r\nimport BodySVG from './BodySvg';\r\n\r\nconst PainChart = ({ patientId, isExpanded = false, onExpand, viewMode = 'patient', navigation }) => {\r\n  const { painData, isLoading: loading, error } = usePatientData(patientId, 'pain');\r\n  \r\n  // Use navigation from parent or fallback to internal navigation\r\n  const useInternalNavigation = !navigation;\r\n  const internalNavigation = useChartNavigation('pain');\r\n  const nav = navigation || internalNavigation;\r\n\r\n  const getPainColor = (level) => {\r\n    // 11-class color scheme from light to dark\r\n    const painColors = [\r\n      '#ffffe5', // 0 - No pain (lightest cream)\r\n      '#fff7bc', // 1 - Very mild pain\r\n      '#f7f7b3', // 2 - Mild pain\r\n      '#fee391', // 3 - Mild-moderate pain\r\n      '#fec44f', // 4 - Moderate pain\r\n      '#fe9929', // 5 - Moderate-severe pain\r\n      '#ec7014', // 6 - Severe pain\r\n      '#cc4c02', // 7 - Very severe pain\r\n      '#b34703', // 8 - Extremely severe pain\r\n      '#993404', // 9 - Most severe pain\r\n      '#662506'  // 10 - Maximum pain (darkest brown)\r\n    ];\r\n    \r\n    return painColors[Math.min(level, 10)];\r\n  };\r\n\r\n  const painLegendItems = Array.from({ length: 11 }, (_, i) => i).map(level => ({\r\n    color: getPainColor(level),\r\n    label: `${level}`,\r\n  }));\r\n\r\n  const { start: startOfWeek, end: endOfWeek } = nav.getDateRange();\r\n\r\n  // For physician view, use 4 weeks (28 days) of data; for patient view, use 1 week (7 days)\r\n  const daysToShow = viewMode === 'physician' ? 28 : 7;\r\n  const startOfPeriod = new Date(startOfWeek);\r\n  const endOfPeriod = new Date(startOfWeek);\r\n  endOfPeriod.setDate(endOfPeriod.getDate() + (daysToShow - 1));\r\n  \r\n  const weekPainData = painData.filter(d => d.date >= startOfPeriod && d.date <= endOfPeriod);\r\n\r\n  // Get 3-month data\r\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\r\n  const threeMonthPainData = painData.filter(d => d.date >= startOfThreeMonths && d.date <= endOfThreeMonths);\r\n\r\n  // Process data for chart\r\n  const { chartData, mostCommonLocation, averagePainLevel } = useMemo(() => {\r\n    if (!weekPainData.length) return { chartData: [], mostCommonLocation: null, averagePainLevel: 0 };\r\n\r\n    // Create a map of dates to pain levels\r\n    const dateMap = new Map();\r\n    const locationCounts = new Map();\r\n\r\n    weekPainData.forEach(item => {\r\n      const dateKey = item.date.toDateString();\r\n      dateMap.set(dateKey, item.level);\r\n      \r\n      // Count locations\r\n      const location = item.location.toLowerCase();\r\n      locationCounts.set(location, (locationCounts.get(location) || 0) + 1);\r\n    });\r\n\r\n    // Find most common location\r\n    let mostCommon = null;\r\n    let maxCount = 0;\r\n    for (const [location, count] of locationCounts) {\r\n      if (count > maxCount) {\r\n        maxCount = count;\r\n        mostCommon = location;\r\n      }\r\n    }\r\n\r\n    // Generate chart data for the specified number of days\r\n    const data = [];\r\n    for (let i = 0; i < daysToShow; i++) {\r\n      const date = new Date(startOfPeriod);\r\n      date.setDate(date.getDate() + i);\r\n      const dateKey = date.toDateString();\r\n      const painLevel = dateMap.get(dateKey) || 0;\r\n      \r\n      data.push({\r\n        date,\r\n        day: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][date.getDay()],\r\n        level: painLevel,\r\n        color: getPainColor(painLevel)\r\n      });\r\n    }\r\n\r\n    const totalPain = weekPainData.reduce((sum, item) => sum + item.level, 0);\r\n    const avgPain = weekPainData.length > 0 ? (totalPain / weekPainData.length) : 0;\r\n\r\n    return {\r\n      chartData: data,\r\n      mostCommonLocation: mostCommon,\r\n      averagePainLevel: avgPain\r\n    };\r\n  }, [weekPainData, startOfPeriod, daysToShow]);\r\n\r\n  // Calculate 3-month summary statistics for physician view\r\n  const threeMonthSummary = useMemo(() => {\r\n    if (!threeMonthPainData.length) return null;\r\n\r\n    // Create a map of dates to pain levels for 3-month period\r\n    const dateMap = new Map();\r\n    const locationCounts = new Map();\r\n\r\n    threeMonthPainData.forEach(item => {\r\n      const dateKey = item.date.toDateString();\r\n      dateMap.set(dateKey, item.level);\r\n      \r\n      // Count locations\r\n      const location = item.location.toLowerCase();\r\n      locationCounts.set(location, (locationCounts.get(location) || 0) + 1);\r\n    });\r\n\r\n    // Find most common location\r\n    let mostCommon = null;\r\n    let maxCount = 0;\r\n    for (const [location, count] of locationCounts) {\r\n      if (count > maxCount) {\r\n        maxCount = count;\r\n        mostCommon = location;\r\n      }\r\n    }\r\n\r\n    const totalPain = threeMonthPainData.reduce((sum, item) => sum + item.level, 0);\r\n    const avgPain = threeMonthPainData.length > 0 ? (totalPain / threeMonthPainData.length) : 0;\r\n\r\n    // Calculate actual days in the 3-month period\r\n    const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\r\n    const daysInThreeMonths = Math.ceil((endOfThreeMonths - startOfThreeMonths) / (1000 * 60 * 60 * 24)) + 1;\r\n    const daysWithPain = new Set(threeMonthPainData.map(d => d.date.toDateString())).size;\r\n\r\n    // Calculate pain severity distribution\r\n    const painLevelCounts = {};\r\n    for (let i = 0; i <= 10; i++) {\r\n      painLevelCounts[i] = 0;\r\n    }\r\n    threeMonthPainData.forEach(item => {\r\n      painLevelCounts[item.level]++;\r\n    });\r\n\r\n    // Find most common pain level\r\n    const mostCommonPainLevel = Object.entries(painLevelCounts)\r\n      .sort(([,a], [,b]) => b - a)[0];\r\n\r\n    return {\r\n      totalEntries: threeMonthPainData.length,\r\n      daysWithPain,\r\n      daysInThreeMonths,\r\n      mostCommonLocation: mostCommon,\r\n      mostCommonLocationCount: maxCount,\r\n      averagePainLevel: avgPain,\r\n      mostCommonPainLevel: parseInt(mostCommonPainLevel[0]),\r\n      mostCommonPainLevelCount: mostCommonPainLevel[1]\r\n    };\r\n  }, [threeMonthPainData]);\r\n\r\n  const formatDateRange = (start, end) => {\r\n    const startStr = start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    const endStr = end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    return `${startStr} to ${endStr}`;\r\n  };\r\n\r\n  // Line Chart Component for Pain Ratings\r\n  const PainLineChart = ({ data, isExpanded }) => {\r\n    const config = {\r\n      width: isExpanded ? 600 : 400, // Match legend width (600px) when expanded\r\n      height: isExpanded ? 200 : 150,\r\n      padding: { top: 20, right: 30, bottom: 40, left: 50 },\r\n      yAxisRange: 10,\r\n      fontSize: {\r\n        yAxis: isExpanded ? 10 : 8,\r\n        xAxis: isExpanded ? 10 : 8,\r\n      }\r\n    };\r\n\r\n    const chartWidth = config.width - config.padding.left - config.padding.right;\r\n    const chartHeight = config.height - config.padding.top - config.padding.bottom;\r\n    const dayWidth = chartWidth / (data.length - 1); // Dynamic based on number of days\r\n\r\n    // Create line path\r\n    const linePath = data.map((point, index) => {\r\n      const x = config.padding.left + (index * dayWidth);\r\n      const y = config.padding.top + chartHeight - (point.level / config.yAxisRange) * chartHeight;\r\n      return `${index === 0 ? 'M' : 'L'} ${x} ${y}`;\r\n    }).join(' ');\r\n\r\n    return (\r\n      <div className=\"pain-line-chart\">\r\n        <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${config.width} ${config.height}`}>\r\n          {/* Grid lines */}\r\n          {[0, 2, 4, 6, 8, 10].map(level => {\r\n            const y = config.padding.top + chartHeight - (level / config.yAxisRange) * chartHeight;\r\n            return (\r\n              <g key={level}>\r\n                <line \r\n                  x1={config.padding.left} \r\n                  y1={y} \r\n                  x2={config.width - config.padding.right} \r\n                  y2={y} \r\n                  stroke=\"#e0e0e0\" \r\n                  strokeWidth=\"1\" \r\n                  strokeDasharray=\"2,2\"\r\n                />\r\n                <text \r\n                  x={config.padding.left - 10} \r\n                  y={y + 3} \r\n                  fontSize={config.fontSize.yAxis} \r\n                  textAnchor=\"end\" \r\n                  fill=\"var(--chart-color-text-secondary)\"\r\n                >\r\n                  {level}\r\n                </text>\r\n              </g>\r\n            );\r\n          })}\r\n\r\n          {/* X-axis labels - show appropriate intervals based on number of days */}\r\n          {data.map((point, index) => {\r\n            // For 7 days, show all days; for 28 days, show every 4th day\r\n            const interval = data.length <= 7 ? 1 : 4;\r\n            if (index % interval !== 0) return null;\r\n            const x = config.padding.left + (index * dayWidth);\r\n            return (\r\n              <text \r\n                key={index}\r\n                x={x} \r\n                y={config.height - config.padding.bottom + 15} \r\n                fontSize={config.fontSize.xAxis} \r\n                textAnchor=\"middle\" \r\n                className=\"x-axis-day-label\"\r\n              >\r\n                {point.day}\r\n              </text>\r\n            );\r\n          })}\r\n\r\n          {/* Line */}\r\n          <path \r\n            d={linePath} \r\n            stroke=\"var(--chart-color-primary)\" \r\n            strokeWidth=\"3\" \r\n            fill=\"none\"\r\n          />\r\n\r\n          {/* Data points */}\r\n          {data.map((point, index) => {\r\n            const x = config.padding.left + (index * dayWidth);\r\n            const y = config.padding.top + chartHeight - (point.level / config.yAxisRange) * chartHeight;\r\n            return (\r\n              <circle \r\n                key={index}\r\n                cx={x} \r\n                cy={y} \r\n                r=\"4\" \r\n                fill={point.color} \r\n                stroke=\"var(--chart-color-primary)\" \r\n                strokeWidth=\"2\"\r\n              />\r\n            );\r\n          })}\r\n        </svg>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Body = ({ location, level }) => {\r\n    const color = getPainColor(level);\r\n    const locationLower = location.toLowerCase();\r\n\r\n    return (\r\n      <div className=\"body-container\">\r\n        <div className=\"body-views\">\r\n          <div className=\"body-view\">\r\n            <div className=\"body-view-label\">Front</div>\r\n            <BodySVG \r\n              className=\"body-svg\" \r\n              painLocation={locationLower} \r\n              painColor={color} \r\n              view=\"front\" \r\n            />\r\n          </div>\r\n          <div className=\"body-view\">\r\n            <div className=\"body-view-label\">Back</div>\r\n            <BodySVG \r\n              className=\"body-svg\" \r\n              painLocation={locationLower} \r\n              painColor={color} \r\n              view=\"back\" \r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (viewMode === 'patient') {\r\n    return (\r\n      <div className=\"pain-chart-container\">\r\n        <div className=\"pain-chart-header\">\r\n          <h3 className=\"chart-title\">Pain</h3>\r\n          <h4 className=\"chart-subtitle\">{nav.getCurrentMonthYear()}</h4>\r\n        </div>\r\n        \r\n        <div className=\"pain-content-wrapper\">\r\n          <div className=\"pain-list\">\r\n            {weekPainData.length > 0 ? (\r\n              weekPainData.map((item, index) => (\r\n                <div key={index} className=\"pain-list-item\">\r\n                  <div className=\"pain-item-info\">\r\n                    <div className=\"pain-item-date\">\r\n                      {new Date(item.date).toLocaleDateString('en-US', { \r\n                        weekday: 'short', \r\n                        month: 'short', \r\n                        day: 'numeric' \r\n                      })}\r\n                    </div>\r\n                    <div className=\"pain-item-details\">\r\n                      <div className=\"pain-level\">\r\n                        <strong>Pain Level:</strong> {item.level}/10\r\n                      </div>\r\n                      <div className=\"pain-location\">\r\n                        <strong>Location:</strong> {item.location}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"pain-item-body\">\r\n                    <Body location={item.location} level={item.level} />\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"no-pain-data\">No pain data available for this week</div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"pain-legend-wrapper\">\r\n            <Legend title=\"Pain Intensity Scale (0-10)\" items={painLegendItems} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Physician view\r\n  return (\r\n      <div className=\"physician-pain-chart-container\">\r\n        <div className=\"pain-line-chart-container\">\r\n          <h3 className=\"chart-title\">Pain</h3>\r\n          <h4 className=\"chart-subtitle\">{nav.getCurrentMonthYear()}</h4>\r\n          <PainLineChart data={chartData} isExpanded={isExpanded} />\r\n        </div>\r\n\r\n        <div className=\"pain-location-info\">\r\n          <h4>Pain Location: {mostCommonLocation || 'N/A'}</h4>\r\n        </div>\r\n        \r\n        <div className=\"pain-legend-wrapper\">\r\n          <Legend title=\"Pain Intensity Scale (0-10)\" items={painLegendItems} />\r\n        </div>\r\n\r\n        <div className=\"summary-container\">\r\n          <div className=\"chart-summary\">\r\n            <h4>Week Summary</h4>\r\n            <div className=\"summary-stats\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Average Pain Intensity:</span>\r\n                <span className=\"stat-value\">{averagePainLevel.toFixed(1)}/10</span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Most Common Location:</span>\r\n                <span className=\"stat-value\">{mostCommonLocation || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Days with Pain:</span>\r\n                <span className=\"stat-value\">{weekPainData.length}/7</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {threeMonthSummary && (\r\n            <div className=\"chart-summary\">\r\n              <h4>3-Month Summary</h4>\r\n              <div className=\"summary-stats\">\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Average Pain Intensity:</span>\r\n                  <span className=\"stat-value\">{threeMonthSummary.averagePainLevel.toFixed(1)}/10</span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Most Common Location:</span>\r\n                  <span className=\"stat-value\">\r\n                    {threeMonthSummary.mostCommonLocation || 'N/A'} ({threeMonthSummary.mostCommonLocationCount}x)\r\n                  </span>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-label\">Days with Pain:</span>\r\n                  <span className=\"stat-value\">\r\n                    {threeMonthSummary.daysWithPain}/{threeMonthSummary.daysInThreeMonths}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default PainChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}