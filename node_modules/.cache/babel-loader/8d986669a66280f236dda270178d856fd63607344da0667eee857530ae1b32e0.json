{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local Experimental\\\\PGHD_Visualization_Dashboard\\\\src\\\\components\\\\patient_charts\\\\GlucoseChart.js\",\n  _s = $RefreshSig$();\n/*\n GlucoseChart.js - Blood Glucose Monitoring Visualization\n \n This component provides blood glucose tracking with time-based glucose readings that include meal context for pre and post meal readings. It uses range-based color coding to indicate whether readings are below, in, or above target range. It provides daily and weekly trend visualization with interactive tooltips that show detailed glucose information. It includes navigation controls for time periods and integrates with patient data and chart navigation. This component is used for diabetes management and glucose trend analysis.\n */\n\nimport React, { useState, useRef } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport SharedYAxis from '../chart-utils/SharedYAxis';\nimport './GlucoseChart.css';\n\n// --- Constants ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DAYS_OF_WEEK = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst RANGE_COLORS = {\n  'below range': 'var(--chart-color-secondary)',\n  // Purple\n  'in range': 'var(--chart-color-good)',\n  // Green\n  'above range': 'var(--chart-color-blue)' // Orange (despite the name, this is actually orange)\n};\n\n// --- Helper Functions ---\nconst getPointColor = range => RANGE_COLORS[range.toLowerCase()] || RANGE_COLORS['in range'];\nconst isPreMeal = measurementType => measurementType === 'Pre meal';\nconst getTimePosition = (date, dayIndex, config) => {\n  const timeInHours = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = timeInHours / 24;\n  const dayStart = config.padding.left + dayIndex * config.dayWidth;\n  return dayStart + timeRatio * (config.dayWidth - 10) + 5;\n};\n\n// --- Chart Sub-components ---\nconst XAxisAndGrid = ({\n  config,\n  startOfWeek\n}) => /*#__PURE__*/_jsxDEV(\"g\", {\n  className: \"x-axis-grid\",\n  children: [DAYS_OF_WEEK.map((day, i) => {\n    const x = config.padding.left + i * config.dayWidth;\n    const currentDay = new Date(startOfWeek);\n    currentDay.setDate(startOfWeek.getDate() + i);\n\n    // Tick positions\n    const startTickX = x;\n    const middleTickX = x + config.dayWidth / 2;\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"chart-grid-line-vertical\",\n        x1: x,\n        y1: config.padding.top,\n        x2: x,\n        y2: config.height - config.padding.bottom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: startTickX,\n        y1: config.height - config.padding.bottom,\n        x2: startTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        className: \"x-axis-tick\",\n        x1: middleTickX,\n        y1: config.height - config.padding.bottom,\n        x2: middleTickX,\n        y2: config.height - config.padding.bottom + 5,\n        stroke: \"var(--chart-color-neutral)\",\n        strokeWidth: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: startTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.timeLabel,\n        style: {\n          fontSize: '8px'\n        },\n        children: \"12a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"time-label\",\n        x: middleTickX,\n        y: config.height - config.padding.bottom + 15,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.timeLabel,\n        style: {\n          fontSize: '8px'\n        },\n        children: \"12p\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"x-axis-day-label\",\n        x: x + config.dayWidth / 2,\n        y: config.height - config.padding.bottom + 40,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.dayLabel,\n        style: {\n          fontSize: '8px'\n        },\n        children: day\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"x-axis-date-label\",\n        x: x + config.dayWidth / 2,\n        y: config.height - config.padding.bottom + 58,\n        textAnchor: \"middle\",\n        fontSize: config.fontSize.dateLabel,\n        style: {\n          fontSize: '8px'\n        },\n        children: currentDay.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this);\n  }), /*#__PURE__*/_jsxDEV(\"line\", {\n    className: \"x-axis-tick\",\n    x1: config.padding.left + DAYS_OF_WEEK.length * config.dayWidth,\n    y1: config.height - config.padding.bottom,\n    x2: config.padding.left + DAYS_OF_WEEK.length * config.dayWidth,\n    y2: config.height - config.padding.bottom + 5,\n    stroke: \"#666\",\n    strokeWidth: \"1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n    className: \"time-label\",\n    x: config.padding.left + DAYS_OF_WEEK.length * config.dayWidth,\n    y: config.height - config.padding.bottom + 15,\n    textAnchor: \"middle\",\n    fontSize: config.fontSize.timeLabel,\n    style: {\n      fontSize: '8px'\n    },\n    children: \"12a\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 36,\n  columnNumber: 3\n}, this);\n_c = XAxisAndGrid;\nconst DataPoints = ({\n  weekData,\n  config,\n  onBarHover,\n  onBarLeave\n}) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"data-points\",\n    children: weekData.map((reading, index) => {\n      const dayIndex = reading.date.getDay();\n      const x = getTimePosition(reading.date, dayIndex, config);\n      const y = config.padding.top + chartHeight - reading.value / config.yAxisRange * chartHeight;\n      const color = getPointColor(reading.range);\n      const isPre = isPreMeal(reading.measurementType);\n      const handleMouseEnter = event => {\n        const tooltipData = {\n          value: reading.value,\n          unit: 'mmol/L',\n          range: reading.range,\n          measurementType: reading.measurementType,\n          time: reading.date.toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n          }),\n          date: reading.date.toLocaleDateString('en-US', {\n            weekday: 'short',\n            month: 'short',\n            day: 'numeric'\n          }),\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          }\n        };\n        onBarHover(tooltipData);\n      };\n      const handleMouseLeave = () => {\n        onBarLeave();\n      };\n      return /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: x - config.barWidth / 2,\n        y: y,\n        width: config.barWidth,\n        height: reading.value / config.yAxisRange * chartHeight,\n        fill: isPre ? 'none' : color,\n        stroke: color,\n        strokeWidth: isPre ? 2 : 1,\n        style: {\n          cursor: 'pointer'\n        },\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_c2 = DataPoints;\nconst Chart = ({\n  weekData,\n  isExpanded,\n  startOfWeek,\n  onBarHover,\n  onBarLeave,\n  monthLabel\n}) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded ? {\n    width: 700,\n    height: 550,\n    padding: {\n      top: 80,\n      right: 60,\n      bottom: 100,\n      left: 80\n    },\n    dayWidth: 80,\n    fontSize: {\n      yAxis: 16,\n      yAxisTitle: 18,\n      timeLabel: 14,\n      dayLabel: 14,\n      dateLabel: 14\n    },\n    barWidth: 12,\n    yAxisLabels: [0, 4, 8, 12],\n    yAxisRange: 12\n  } : {\n    width: 450,\n    height: 350,\n    padding: {\n      top: 60,\n      right: 40,\n      bottom: 80,\n      left: 60\n    },\n    dayWidth: 50,\n    fontSize: {\n      yAxis: 14,\n      yAxisTitle: 16,\n      timeLabel: 12,\n      dayLabel: 12,\n      dateLabel: 12\n    },\n    barWidth: 8,\n    yAxisLabels: [0, 4, 8, 12],\n    yAxisRange: 12\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"glucose-svg-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"chart-title\",\n      children: \"Blood Glucose\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), monthLabel && /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-subtitle\",\n      children: monthLabel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"100%\",\n      height: \"100%\",\n      viewBox: `0 0 ${config.width} ${config.height}`,\n      className: \"glucose-svg\",\n      children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n        width: config.width,\n        height: config.height,\n        fill: \"white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(XAxisAndGrid, {\n        config: config,\n        startOfWeek: startOfWeek\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SharedYAxis, {\n        config: config,\n        title: \"mmol/L\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DataPoints, {\n        weekData: weekData,\n        config: config,\n        onBarHover: onBarHover,\n        onBarLeave: onBarLeave\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main Component ---\n_c3 = Chart;\nconst GlucoseChart = ({\n  patientId,\n  isExpanded = false,\n  onExpand,\n  accessType = 'Admin',\n  navigation,\n  screenshotMode = false,\n  showThreeMonthSummaries = false\n}) => {\n  _s();\n  const healthRangeLegendItems = [{\n    label: 'Above range',\n    color: RANGE_COLORS['above range']\n  }, {\n    label: 'In range',\n    color: RANGE_COLORS['in range']\n  }, {\n    label: 'Below range',\n    color: RANGE_COLORS['below range']\n  }];\n  const mealTimeLegendItems = [{\n    label: 'Pre-meal',\n    shape: 'outlined',\n    shapeStyle: {\n      borderColor: 'var(--chart-color-text-secondary)'\n    },\n    description: 'Blood glucose measurements taken before meals'\n  }, {\n    label: 'Post-meal',\n    shape: 'filled',\n    shapeStyle: {\n      backgroundColor: 'var(--chart-color-text-secondary)'\n    },\n    description: 'Blood glucose measurements taken after meals'\n  }];\n  const {\n    glucoseData,\n    loading,\n    error\n  } = usePatientData(patientId);\n  const [tooltipData, setTooltipData] = useState(null);\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('glucose');\n  const nav = navigation || internalNavigation;\n  const {\n    start: startOfWeek,\n    end: endOfWeek\n  } = nav.getDateRange();\n  const weekData = glucoseData.filter(d => d.date >= startOfWeek && d.date <= endOfWeek);\n\n  // Get 3-month data\n  const {\n    start: startOfThreeMonths,\n    end: endOfThreeMonths\n  } = nav.getThreeMonthRange();\n  const threeMonthData = glucoseData.filter(d => d.date >= startOfThreeMonths && d.date <= endOfThreeMonths);\n\n  // Helper function to calculate glucose summary statistics\n  // This function calculates averages, range percentages, and reading counts for any data period\n  function calculateGlucoseSummary(data) {\n    if (!data || data.length === 0) {\n      return null;\n    }\n\n    // Filter to get only valid readings (value > 0)\n    const readings = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].value && data[i].value > 0) {\n        readings.push(data[i]);\n      }\n    }\n    if (readings.length === 0) {\n      return null;\n    }\n\n    // Separate readings by meal timing (pre-meal vs post-meal)\n    const preMealReadings = [];\n    const postMealReadings = [];\n    for (let i = 0; i < readings.length; i++) {\n      if (readings[i].measurementType === 'Pre meal') {\n        preMealReadings.push(readings[i]);\n      } else if (readings[i].measurementType === 'Post meal') {\n        postMealReadings.push(readings[i]);\n      }\n    }\n\n    // Calculate average glucose: sum all values, divide by count, round to 1 decimal\n    let sum = 0;\n    for (let i = 0; i < readings.length; i++) {\n      sum = sum + readings[i].value;\n    }\n    const avgGlucose = (sum / readings.length).toFixed(1);\n\n    // Find maximum glucose value (peak glucose)\n    let maxGlucose = 0;\n    for (let i = 0; i < readings.length; i++) {\n      if (readings[i].value > maxGlucose) {\n        maxGlucose = readings[i].value;\n      }\n    }\n    const peakGlucose = maxGlucose.toFixed(1);\n\n    // Calculate average for pre-meal readings only\n    let preMealSum = 0;\n    for (let i = 0; i < preMealReadings.length; i++) {\n      preMealSum = preMealSum + preMealReadings[i].value;\n    }\n    const avgPreMeal = preMealReadings.length > 0 ? (preMealSum / preMealReadings.length).toFixed(1) : 0;\n\n    // Calculate average for post-meal readings only\n    let postMealSum = 0;\n    for (let i = 0; i < postMealReadings.length; i++) {\n      postMealSum = postMealSum + postMealReadings[i].value;\n    }\n    const avgPostMeal = postMealReadings.length > 0 ? (postMealSum / postMealReadings.length).toFixed(1) : 0;\n\n    // Count readings in each range category\n    let highReadings = 0;\n    let lowReadings = 0;\n    let inRangeReadings = 0;\n    for (let i = 0; i < readings.length; i++) {\n      const range = readings[i].range.toLowerCase();\n      if (range === 'above range') {\n        highReadings = highReadings + 1;\n      } else if (range === 'below range') {\n        lowReadings = lowReadings + 1;\n      } else if (range === 'in range') {\n        inRangeReadings = inRangeReadings + 1;\n      }\n    }\n\n    // Calculate what percentage of readings were in the target range\n    const rangePercentage = readings.length > 0 ? (inRangeReadings / readings.length * 100).toFixed(0) : 0;\n\n    // Count unique days that had readings\n    const daysSet = new Set();\n    for (let i = 0; i < data.length; i++) {\n      const dateString = data[i].date.toDateString();\n      daysSet.add(dateString);\n    }\n    const daysWithReadings = daysSet.size;\n    return {\n      avgGlucose,\n      peakGlucose,\n      avgPreMeal,\n      avgPostMeal,\n      highReadings,\n      lowReadings,\n      inRangeReadings,\n      rangePercentage,\n      daysWithReadings,\n      totalReadings: readings.length\n    };\n  }\n\n  // Calculate summary statistics for week period\n  const weekSummary = calculateGlucoseSummary(weekData);\n\n  // Calculate 3-month summary using the same helper function\n  const threeMonthSummary = calculateGlucoseSummary(threeMonthData);\n  const handleBarHover = data => {\n    setTooltipData(data);\n  };\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glucose-chart-container\",\n      ref: containerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `glucose-chart-wrapper ${isExpanded ? 'expanded' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(Chart, {\n          weekData: weekData,\n          isExpanded: isExpanded,\n          startOfWeek: startOfWeek,\n          onBarHover: handleBarHover,\n          onBarLeave: handleBarLeave,\n          monthLabel: nav.getFormattedDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glucose-legends-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Legend, {\n          title: \"Blood Glucose Range\",\n          items: healthRangeLegendItems,\n          hide: screenshotMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {\n          title: \"Prandial State\",\n          items: mealTimeLegendItems,\n          hide: screenshotMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), weekSummary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n          title: \"Blood Glucose Information\",\n          content: \"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range (Diabetes Canada).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Week Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average Blood Glucose:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.avgGlucose, \" mmol/L\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak Blood Glucose:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.peakGlucose, \" mmol/L\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Reading Days:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [weekSummary.daysWithReadings, \"/7 days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings in Range:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: weekSummary.inRangeReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: weekSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), showThreeMonthSummaries && threeMonthSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"3-Month Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Average Glucose:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.avgGlucose, \" mmol/L\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Peak Glucose:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.peakGlucose, \" mmol/L\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Reading Days:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [threeMonthSummary.daysWithReadings, \" days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings in Range:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: threeMonthSummary.inRangeReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Total Readings:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: threeMonthSummary.totalReadings\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : accessType !== 'Physician' && /*#__PURE__*/_jsxDEV(InfoBox, {\n        title: \"Blood Glucose Information\",\n        content: \"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      isVisible: !!tooltipData,\n      content: tooltipData && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-title\",\n          children: \"Blood Glucose\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-value\",\n          children: [tooltipData.value, \" \", tooltipData.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tooltip-range ${tooltipData.range.toLowerCase().replace(' ', '-')}`,\n          children: tooltipData.range\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-time\",\n          children: [tooltipData.measurementType, \" - \", tooltipData.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tooltip-date\",\n          children: tooltipData.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 11\n      }, this),\n      position: tooltipData ? tooltipData.position : {\n        x: 0,\n        y: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(GlucoseChart, \"Hjlb4TRDQ8DkSPNTOs4pohvLaew=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c4 = GlucoseChart;\nexport default GlucoseChart;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"XAxisAndGrid\");\n$RefreshReg$(_c2, \"DataPoints\");\n$RefreshReg$(_c3, \"Chart\");\n$RefreshReg$(_c4, \"GlucoseChart\");","map":{"version":3,"names":["React","useState","useRef","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","SharedYAxis","jsxDEV","_jsxDEV","Fragment","_Fragment","DAYS_OF_WEEK","RANGE_COLORS","getPointColor","range","toLowerCase","isPreMeal","measurementType","getTimePosition","date","dayIndex","config","timeInHours","getHours","getMinutes","timeRatio","dayStart","padding","left","dayWidth","XAxisAndGrid","startOfWeek","className","children","map","day","i","x","currentDay","Date","setDate","getDate","startTickX","middleTickX","x1","y1","top","x2","y2","height","bottom","fileName","_jsxFileName","lineNumber","columnNumber","stroke","strokeWidth","y","textAnchor","fontSize","timeLabel","style","dayLabel","dateLabel","length","_c","DataPoints","weekData","onBarHover","onBarLeave","chartHeight","reading","index","getDay","value","yAxisRange","color","isPre","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","hour","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","width","fill","cursor","onMouseEnter","onMouseLeave","_c2","Chart","isExpanded","monthLabel","right","yAxis","yAxisTitle","yAxisLabels","viewBox","title","_c3","GlucoseChart","patientId","onExpand","accessType","navigation","screenshotMode","showThreeMonthSummaries","_s","healthRangeLegendItems","label","mealTimeLegendItems","shape","shapeStyle","borderColor","description","backgroundColor","glucoseData","loading","error","setTooltipData","containerRef","internalNavigation","nav","start","end","endOfWeek","getDateRange","filter","d","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","calculateGlucoseSummary","data","readings","push","preMealReadings","postMealReadings","sum","avgGlucose","toFixed","maxGlucose","peakGlucose","preMealSum","avgPreMeal","postMealSum","avgPostMeal","highReadings","lowReadings","inRangeReadings","rangePercentage","daysSet","Set","dateString","toDateString","add","daysWithReadings","size","totalReadings","weekSummary","threeMonthSummary","handleBarHover","handleBarLeave","ref","getFormattedDateRange","items","hide","content","isVisible","replace","_c4","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/GlucoseChart.js"],"sourcesContent":["/*\n GlucoseChart.js - Blood Glucose Monitoring Visualization\n \n This component provides blood glucose tracking with time-based glucose readings that include meal context for pre and post meal readings. It uses range-based color coding to indicate whether readings are below, in, or above target range. It provides daily and weekly trend visualization with interactive tooltips that show detailed glucose information. It includes navigation controls for time periods and integrates with patient data and chart navigation. This component is used for diabetes management and glucose trend analysis.\n */\n\nimport React, { useState, useRef } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport SharedYAxis from '../chart-utils/SharedYAxis';\nimport './GlucoseChart.css';\n\n// --- Constants ---\nconst DAYS_OF_WEEK = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst RANGE_COLORS = {\n  'below range': 'var(--chart-color-secondary)', // Purple\n  'in range': 'var(--chart-color-good)', // Green\n  'above range': 'var(--chart-color-blue)', // Orange (despite the name, this is actually orange)\n};\n\n// --- Helper Functions ---\nconst getPointColor = (range) => RANGE_COLORS[range.toLowerCase()] || RANGE_COLORS['in range'];\nconst isPreMeal = (measurementType) => measurementType === 'Pre meal';\nconst getTimePosition = (date, dayIndex, config) => {\n  const timeInHours = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = timeInHours / 24;\n  const dayStart = config.padding.left + dayIndex * config.dayWidth;\n  return dayStart + (timeRatio * (config.dayWidth - 10)) + 5;\n};\n\n// --- Chart Sub-components ---\nconst XAxisAndGrid = ({ config, startOfWeek }) => (\n  <g className=\"x-axis-grid\">\n    {DAYS_OF_WEEK.map((day, i) => {\n      const x = config.padding.left + i * config.dayWidth;\n      const currentDay = new Date(startOfWeek);\n      currentDay.setDate(startOfWeek.getDate() + i);\n      \n      // Tick positions\n      const startTickX = x;\n      const middleTickX = x + config.dayWidth / 2;\n      \n      return (\n        <g key={i}>\n          {/* Vertical grid line */}\n          <line className=\"chart-grid-line-vertical\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />\n          \n          {/* X-axis tick marks */}\n          <line \n            className=\"x-axis-tick\" \n            x1={startTickX} \n            y1={config.height - config.padding.bottom} \n            x2={startTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          <line \n            className=\"x-axis-tick\" \n            x1={middleTickX} \n            y1={config.height - config.padding.bottom} \n            x2={middleTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          \n          {/* Time labels positioned at tick marks */}\n          <text \n            className=\"time-label\" \n            x={startTickX} \n            y={config.height - config.padding.bottom + 15} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '8px'}}\n          >\n            12a\n          </text>\n          <text \n            className=\"time-label\" \n            x={middleTickX} \n            y={config.height - config.padding.bottom + 15} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '8px'}}\n          >\n            12p\n          </text>\n          \n          {/* Day and date labels */}\n                    <text \n            className=\"x-axis-day-label\"\n            x={x + config.dayWidth / 2} \n            y={config.height - config.padding.bottom + 40} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.dayLabel}\n            style={{fontSize: '8px'}}\n          >\n            {day}\n          </text>\n          <text \n            className=\"x-axis-date-label\" \n            x={x + config.dayWidth / 2} \n            y={config.height - config.padding.bottom + 58} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.dateLabel}\n            style={{fontSize: '8px'}}\n          >\n            {currentDay.getDate()}\n          </text>\n        </g>\n      );\n    })}\n    {/* Final tick mark at the end of the last day */}\n    <line \n      className=\"x-axis-tick\" \n      x1={config.padding.left + DAYS_OF_WEEK.length * config.dayWidth} \n      y1={config.height - config.padding.bottom} \n      x2={config.padding.left + DAYS_OF_WEEK.length * config.dayWidth} \n      y2={config.height - config.padding.bottom + 5}\n      stroke=\"#666\"\n      strokeWidth=\"1\"\n    />\n    <text \n      className=\"time-label\" \n      x={config.padding.left + DAYS_OF_WEEK.length * config.dayWidth} \n      y={config.height - config.padding.bottom + 15} \n      textAnchor=\"middle\"\n      fontSize={config.fontSize.timeLabel}\n      style={{fontSize: '8px'}}\n    >\n      12a\n    </text>\n  </g>\n);\n\nconst DataPoints = ({ weekData, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  return (\n    <g className=\"data-points\">\n      {weekData.map((reading, index) => {\n        const dayIndex = reading.date.getDay();\n        const x = getTimePosition(reading.date, dayIndex, config);\n        const y = config.padding.top + chartHeight - (reading.value / config.yAxisRange) * chartHeight;\n        const color = getPointColor(reading.range);\n        const isPre = isPreMeal(reading.measurementType);\n        \n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            value: reading.value,\n            unit: 'mmol/L',\n            range: reading.range,\n            measurementType: reading.measurementType,\n            time: reading.date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: reading.date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n        \n        return (\n          <rect\n            key={index}\n            x={x - config.barWidth / 2}\n            y={y}\n            width={config.barWidth}\n            height={(reading.value / config.yAxisRange) * chartHeight}\n            fill={isPre ? 'none' : color}\n            stroke={color}\n            strokeWidth={isPre ? 2 : 1}\n            style={{ cursor: 'pointer' }}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nconst Chart = ({ weekData, isExpanded, startOfWeek, onBarHover, onBarLeave, monthLabel }) => {\n  // Inline configuration for chart dimensions and styling\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n        },\n        barWidth: 12,\n        yAxisLabels: [0, 4, 8, 12],\n        yAxisRange: 12,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 12,\n          dayLabel: 12,\n          dateLabel: 12,\n        },\n        barWidth: 8,\n        yAxisLabels: [0, 4, 8, 12],\n        yAxisRange: 12,\n      };\n  \n  return (\n    <div className=\"glucose-svg-container\">\n      <h3 className=\"chart-title\">Blood Glucose</h3>\n      {monthLabel && <h4 className=\"chart-subtitle\">{monthLabel}</h4>}\n      <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${config.width} ${config.height}`} className=\"glucose-svg\">\n        <rect width={config.width} height={config.height} fill=\"white\" />\n        <XAxisAndGrid config={config} startOfWeek={startOfWeek} />\n        <SharedYAxis config={config} title=\"mmol/L\" />\n        <DataPoints weekData={weekData} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n      </svg>\n    </div>\n  );\n};\n\n// --- Main Component ---\nconst GlucoseChart = ({ patientId, isExpanded = false, onExpand, accessType = 'Admin', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const healthRangeLegendItems = [\n    { label: 'Above range', color: RANGE_COLORS['above range'] },\n    { label: 'In range', color: RANGE_COLORS['in range'] },\n    { label: 'Below range', color: RANGE_COLORS['below range'] }\n  ];\n\n  const mealTimeLegendItems = [\n    { \n      label: 'Pre-meal', \n      shape: 'outlined',\n      shapeStyle: { borderColor: 'var(--chart-color-text-secondary)' },\n      description: 'Blood glucose measurements taken before meals'\n    },\n    { \n      label: 'Post-meal', \n      shape: 'filled',\n      shapeStyle: { backgroundColor: 'var(--chart-color-text-secondary)' },\n      description: 'Blood glucose measurements taken after meals'\n    },\n  ];\n  const { glucoseData, loading, error } = usePatientData(patientId);\n  const [tooltipData, setTooltipData] = useState(null);\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const internalNavigation = useChartNavigation('glucose');\n  const nav = navigation || internalNavigation;\n\n\n\n  const { start: startOfWeek, end: endOfWeek } = nav.getDateRange();\n  const weekData = glucoseData.filter(d => d.date >= startOfWeek && d.date <= endOfWeek);\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = glucoseData.filter(d => d.date >= startOfThreeMonths && d.date <= endOfThreeMonths);\n\n  // Helper function to calculate glucose summary statistics\n  // This function calculates averages, range percentages, and reading counts for any data period\n  function calculateGlucoseSummary(data) {\n    if (!data || data.length === 0) {\n      return null;\n    }\n\n    // Filter to get only valid readings (value > 0)\n    const readings = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].value && data[i].value > 0) {\n        readings.push(data[i]);\n      }\n    }\n    \n    if (readings.length === 0) {\n      return null;\n    }\n\n    // Separate readings by meal timing (pre-meal vs post-meal)\n    const preMealReadings = [];\n    const postMealReadings = [];\n    \n    for (let i = 0; i < readings.length; i++) {\n      if (readings[i].measurementType === 'Pre meal') {\n        preMealReadings.push(readings[i]);\n      } else if (readings[i].measurementType === 'Post meal') {\n        postMealReadings.push(readings[i]);\n      }\n    }\n\n    // Calculate average glucose: sum all values, divide by count, round to 1 decimal\n    let sum = 0;\n    for (let i = 0; i < readings.length; i++) {\n      sum = sum + readings[i].value;\n    }\n    const avgGlucose = (sum / readings.length).toFixed(1);\n    \n    // Find maximum glucose value (peak glucose)\n    let maxGlucose = 0;\n    for (let i = 0; i < readings.length; i++) {\n      if (readings[i].value > maxGlucose) {\n        maxGlucose = readings[i].value;\n      }\n    }\n    const peakGlucose = maxGlucose.toFixed(1);\n    \n    // Calculate average for pre-meal readings only\n    let preMealSum = 0;\n    for (let i = 0; i < preMealReadings.length; i++) {\n      preMealSum = preMealSum + preMealReadings[i].value;\n    }\n    const avgPreMeal = preMealReadings.length > 0 ? (preMealSum / preMealReadings.length).toFixed(1) : 0;\n    \n    // Calculate average for post-meal readings only\n    let postMealSum = 0;\n    for (let i = 0; i < postMealReadings.length; i++) {\n      postMealSum = postMealSum + postMealReadings[i].value;\n    }\n    const avgPostMeal = postMealReadings.length > 0 ? (postMealSum / postMealReadings.length).toFixed(1) : 0;\n\n    // Count readings in each range category\n    let highReadings = 0;\n    let lowReadings = 0;\n    let inRangeReadings = 0;\n    \n    for (let i = 0; i < readings.length; i++) {\n      const range = readings[i].range.toLowerCase();\n      if (range === 'above range') {\n        highReadings = highReadings + 1;\n      } else if (range === 'below range') {\n        lowReadings = lowReadings + 1;\n      } else if (range === 'in range') {\n        inRangeReadings = inRangeReadings + 1;\n      }\n    }\n\n    // Calculate what percentage of readings were in the target range\n    const rangePercentage = readings.length > 0 ? \n      ((inRangeReadings / readings.length) * 100).toFixed(0) : 0;\n\n    // Count unique days that had readings\n    const daysSet = new Set();\n    for (let i = 0; i < data.length; i++) {\n      const dateString = data[i].date.toDateString();\n      daysSet.add(dateString);\n    }\n    const daysWithReadings = daysSet.size;\n\n    return {\n      avgGlucose,\n      peakGlucose,\n      avgPreMeal,\n      avgPostMeal,\n      highReadings,\n      lowReadings,\n      inRangeReadings,\n      rangePercentage,\n      daysWithReadings,\n      totalReadings: readings.length\n    };\n  }\n\n  // Calculate summary statistics for week period\n  const weekSummary = calculateGlucoseSummary(weekData);\n\n  // Calculate 3-month summary using the same helper function\n  const threeMonthSummary = calculateGlucoseSummary(threeMonthData);\n\n\n  const handleBarHover = (data) => {\n    setTooltipData(data);\n  };\n\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  return (\n    <>\n      <div className=\"glucose-chart-container\" ref={containerRef}>\n        <div className={`glucose-chart-wrapper ${isExpanded ? 'expanded' : ''}`}>\n                  <Chart \n          weekData={weekData} \n          isExpanded={isExpanded} \n          startOfWeek={startOfWeek} \n          onBarHover={handleBarHover} \n          onBarLeave={handleBarLeave} \n          monthLabel={nav.getFormattedDateRange()}\n        />\n        </div>\n        <div className=\"glucose-legends-wrapper\">\n          <Legend title=\"Blood Glucose Range\" items={healthRangeLegendItems} hide={screenshotMode} />\n          <Legend title=\"Prandial State\" items={mealTimeLegendItems} hide={screenshotMode} />\n        </div>\n        \n        {/* Show InfoBox and summary for unified view - Hide InfoBox for Physician but keep summaries */}\n        {weekSummary ? (\n          <>\n            {/* Hide InfoBox for Physician */}\n            {accessType !== 'Physician' && (\n              <InfoBox \n                title=\"Blood Glucose Information\"\n                content=\"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range (Diabetes Canada).\"\n              />\n            )}\n            {/* Always show summaries for physician/unified view */}\n            <div className=\"summary-container\">\n              <div className=\"chart-summary\">\n                <h4>Week Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Average Blood Glucose:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.avgGlucose} mmol/L\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Peak Blood Glucose:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.peakGlucose} mmol/L\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Reading Days:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.daysWithReadings}/7 days\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings in Range:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.inRangeReadings}\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Total Readings:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.totalReadings}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {showThreeMonthSummaries && threeMonthSummary && (\n                <div className=\"chart-summary\">\n                  <h4>3-Month Summary</h4>\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Average Glucose:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.avgGlucose} mmol/L\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Peak Glucose:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.peakGlucose} mmol/L\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Reading Days:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.daysWithReadings} days\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings in Range:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.inRangeReadings}\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Total Readings:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.totalReadings}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          accessType !== 'Physician' && (\n            <InfoBox \n              title=\"Blood Glucose Information\"\n              content=\"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range.\"\n            />\n          )\n        )}\n      </div>\n      \n      {/* Custom Tooltip */}\n      <Tooltip\n        isVisible={!!tooltipData}\n        content={tooltipData && (\n          <div>\n            <div className=\"tooltip-title\">Blood Glucose</div>\n            <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\n            <div className={`tooltip-range ${tooltipData.range.toLowerCase().replace(' ', '-')}`}>\n              {tooltipData.range}\n            </div>\n            <div className=\"tooltip-time\">{tooltipData.measurementType} - {tooltipData.time}</div>\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\n          </div>\n        )}\n        position={tooltipData ? tooltipData.position : { x: 0, y: 0 }}\n      />\n    </>\n  );\n};\n\nexport default GlucoseChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}