{"ast":null,"code":"/*\r\n PatientDashboard.js - Patient View Dashboard Component\r\n \r\n This component renders the patient-focused dashboard view with patient information,\r\n chart navigation controls, expandable chart views, and integration with all health\r\n metric visualizations.\r\n \r\n Architecture:\r\n - Uses custom hooks for data management, visualization handling, and navigation\r\n - Implements expandable chart views\r\n - Provides educational information for patients\r\n - Handles loading and error states gracefully\r\n \r\n Custom Hooks Used:\r\n - usePatientData: Manages patient data fetching and caching\r\n - useVisualizations: Handles visualization configuration and availability\r\n - useVisualizationHelpers: Provides chart expansion and rendering utilities\r\n - useChartNavigation: Manages time-based navigation for each chart type\r\n \r\n Component Structure:\r\n - PatientInfoCard: Displays patient demographics and medication information\r\n - DashboardGrid: Renders the chart grid with navigation and expansion controls\r\n - Individual chart components for each health metric\r\n \r\n State Management:\r\n - Uses custom hooks for centralized state management\r\n - Handles chart expansion state through useVisualizationHelpers\r\n - Manages navigation state for each chart type independently\r\n */import React from'react';import usePatientData from'./hooks/usePatientData';import useVisualizations from'./hooks/useVisualizations';import useVisualizationHelpers from'./hooks/useVisualizationHelpers';import useChartNavigation from'./hooks/useChartNavigation';import PatientInfoCard from'./components/PatientInfoCard';import DashboardGrid from'./components/DashboardGrid';import'./PatientDashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PatientDashboard=_ref=>{let{patientId}=_ref;const{data,loading,error}=usePatientData(patientId);const{allVisualizations,availableVisualizations,selectedVisualizations,handleVisualizationChange}=useVisualizations('patient',data);const{expandedItem,handleExpand,renderVisualization}=useVisualizationHelpers(patientId,allVisualizations,selectedVisualizations);// Create universal navigation for each chart type\nconst glucoseNavigation=useChartNavigation('glucose');const bloodPressureNavigation=useChartNavigation('bloodPressure');const exerciseNavigation=useChartNavigation('exercise');const sleepNavigation=useChartNavigation('sleep');const painNavigation=useChartNavigation('pain');const moodNavigation=useChartNavigation('mood');const mealContentsNavigation=useChartNavigation('mealContents');const chartNavigation={glucose:glucoseNavigation,bloodPressure:bloodPressureNavigation,exercise:exerciseNavigation,sleep:sleepNavigation,pain:painNavigation,mood:moodNavigation,mealContents:mealContentsNavigation};// Override renderVisualization to set correct viewMode\nconst renderVisualizationWithMode=(visualizationType,boxId)=>{const viz=allVisualizations[visualizationType];if(!viz)return/*#__PURE__*/_jsx(\"div\",{children:\"Invalid visualization\"});const Component=viz.component;const isExpanded=expandedItem===boxId;const navigation=chartNavigation[visualizationType];return/*#__PURE__*/_jsx(Component,{patientId:patientId,isExpanded:isExpanded,onExpand:()=>handleExpand(boxId),viewMode:\"patient\",navigation:navigation});};const patientInfo=data===null||data===void 0?void 0:data.patientInfo;if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading patient data...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error-screen\",children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"patient-dashboard\",children:[/*#__PURE__*/_jsx(PatientInfoCard,{patientInfo:patientInfo,loading:loading,error:error,variant:\"patient\"}),/*#__PURE__*/_jsx(DashboardGrid,{viewMode:\"patient\",selectedVisualizations:selectedVisualizations,availableVisualizations:availableVisualizations,allVisualizations:allVisualizations,onVisualizationChange:handleVisualizationChange,onExpand:handleExpand,expandedItem:expandedItem,renderVisualization:renderVisualizationWithMode,chartNavigation:chartNavigation})]});};export default PatientDashboard;","map":{"version":3,"names":["React","usePatientData","useVisualizations","useVisualizationHelpers","useChartNavigation","PatientInfoCard","DashboardGrid","jsx","_jsx","jsxs","_jsxs","PatientDashboard","_ref","patientId","data","loading","error","allVisualizations","availableVisualizations","selectedVisualizations","handleVisualizationChange","expandedItem","handleExpand","renderVisualization","glucoseNavigation","bloodPressureNavigation","exerciseNavigation","sleepNavigation","painNavigation","moodNavigation","mealContentsNavigation","chartNavigation","glucose","bloodPressure","exercise","sleep","pain","mood","mealContents","renderVisualizationWithMode","visualizationType","boxId","viz","children","Component","component","isExpanded","navigation","onExpand","viewMode","patientInfo","className","variant","onVisualizationChange"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/Health_data_dashboard-MCC_project_checkpoint/src/PatientDashboard.js"],"sourcesContent":["/*\r\n PatientDashboard.js - Patient View Dashboard Component\r\n \r\n This component renders the patient-focused dashboard view with patient information,\r\n chart navigation controls, expandable chart views, and integration with all health\r\n metric visualizations.\r\n \r\n Architecture:\r\n - Uses custom hooks for data management, visualization handling, and navigation\r\n - Implements expandable chart views\r\n - Provides educational information for patients\r\n - Handles loading and error states gracefully\r\n \r\n Custom Hooks Used:\r\n - usePatientData: Manages patient data fetching and caching\r\n - useVisualizations: Handles visualization configuration and availability\r\n - useVisualizationHelpers: Provides chart expansion and rendering utilities\r\n - useChartNavigation: Manages time-based navigation for each chart type\r\n \r\n Component Structure:\r\n - PatientInfoCard: Displays patient demographics and medication information\r\n - DashboardGrid: Renders the chart grid with navigation and expansion controls\r\n - Individual chart components for each health metric\r\n \r\n State Management:\r\n - Uses custom hooks for centralized state management\r\n - Handles chart expansion state through useVisualizationHelpers\r\n - Manages navigation state for each chart type independently\r\n */\r\n\r\nimport React from 'react';\r\nimport usePatientData from './hooks/usePatientData';\r\nimport useVisualizations from './hooks/useVisualizations';\r\nimport useVisualizationHelpers from './hooks/useVisualizationHelpers';\r\nimport useChartNavigation from './hooks/useChartNavigation';\r\nimport PatientInfoCard from './components/PatientInfoCard';\r\nimport DashboardGrid from './components/DashboardGrid';\r\nimport './PatientDashboard.css';\r\n\r\nconst PatientDashboard = ({ patientId }) => {\r\n  const { data, loading, error } = usePatientData(patientId);\r\n  const { \r\n    allVisualizations, \r\n    availableVisualizations, \r\n    selectedVisualizations, \r\n    handleVisualizationChange \r\n  } = useVisualizations('patient', data);\r\n  \r\n  const { expandedItem, handleExpand, renderVisualization } = useVisualizationHelpers(\r\n    patientId, \r\n    allVisualizations, \r\n    selectedVisualizations\r\n  );\r\n\r\n  // Create universal navigation for each chart type\r\n  const glucoseNavigation = useChartNavigation('glucose');\r\n  const bloodPressureNavigation = useChartNavigation('bloodPressure');\r\n  const exerciseNavigation = useChartNavigation('exercise');\r\n  const sleepNavigation = useChartNavigation('sleep');\r\n  const painNavigation = useChartNavigation('pain');\r\n  const moodNavigation = useChartNavigation('mood');\r\n  const mealContentsNavigation = useChartNavigation('mealContents');\r\n\r\n  const chartNavigation = {\r\n    glucose: glucoseNavigation,\r\n    bloodPressure: bloodPressureNavigation,\r\n    exercise: exerciseNavigation,\r\n    sleep: sleepNavigation,\r\n    pain: painNavigation,\r\n    mood: moodNavigation,\r\n    mealContents: mealContentsNavigation\r\n  };\r\n\r\n  // Override renderVisualization to set correct viewMode\r\n  const renderVisualizationWithMode = (visualizationType, boxId) => {\r\n    const viz = allVisualizations[visualizationType];\r\n    if (!viz) return <div>Invalid visualization</div>;\r\n\r\n    const Component = viz.component;\r\n    const isExpanded = expandedItem === boxId;\r\n    const navigation = chartNavigation[visualizationType];\r\n    \r\n    return <Component \r\n      patientId={patientId} \r\n      isExpanded={isExpanded} \r\n      onExpand={() => handleExpand(boxId)}\r\n      viewMode=\"patient\"\r\n      navigation={navigation}\r\n    />;\r\n  };\r\n\r\n  const patientInfo = data?.patientInfo;\r\n\r\n  if (loading) return <div className=\"loading-screen\">Loading patient data...</div>;\r\n  if (error) return <div className=\"error-screen\">Error: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"patient-dashboard\">\r\n      <PatientInfoCard \r\n        patientInfo={patientInfo}\r\n        loading={loading}\r\n        error={error}\r\n        variant=\"patient\"\r\n      />\r\n\r\n      <DashboardGrid\r\n        viewMode=\"patient\"\r\n        selectedVisualizations={selectedVisualizations}\r\n        availableVisualizations={availableVisualizations}\r\n        allVisualizations={allVisualizations}\r\n        onVisualizationChange={handleVisualizationChange}\r\n        onExpand={handleExpand}\r\n        expandedItem={expandedItem}\r\n        renderVisualization={renderVisualizationWithMode}\r\n        chartNavigation={chartNavigation}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}