{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local\\\\MCC_digital_health_data_visualizations\\\\src\\\\components\\\\patient_charts\\\\SleepChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\nimport Legend from '../Legend';\nimport './SleepChart.css';\nimport '../ChartStyles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SleepChart = ({\n  patientId,\n  isExpanded,\n  onExpand,\n  viewMode = 'patient',\n  navigation\n}) => {\n  _s();\n  const {\n    sleepData,\n    loading,\n    error\n  } = usePatientData(patientId, 'sleep');\n\n  // Use navigation from parent or fallback to internal navigation\n  const useInternalNavigation = !navigation;\n  const internalNavigation = useChartNavigation('sleep');\n  const nav = navigation || internalNavigation;\n  const getWeekData = () => {\n    if (!sleepData || sleepData.length === 0) return [];\n    const end = sleepData.length - weekOffset * 7;\n    const start = Math.max(0, end - 7);\n    return sleepData.slice(start, end);\n  };\n  const weekData = getWeekData();\n  const formatDateRange = data => {\n    if (!data || data.length === 0) return '';\n    const startDate = new Date(data[0].date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n    const endDate = new Date(data[data.length - 1].date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n    return `${startDate} to ${endDate}`;\n  };\n  const qualityLevels = {\n    'Very good': 'var(--chart-color-sleep-very-good)',\n    'Fairly good': 'var(--chart-color-sleep-fairly-good)',\n    'Fairly bad': 'var(--chart-color-sleep-fairly-bad)',\n    'Very bad': 'var(--chart-color-sleep-very-bad)'\n  };\n  const getQualityColor = quality => qualityLevels[quality] || '#D3D3D3';\n  const legendItems = Object.entries(qualityLevels).map(([label, color]) => ({\n    label,\n    color\n  }));\n\n  // Calculate summary statistics for physician view\n  const weekSummary = useMemo(() => {\n    if (!weekData || weekData.length === 0) return null;\n    const totalHours = weekData.reduce((sum, day) => sum + day.hours, 0);\n    const avgHours = (totalHours / weekData.length).toFixed(1);\n\n    // Count quality levels\n    const qualityCounts = {};\n    Object.keys(qualityLevels).forEach(quality => {\n      qualityCounts[quality] = 0;\n    });\n    weekData.forEach(day => {\n      if (qualityCounts[day.quality] !== undefined) {\n        qualityCounts[day.quality]++;\n      }\n    });\n\n    // Find most common quality\n    const mostCommonQuality = Object.entries(qualityCounts).sort(([, a], [, b]) => b - a)[0];\n\n    // Calculate sleep consistency (how much variation in sleep hours)\n    const hourVariations = weekData.map(day => Math.abs(day.hours - parseFloat(avgHours)));\n    const avgVariation = (hourVariations.reduce((sum, v) => sum + v, 0) / hourVariations.length).toFixed(1);\n\n    // Sleep quality score (Very good=4, Fairly good=3, Fairly bad=2, Very bad=1)\n    const qualityScores = {\n      'Very good': 4,\n      'Fairly good': 3,\n      'Fairly bad': 2,\n      'Very bad': 1\n    };\n    const avgQualityScore = weekData.reduce((sum, day) => sum + (qualityScores[day.quality] || 0), 0) / weekData.length;\n    const qualityAssessment = avgQualityScore >= 3.5 ? 'Good' : avgQualityScore >= 2.5 ? 'Fair' : 'Poor';\n\n    // Count nights with adequate sleep (7+ hours)\n    const adequateSleepNights = weekData.filter(day => day.hours >= 7).length;\n    return {\n      totalHours: totalHours.toFixed(1),\n      avgHours,\n      mostCommonQuality: mostCommonQuality[0],\n      mostCommonQualityCount: mostCommonQuality[1],\n      avgVariation,\n      qualityAssessment,\n      adequateSleepNights,\n      daysTracked: weekData.length\n    };\n  }, [weekData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sleep-chart-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"chart-title\",\n      children: \"Sleep Quality & Duration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sleep-chart\",\n      children: weekData.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sleep-day\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sleep-quality-indicator-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sleep-quality-indicator\",\n            style: {\n              backgroundColor: getQualityColor(day.quality)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bed-icon-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 486.5 225.1\",\n            className: \"bed-icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M471.9,68.9c-8,0-14.5,6.5-14.5,14.5v68.6H26.1l-.6-139.3c0-7-5.8-12.7-12.8-12.7h0C5.7,0,0,5.7,0,12.8v199.6c0,7,5.7,12.8,12.7,12.8s12.8-5.7,12.8-12.8v-37h431.9v35.2c0,8,6.5,14.5,14.5,14.5s14.5-6.5,14.5-14.5v-127.1c0-8-6.5-14.5-14.5-14.5ZM483.7,210.6c0,6.5-5.3,11.8-11.8,11.8s-11.8-5.3-11.8-11.8v-38H22.7v39.7c0,5.5-4.5,10-10,10s-10-4.5-10-10V12.8C2.8,7.3,7.3,2.8,12.7,2.8h0c5.5,0,9.9,4.5,10,9.9l.6,142.1h436.8v-71.4c0-6.5,5.3-11.7,11.8-11.7s11.8,5.3,11.8,11.7v127.1Z\",\n              fill: \"#D2B48C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M29.9,94.2v54.5h425.4v-54.5H29.9ZM452.5,145.9H32.7v-48.9h419.8v48.9Z\",\n              fill: \"#e0e0e0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"32.7\",\n              y: \"97\",\n              width: `${day.hours / 10 * 419.8}`,\n              height: \"48.9\",\n              fill: \"#FF4500\",\n              className: \"sleep-fill-rect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M112.8,46.3h-55.4c-12.1,0-22,9.9-22,22s9.9,22,22,22h55.4c12.1,0,22-9.9,22-22s-9.9-22-22-22ZM112.8,87.5h-55.4c-10.6,0-19.2-8.6-19.2-19.2s8.6-19.2,19.2-19.2h55.4c10.6,0,19.2,8.6,19.2,19.2s-8.6,19.2-19.2,19.2Z\",\n              fill: \"#FFFFFF\",\n              stroke: \"#AAAAAA\",\n              strokeWidth: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sleep-hours\",\n          children: [day.hours.toFixed(1), \"h\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-label\",\n          children: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][new Date(day.date).getDay()]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Legend, {\n      title: \"Sleep Quality\",\n      items: legendItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), viewMode === 'physician' && weekSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Week Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Average Sleep:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [weekSummary.avgHours, \" hours/night\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Total Sleep:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [weekSummary.totalHours, \" hours\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Sleep Consistency:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [\"\\xB1\", weekSummary.avgVariation, \" hours variation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Adequate Sleep:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [weekSummary.adequateSleepNights, \"/\", weekSummary.daysTracked, \" nights (7+ hrs)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Common Quality:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [weekSummary.mostCommonQuality, \" (\", weekSummary.mostCommonQualityCount, \"x)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Overall Assessment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `stat-value ${weekSummary.qualityAssessment.toLowerCase()}`,\n            children: weekSummary.qualityAssessment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 7\n  }, this);\n};\n_s(SleepChart, \"S3DQxzLvm73qMMqKTJ0kb06opVg=\", false, function () {\n  return [usePatientData, useChartNavigation];\n});\n_c = SleepChart;\nexport default SleepChart;\nvar _c;\n$RefreshReg$(_c, \"SleepChart\");","map":{"version":3,"names":["React","useState","useMemo","usePatientData","useChartNavigation","Legend","jsxDEV","_jsxDEV","SleepChart","patientId","isExpanded","onExpand","viewMode","navigation","_s","sleepData","loading","error","useInternalNavigation","internalNavigation","nav","getWeekData","length","end","weekOffset","start","Math","max","slice","weekData","formatDateRange","data","startDate","Date","date","toLocaleDateString","month","day","endDate","qualityLevels","getQualityColor","quality","legendItems","Object","entries","map","label","color","weekSummary","totalHours","reduce","sum","hours","avgHours","toFixed","qualityCounts","keys","forEach","undefined","mostCommonQuality","sort","a","b","hourVariations","abs","parseFloat","avgVariation","v","qualityScores","avgQualityScore","qualityAssessment","adequateSleepNights","filter","mostCommonQualityCount","daysTracked","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","style","backgroundColor","viewBox","d","fill","x","y","width","height","stroke","strokeWidth","getDay","title","items","toLowerCase","_c","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/components/patient_charts/SleepChart.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\n\r\nimport usePatientData from '../../hooks/usePatientData';\r\nimport useChartNavigation from '../../hooks/useChartNavigation';\r\nimport Legend from '../Legend';\r\nimport './SleepChart.css';\r\nimport '../ChartStyles.css';\r\n\r\nconst SleepChart = ({ patientId, isExpanded, onExpand, viewMode = 'patient', navigation }) => {\r\n  const { sleepData, loading, error } = usePatientData(patientId, 'sleep');\r\n  \r\n  // Use navigation from parent or fallback to internal navigation\r\n  const useInternalNavigation = !navigation;\r\n  const internalNavigation = useChartNavigation('sleep');\r\n  const nav = navigation || internalNavigation;\r\n\r\n  const getWeekData = () => {\r\n    if (!sleepData || sleepData.length === 0) return [];\r\n    const end = sleepData.length - (weekOffset * 7);\r\n    const start = Math.max(0, end - 7);\r\n    return sleepData.slice(start, end);\r\n  };\r\n\r\n  const weekData = getWeekData();\r\n\r\n  const formatDateRange = (data) => {\r\n    if (!data || data.length === 0) return '';\r\n    const startDate = new Date(data[0].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    const endDate = new Date(data[data.length - 1].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    return `${startDate} to ${endDate}`;\r\n  };\r\n\r\n  const qualityLevels = {\r\n    'Very good': 'var(--chart-color-sleep-very-good)',\r\n    'Fairly good': 'var(--chart-color-sleep-fairly-good)',\r\n    'Fairly bad': 'var(--chart-color-sleep-fairly-bad)',\r\n    'Very bad': 'var(--chart-color-sleep-very-bad)',\r\n  };\r\n\r\n  const getQualityColor = (quality) => qualityLevels[quality] || '#D3D3D3';\r\n\r\n  const legendItems = Object.entries(qualityLevels).map(([label, color]) => ({\r\n    label,\r\n    color,\r\n  }));\r\n\r\n  // Calculate summary statistics for physician view\r\n  const weekSummary = useMemo(() => {\r\n    if (!weekData || weekData.length === 0) return null;\r\n\r\n    const totalHours = weekData.reduce((sum, day) => sum + day.hours, 0);\r\n    const avgHours = (totalHours / weekData.length).toFixed(1);\r\n\r\n    // Count quality levels\r\n    const qualityCounts = {};\r\n    Object.keys(qualityLevels).forEach(quality => {\r\n      qualityCounts[quality] = 0;\r\n    });\r\n\r\n    weekData.forEach(day => {\r\n      if (qualityCounts[day.quality] !== undefined) {\r\n        qualityCounts[day.quality]++;\r\n      }\r\n    });\r\n\r\n    // Find most common quality\r\n    const mostCommonQuality = Object.entries(qualityCounts)\r\n      .sort(([,a], [,b]) => b - a)[0];\r\n\r\n    // Calculate sleep consistency (how much variation in sleep hours)\r\n    const hourVariations = weekData.map(day => Math.abs(day.hours - parseFloat(avgHours)));\r\n    const avgVariation = (hourVariations.reduce((sum, v) => sum + v, 0) / hourVariations.length).toFixed(1);\r\n\r\n    // Sleep quality score (Very good=4, Fairly good=3, Fairly bad=2, Very bad=1)\r\n    const qualityScores = {\r\n      'Very good': 4,\r\n      'Fairly good': 3,\r\n      'Fairly bad': 2,\r\n      'Very bad': 1\r\n    };\r\n    const avgQualityScore = weekData.reduce((sum, day) => sum + (qualityScores[day.quality] || 0), 0) / weekData.length;\r\n    const qualityAssessment = avgQualityScore >= 3.5 ? 'Good' : avgQualityScore >= 2.5 ? 'Fair' : 'Poor';\r\n\r\n    // Count nights with adequate sleep (7+ hours)\r\n    const adequateSleepNights = weekData.filter(day => day.hours >= 7).length;\r\n\r\n    return {\r\n      totalHours: totalHours.toFixed(1),\r\n      avgHours,\r\n      mostCommonQuality: mostCommonQuality[0],\r\n      mostCommonQualityCount: mostCommonQuality[1],\r\n      avgVariation,\r\n      qualityAssessment,\r\n      adequateSleepNights,\r\n      daysTracked: weekData.length\r\n    };\r\n  }, [weekData]);\r\n\r\n  return (\r\n      <div className=\"sleep-chart-content\">\r\n        <h3 className=\"chart-title\">Sleep Quality & Duration</h3>\r\n        <div className=\"sleep-chart\">\r\n          {weekData.map((day, index) => (\r\n          <div key={index} className=\"sleep-day\">\r\n            <div className=\"sleep-quality-indicator-wrapper\">\r\n                <div \r\n                    className=\"sleep-quality-indicator\"\r\n                    style={{ backgroundColor: getQualityColor(day.quality) }}\r\n                ></div>\r\n            </div>\r\n            <div className=\"bed-icon-wrapper\">\r\n              <svg viewBox=\"0 0 486.5 225.1\" className=\"bed-icon\">\r\n                <path d=\"M471.9,68.9c-8,0-14.5,6.5-14.5,14.5v68.6H26.1l-.6-139.3c0-7-5.8-12.7-12.8-12.7h0C5.7,0,0,5.7,0,12.8v199.6c0,7,5.7,12.8,12.7,12.8s12.8-5.7,12.8-12.8v-37h431.9v35.2c0,8,6.5,14.5,14.5,14.5s14.5-6.5,14.5-14.5v-127.1c0-8-6.5-14.5-14.5-14.5ZM483.7,210.6c0,6.5-5.3,11.8-11.8,11.8s-11.8-5.3-11.8-11.8v-38H22.7v39.7c0,5.5-4.5,10-10,10s-10-4.5-10-10V12.8C2.8,7.3,7.3,2.8,12.7,2.8h0c5.5,0,9.9,4.5,10,9.9l.6,142.1h436.8v-71.4c0-6.5,5.3-11.7,11.8-11.7s11.8,5.3,11.8,11.7v127.1Z\" fill=\"#D2B48C\"/>\r\n                <path d=\"M29.9,94.2v54.5h425.4v-54.5H29.9ZM452.5,145.9H32.7v-48.9h419.8v48.9Z\" fill=\"#e0e0e0\"/>\r\n                <rect x=\"32.7\" y=\"97\" width={`${(day.hours / 10) * 419.8}`} height=\"48.9\" fill=\"#FF4500\" className=\"sleep-fill-rect\" />\r\n                <path d=\"M112.8,46.3h-55.4c-12.1,0-22,9.9-22,22s9.9,22,22,22h55.4c12.1,0,22-9.9,22-22s-9.9-22-22-22ZM112.8,87.5h-55.4c-10.6,0-19.2-8.6-19.2-19.2s8.6-19.2,19.2-19.2h55.4c10.6,0,19.2,8.6,19.2,19.2s-8.6,19.2-19.2,19.2Z\" fill=\"#FFFFFF\" stroke=\"#AAAAAA\" strokeWidth=\"1\"/>\r\n              </svg>\r\n            </div>\r\n            <div className=\"sleep-hours\">{day.hours.toFixed(1)}h</div>\r\n            <div className=\"day-label\">{['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][new Date(day.date).getDay()]}</div>\r\n          </div>\r\n        ))}\r\n        </div>\r\n        \r\n        <Legend title=\"Sleep Quality\" items={legendItems} />\r\n\r\n        {/* Show summary for physician view only */}\r\n        {viewMode === 'physician' && weekSummary && (\r\n          <div className=\"chart-summary\">\r\n            <h4>Week Summary</h4>\r\n            <div className=\"summary-stats\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Average Sleep:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.avgHours} hours/night\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Total Sleep:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.totalHours} hours\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Sleep Consistency:</span>\r\n                <span className=\"stat-value\">\r\n                  ±{weekSummary.avgVariation} hours variation\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Adequate Sleep:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.adequateSleepNights}/{weekSummary.daysTracked} nights (7+ hrs)\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Common Quality:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.mostCommonQuality} ({weekSummary.mostCommonQualityCount}x)\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Overall Assessment:</span>\r\n                <span className={`stat-value ${weekSummary.qualityAssessment.toLowerCase()}`}>\r\n                  {weekSummary.qualityAssessment}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default SleepChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}