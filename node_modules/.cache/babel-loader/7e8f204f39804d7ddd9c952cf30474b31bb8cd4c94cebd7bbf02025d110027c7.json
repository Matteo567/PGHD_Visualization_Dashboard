{"ast":null,"code":"/*\n GlucoseChart.js - Blood Glucose Monitoring Visualization\n \n This component provides comprehensive blood glucose tracking:\n - Time-based glucose readings with meal context (pre/post meal)\n - Range-based color coding (below, in range, above target)\n - Daily and weekly trend visualization\n - Interactive tooltips with detailed glucose information\n - Navigation controls for time periods\n - Integration with patient data and chart navigation\n \n Essential for diabetes management and glucose trend analysis.\n */import React,{useState,useRef}from'react';import usePatientData from'../../hooks/usePatientData';import useChartNavigation from'../../hooks/useChartNavigation';import Legend from'../Legend';import InfoBox from'../InfoBox';import Tooltip from'../ui/Tooltip';import SharedYAxis from'../chart-utils/SharedYAxis';import'./GlucoseChart.css';// --- Constants ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DAYS_OF_WEEK=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];const RANGE_COLORS={'below range':'var(--chart-color-secondary)',// Purple\n'in range':'var(--chart-color-good)',// Green\n'above range':'var(--chart-color-blue)'// Orange (despite the name, this is actually orange)\n};const TIME_LABELS=['12am','12pm','12am'];const DEFAULT_WEEK=new Date(2025,4,1);// --- Helper Functions ---\nconst getPointColor=range=>RANGE_COLORS[range.toLowerCase()]||RANGE_COLORS['in range'];const isPreMeal=measurementType=>measurementType==='Pre meal';const getTimePosition=(date,dayIndex,config)=>{const timeInHours=date.getHours()+date.getMinutes()/60;const timeRatio=timeInHours/24;const dayStart=config.padding.left+dayIndex*config.dayWidth;return dayStart+timeRatio*(config.dayWidth-10)+5;};// --- Chart Sub-components ---\nconst XAxisAndGrid=_ref=>{let{config,startOfWeek}=_ref;return/*#__PURE__*/_jsxs(\"g\",{className:\"x-axis-grid\",children:[DAYS_OF_WEEK.map((day,i)=>{const x=config.padding.left+i*config.dayWidth;const currentDay=new Date(startOfWeek);currentDay.setDate(startOfWeek.getDate()+i);// Tick positions\nconst startTickX=x;const middleTickX=x+config.dayWidth/2;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{className:\"chart-grid-line-vertical\",x1:x,y1:config.padding.top,x2:x,y2:config.height-config.padding.bottom}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:startTickX,y1:config.height-config.padding.bottom,x2:startTickX,y2:config.height-config.padding.bottom+5,stroke:\"var(--chart-color-neutral)\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:middleTickX,y1:config.height-config.padding.bottom,x2:middleTickX,y2:config.height-config.padding.bottom+5,stroke:\"var(--chart-color-neutral)\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:startTickX,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12a\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:middleTickX,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12p\"}),/*#__PURE__*/_jsx(\"text\",{className:\"x-axis-day-label\",x:x+config.dayWidth/2,y:config.height-config.padding.bottom+40,textAnchor:\"middle\",fontSize:config.fontSize.dayLabel,style:{fontSize:'8px'},children:day}),/*#__PURE__*/_jsx(\"text\",{className:\"x-axis-date-label\",x:x+config.dayWidth/2,y:config.height-config.padding.bottom+58,textAnchor:\"middle\",fontSize:config.fontSize.dateLabel,style:{fontSize:'8px'},children:currentDay.getDate()})]},i);}),/*#__PURE__*/_jsx(\"line\",{className:\"x-axis-tick\",x1:config.padding.left+DAYS_OF_WEEK.length*config.dayWidth,y1:config.height-config.padding.bottom,x2:config.padding.left+DAYS_OF_WEEK.length*config.dayWidth,y2:config.height-config.padding.bottom+5,stroke:\"#666\",strokeWidth:\"1\"}),/*#__PURE__*/_jsx(\"text\",{className:\"time-label\",x:config.padding.left+DAYS_OF_WEEK.length*config.dayWidth,y:config.height-config.padding.bottom+15,textAnchor:\"middle\",fontSize:config.fontSize.timeLabel,style:{fontSize:'8px'},children:\"12a\"})]});};const DataPoints=_ref2=>{let{weekData,config,onBarHover,onBarLeave}=_ref2;const chartHeight=config.height-config.padding.top-config.padding.bottom;return/*#__PURE__*/_jsx(\"g\",{className:\"data-points\",children:weekData.map((reading,index)=>{const dayIndex=reading.date.getDay();const x=getTimePosition(reading.date,dayIndex,config);const y=config.padding.top+chartHeight-reading.value/config.yAxisRange*chartHeight;const color=getPointColor(reading.range);const isPre=isPreMeal(reading.measurementType);const handleMouseEnter=event=>{const tooltipData={value:reading.value,unit:'mmol/L',range:reading.range,measurementType:reading.measurementType,time:reading.date.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true}),date:reading.date.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'}),position:{x:event.clientX,y:event.clientY}};onBarHover(tooltipData);};const handleMouseLeave=()=>{onBarLeave();};return/*#__PURE__*/_jsx(\"rect\",{x:x-config.barWidth/2,y:y,width:config.barWidth,height:reading.value/config.yAxisRange*chartHeight,fill:isPre?'none':color,stroke:color,strokeWidth:isPre?2:1,style:{cursor:'pointer'},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave},index);})});};const Chart=_ref3=>{let{weekData,isExpanded,startOfWeek,onBarHover,onBarLeave,monthLabel}=_ref3;// Simple inline config - no factory pattern needed\nconst config=isExpanded?{width:700,height:550,padding:{top:80,right:60,bottom:100,left:80},dayWidth:80,fontSize:{yAxis:16,yAxisTitle:18,timeLabel:14,dayLabel:14,dateLabel:14},barWidth:12,yAxisLabels:[0,4,8,12],yAxisRange:12}:{width:450,height:350,padding:{top:60,right:40,bottom:80,left:60},dayWidth:50,fontSize:{yAxis:14,yAxisTitle:16,timeLabel:12,dayLabel:12,dateLabel:12},barWidth:8,yAxisLabels:[0,4,8,12],yAxisRange:12};return/*#__PURE__*/_jsxs(\"div\",{className:\"glucose-svg-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"chart-title\",children:\"Blood Glucose\"}),monthLabel&&/*#__PURE__*/_jsx(\"h4\",{className:\"chart-subtitle\",children:monthLabel}),/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 \".concat(config.width,\" \").concat(config.height),className:\"glucose-svg\",children:[/*#__PURE__*/_jsx(\"rect\",{width:config.width,height:config.height,fill:\"white\"}),/*#__PURE__*/_jsx(XAxisAndGrid,{config:config,startOfWeek:startOfWeek}),/*#__PURE__*/_jsx(SharedYAxis,{config:config,title:\"mmol/L\"}),/*#__PURE__*/_jsx(DataPoints,{weekData:weekData,config:config,onBarHover:onBarHover,onBarLeave:onBarLeave})]})]});};// --- Main Component ---\nconst GlucoseChart=_ref4=>{let{patientId,isExpanded=false,onExpand,viewMode='patient',navigation,screenshotMode=false,showThreeMonthSummaries=false}=_ref4;const healthRangeLegendItems=[{label:'Above range',color:RANGE_COLORS['above range']},{label:'In range',color:RANGE_COLORS['in range']},{label:'Below range',color:RANGE_COLORS['below range']}];const mealTimeLegendItems=[{label:'Pre-meal',shape:'outlined',shapeStyle:{borderColor:'var(--chart-color-text-secondary)'},description:'Blood glucose measurements taken before meals'},{label:'Post-meal',shape:'filled',shapeStyle:{backgroundColor:'var(--chart-color-text-secondary)'},description:'Blood glucose measurements taken after meals'}];const{glucoseData,loading,error}=usePatientData(patientId,'glucose');const[tooltipData,setTooltipData]=useState(null);const[tooltipPosition,setTooltipPosition]=useState({x:0,y:0});const containerRef=useRef(null);// Use navigation from parent or fallback to internal navigation\nconst useInternalNavigation=!navigation;const internalNavigation=useChartNavigation('glucose');const nav=navigation||internalNavigation;const{start:startOfWeek,end:endOfWeek}=nav.getDateRange();const weekData=glucoseData.filter(d=>d.date>=startOfWeek&&d.date<=endOfWeek);// Get 3-month data\nconst{start:startOfThreeMonths,end:endOfThreeMonths}=nav.getThreeMonthRange();const threeMonthData=glucoseData.filter(d=>d.date>=startOfThreeMonths&&d.date<=endOfThreeMonths);// Calculate summary statistics for physician view\nlet weekSummary=null;if(weekData.length>0){const readings=weekData.filter(d=>d.value&&d.value>0);const preMealReadings=readings.filter(d=>d.measurementType==='Pre meal');const postMealReadings=readings.filter(d=>d.measurementType==='Post meal');const avgGlucose=readings.length>0?(readings.reduce((sum,val)=>sum+val.value,0)/readings.length).toFixed(1):0;const avgPreMeal=preMealReadings.length>0?(preMealReadings.reduce((sum,val)=>sum+val.value,0)/preMealReadings.length).toFixed(1):0;const avgPostMeal=postMealReadings.length>0?(postMealReadings.reduce((sum,val)=>sum+val.value,0)/postMealReadings.length).toFixed(1):0;const highReadings=readings.filter(d=>d.range.toLowerCase()==='above range').length;const lowReadings=readings.filter(d=>d.range.toLowerCase()==='below range').length;const inRangeReadings=readings.filter(d=>d.range.toLowerCase()==='in range').length;const rangePercentage=readings.length>0?(inRangeReadings/readings.length*100).toFixed(0):0;const daysWithReadings=new Set(weekData.map(d=>d.date.toDateString())).size;weekSummary={avgGlucose,avgPreMeal,avgPostMeal,highReadings,lowReadings,inRangeReadings,rangePercentage,daysWithReadings,totalReadings:readings.length};}// Calculate 3-month summary statistics for physician view\nlet threeMonthSummary=null;if(threeMonthData.length>0){const readings=threeMonthData.filter(d=>d.value&&d.value>0);const preMealReadings=readings.filter(d=>d.measurementType==='Pre meal');const postMealReadings=readings.filter(d=>d.measurementType==='Post meal');const avgGlucose=readings.length>0?(readings.reduce((sum,val)=>sum+val.value,0)/readings.length).toFixed(1):0;const avgPreMeal=preMealReadings.length>0?(preMealReadings.reduce((sum,val)=>sum+val.value,0)/preMealReadings.length).toFixed(1):0;const avgPostMeal=postMealReadings.length>0?(postMealReadings.reduce((sum,val)=>sum+val.value,0)/postMealReadings.length).toFixed(1):0;const highReadings=readings.filter(d=>d.range.toLowerCase()==='above range').length;const lowReadings=readings.filter(d=>d.range.toLowerCase()==='below range').length;const inRangeReadings=readings.filter(d=>d.range.toLowerCase()==='in range').length;const rangePercentage=readings.length>0?(inRangeReadings/readings.length*100).toFixed(0):0;const daysWithReadings=new Set(threeMonthData.map(d=>d.date.toDateString())).size;threeMonthSummary={avgGlucose,avgPreMeal,avgPostMeal,highReadings,lowReadings,inRangeReadings,rangePercentage,daysWithReadings,totalReadings:readings.length};}const formatDateRange=(start,end)=>{const startStr=start.toLocaleDateString('en-US',{month:'short',day:'numeric'});const endStr=end.toLocaleDateString('en-US',{month:'short',day:'numeric'});return\"\".concat(startStr,\" to \").concat(endStr);};const handleBarHover=data=>{setTooltipData(data);setTooltipPosition(data.position);};const handleBarLeave=()=>{setTooltipData(null);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glucose-chart-container\",ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"glucose-chart-wrapper \".concat(isExpanded?'expanded':''),children:/*#__PURE__*/_jsx(Chart,{weekData:weekData,isExpanded:isExpanded,startOfWeek:startOfWeek,onBarHover:handleBarHover,onBarLeave:handleBarLeave,monthLabel:nav.getFormattedDateRange()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"glucose-legends-wrapper\",children:[/*#__PURE__*/_jsx(Legend,{title:\"Health Range\",items:healthRangeLegendItems,hide:screenshotMode}),/*#__PURE__*/_jsx(Legend,{title:\"Prandial State\",items:mealTimeLegendItems,hide:screenshotMode})]}),(viewMode==='physician'||viewMode==='unified')&&weekSummary?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InfoBox,{title:\"Blood Glucose Information\",content:\"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Week Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Average Glucose:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.avgGlucose,\" mmol/L\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Readings In Range:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.rangePercentage,\"% (\",weekSummary.inRangeReadings,\"/\",weekSummary.totalReadings,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"High/Low Readings:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.highReadings,\" high, \",weekSummary.lowReadings,\" low\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Reading Days:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[weekSummary.daysWithReadings,\"/7 days\"]})]})]})]}),showThreeMonthSummaries&&threeMonthSummary&&/*#__PURE__*/_jsxs(\"div\",{className:\"chart-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"3-Month Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Average Glucose:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[threeMonthSummary.avgGlucose,\" mmol/L\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Readings In Range:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[threeMonthSummary.rangePercentage,\"% (\",threeMonthSummary.inRangeReadings,\"/\",threeMonthSummary.totalReadings,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"High/Low Readings:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[threeMonthSummary.highReadings,\" high, \",threeMonthSummary.lowReadings,\" low\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Reading Days:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[threeMonthSummary.daysWithReadings,\" days\"]})]})]})]})]})]}):/*#__PURE__*/_jsx(InfoBox,{title:\"Blood Glucose Information\",content:\"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range.\"})]}),/*#__PURE__*/_jsx(Tooltip,{isVisible:!!tooltipData,content:tooltipData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-title\",children:\"Blood Glucose\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-value\",children:[tooltipData.value,\" \",tooltipData.unit]}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-range \".concat(tooltipData.range.toLowerCase().replace(' ','-')),children:tooltipData.range}),/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-time\",children:[tooltipData.measurementType,\" - \",tooltipData.time]}),/*#__PURE__*/_jsx(\"div\",{className:\"tooltip-date\",children:tooltipData.date})]}),position:tooltipPosition})]});};export default GlucoseChart;","map":{"version":3,"names":["React","useState","useRef","usePatientData","useChartNavigation","Legend","InfoBox","Tooltip","SharedYAxis","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DAYS_OF_WEEK","RANGE_COLORS","TIME_LABELS","DEFAULT_WEEK","Date","getPointColor","range","toLowerCase","isPreMeal","measurementType","getTimePosition","date","dayIndex","config","timeInHours","getHours","getMinutes","timeRatio","dayStart","padding","left","dayWidth","XAxisAndGrid","_ref","startOfWeek","className","children","map","day","i","x","currentDay","setDate","getDate","startTickX","middleTickX","x1","y1","top","x2","y2","height","bottom","stroke","strokeWidth","y","textAnchor","fontSize","timeLabel","style","dayLabel","dateLabel","length","DataPoints","_ref2","weekData","onBarHover","onBarLeave","chartHeight","reading","index","getDay","value","yAxisRange","color","isPre","handleMouseEnter","event","tooltipData","unit","time","toLocaleTimeString","hour","minute","hour12","toLocaleDateString","weekday","month","position","clientX","clientY","handleMouseLeave","barWidth","width","fill","cursor","onMouseEnter","onMouseLeave","Chart","_ref3","isExpanded","monthLabel","right","yAxis","yAxisTitle","yAxisLabels","viewBox","concat","title","GlucoseChart","_ref4","patientId","onExpand","viewMode","navigation","screenshotMode","showThreeMonthSummaries","healthRangeLegendItems","label","mealTimeLegendItems","shape","shapeStyle","borderColor","description","backgroundColor","glucoseData","loading","error","setTooltipData","tooltipPosition","setTooltipPosition","containerRef","useInternalNavigation","internalNavigation","nav","start","end","endOfWeek","getDateRange","filter","d","startOfThreeMonths","endOfThreeMonths","getThreeMonthRange","threeMonthData","weekSummary","readings","preMealReadings","postMealReadings","avgGlucose","reduce","sum","val","toFixed","avgPreMeal","avgPostMeal","highReadings","lowReadings","inRangeReadings","rangePercentage","daysWithReadings","Set","toDateString","size","totalReadings","threeMonthSummary","formatDateRange","startStr","endStr","handleBarHover","data","handleBarLeave","ref","getFormattedDateRange","items","hide","content","isVisible","replace"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/components/patient_charts/GlucoseChart.js"],"sourcesContent":["/*\n GlucoseChart.js - Blood Glucose Monitoring Visualization\n \n This component provides comprehensive blood glucose tracking:\n - Time-based glucose readings with meal context (pre/post meal)\n - Range-based color coding (below, in range, above target)\n - Daily and weekly trend visualization\n - Interactive tooltips with detailed glucose information\n - Navigation controls for time periods\n - Integration with patient data and chart navigation\n \n Essential for diabetes management and glucose trend analysis.\n */\n\nimport React, { useState, useRef } from 'react';\nimport usePatientData from '../../hooks/usePatientData';\nimport useChartNavigation from '../../hooks/useChartNavigation';\n\nimport Legend from '../Legend';\nimport InfoBox from '../InfoBox';\nimport Tooltip from '../ui/Tooltip';\nimport SharedYAxis from '../chart-utils/SharedYAxis';\nimport './GlucoseChart.css';\n\n// --- Constants ---\nconst DAYS_OF_WEEK = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst RANGE_COLORS = {\n  'below range': 'var(--chart-color-secondary)', // Purple\n  'in range': 'var(--chart-color-good)', // Green\n  'above range': 'var(--chart-color-blue)', // Orange (despite the name, this is actually orange)\n};\nconst TIME_LABELS = ['12am', '12pm', '12am'];\nconst DEFAULT_WEEK = new Date(2025, 4, 1);\n\n// --- Helper Functions ---\nconst getPointColor = (range) => RANGE_COLORS[range.toLowerCase()] || RANGE_COLORS['in range'];\nconst isPreMeal = (measurementType) => measurementType === 'Pre meal';\nconst getTimePosition = (date, dayIndex, config) => {\n  const timeInHours = date.getHours() + date.getMinutes() / 60;\n  const timeRatio = timeInHours / 24;\n  const dayStart = config.padding.left + dayIndex * config.dayWidth;\n  return dayStart + (timeRatio * (config.dayWidth - 10)) + 5;\n};\n\n// --- Chart Sub-components ---\nconst XAxisAndGrid = ({ config, startOfWeek }) => (\n  <g className=\"x-axis-grid\">\n    {DAYS_OF_WEEK.map((day, i) => {\n      const x = config.padding.left + i * config.dayWidth;\n      const currentDay = new Date(startOfWeek);\n      currentDay.setDate(startOfWeek.getDate() + i);\n      \n      // Tick positions\n      const startTickX = x;\n      const middleTickX = x + config.dayWidth / 2;\n      \n      return (\n        <g key={i}>\n          {/* Vertical grid line */}\n          <line className=\"chart-grid-line-vertical\" x1={x} y1={config.padding.top} x2={x} y2={config.height - config.padding.bottom} />\n          \n          {/* X-axis tick marks */}\n          <line \n            className=\"x-axis-tick\" \n            x1={startTickX} \n            y1={config.height - config.padding.bottom} \n            x2={startTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          <line \n            className=\"x-axis-tick\" \n            x1={middleTickX} \n            y1={config.height - config.padding.bottom} \n            x2={middleTickX} \n            y2={config.height - config.padding.bottom + 5}\n            stroke=\"var(--chart-color-neutral)\"\n            strokeWidth=\"1\"\n          />\n          \n          {/* Time labels positioned at tick marks */}\n          <text \n            className=\"time-label\" \n            x={startTickX} \n            y={config.height - config.padding.bottom + 15} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '8px'}}\n          >\n            12a\n          </text>\n          <text \n            className=\"time-label\" \n            x={middleTickX} \n            y={config.height - config.padding.bottom + 15} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.timeLabel}\n            style={{fontSize: '8px'}}\n          >\n            12p\n          </text>\n          \n          {/* Day and date labels */}\n                    <text \n            className=\"x-axis-day-label\"\n            x={x + config.dayWidth / 2} \n            y={config.height - config.padding.bottom + 40} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.dayLabel}\n            style={{fontSize: '8px'}}\n          >\n            {day}\n          </text>\n          <text \n            className=\"x-axis-date-label\" \n            x={x + config.dayWidth / 2} \n            y={config.height - config.padding.bottom + 58} \n            textAnchor=\"middle\"\n            fontSize={config.fontSize.dateLabel}\n            style={{fontSize: '8px'}}\n          >\n            {currentDay.getDate()}\n          </text>\n        </g>\n      );\n    })}\n    {/* Final tick mark at the end of the last day */}\n    <line \n      className=\"x-axis-tick\" \n      x1={config.padding.left + DAYS_OF_WEEK.length * config.dayWidth} \n      y1={config.height - config.padding.bottom} \n      x2={config.padding.left + DAYS_OF_WEEK.length * config.dayWidth} \n      y2={config.height - config.padding.bottom + 5}\n      stroke=\"#666\"\n      strokeWidth=\"1\"\n    />\n    <text \n      className=\"time-label\" \n      x={config.padding.left + DAYS_OF_WEEK.length * config.dayWidth} \n      y={config.height - config.padding.bottom + 15} \n      textAnchor=\"middle\"\n      fontSize={config.fontSize.timeLabel}\n      style={{fontSize: '8px'}}\n    >\n      12a\n    </text>\n  </g>\n);\n\nconst DataPoints = ({ weekData, config, onBarHover, onBarLeave }) => {\n  const chartHeight = config.height - config.padding.top - config.padding.bottom;\n  return (\n    <g className=\"data-points\">\n      {weekData.map((reading, index) => {\n        const dayIndex = reading.date.getDay();\n        const x = getTimePosition(reading.date, dayIndex, config);\n        const y = config.padding.top + chartHeight - (reading.value / config.yAxisRange) * chartHeight;\n        const color = getPointColor(reading.range);\n        const isPre = isPreMeal(reading.measurementType);\n        \n        const handleMouseEnter = (event) => {\n          const tooltipData = {\n            value: reading.value,\n            unit: 'mmol/L',\n            range: reading.range,\n            measurementType: reading.measurementType,\n            time: reading.date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),\n            date: reading.date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\n            position: { x: event.clientX, y: event.clientY }\n          };\n          onBarHover(tooltipData);\n        };\n\n        const handleMouseLeave = () => {\n          onBarLeave();\n        };\n        \n        return (\n          <rect\n            key={index}\n            x={x - config.barWidth / 2}\n            y={y}\n            width={config.barWidth}\n            height={(reading.value / config.yAxisRange) * chartHeight}\n            fill={isPre ? 'none' : color}\n            stroke={color}\n            strokeWidth={isPre ? 2 : 1}\n            style={{ cursor: 'pointer' }}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          />\n        );\n      })}\n    </g>\n  );\n};\n\nconst Chart = ({ weekData, isExpanded, startOfWeek, onBarHover, onBarLeave, monthLabel }) => {\n  // Simple inline config - no factory pattern needed\n  const config = isExpanded \n    ? {\n        width: 700,\n        height: 550,\n        padding: { top: 80, right: 60, bottom: 100, left: 80 },\n        dayWidth: 80,\n        fontSize: {\n          yAxis: 16,\n          yAxisTitle: 18,\n          timeLabel: 14,\n          dayLabel: 14,\n          dateLabel: 14,\n        },\n        barWidth: 12,\n        yAxisLabels: [0, 4, 8, 12],\n        yAxisRange: 12,\n      }\n    : {\n        width: 450,\n        height: 350,\n        padding: { top: 60, right: 40, bottom: 80, left: 60 },\n        dayWidth: 50,\n        fontSize: {\n          yAxis: 14,\n          yAxisTitle: 16,\n          timeLabel: 12,\n          dayLabel: 12,\n          dateLabel: 12,\n        },\n        barWidth: 8,\n        yAxisLabels: [0, 4, 8, 12],\n        yAxisRange: 12,\n      };\n  \n  return (\n    <div className=\"glucose-svg-container\">\n      <h3 className=\"chart-title\">Blood Glucose</h3>\n      {monthLabel && <h4 className=\"chart-subtitle\">{monthLabel}</h4>}\n      <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${config.width} ${config.height}`} className=\"glucose-svg\">\n        <rect width={config.width} height={config.height} fill=\"white\" />\n        <XAxisAndGrid config={config} startOfWeek={startOfWeek} />\n        <SharedYAxis config={config} title=\"mmol/L\" />\n        <DataPoints weekData={weekData} config={config} onBarHover={onBarHover} onBarLeave={onBarLeave} />\n      </svg>\n    </div>\n  );\n};\n\n// --- Main Component ---\nconst GlucoseChart = ({ patientId, isExpanded = false, onExpand, viewMode = 'patient', navigation, screenshotMode = false, showThreeMonthSummaries = false }) => {\n  const healthRangeLegendItems = [\n    { label: 'Above range', color: RANGE_COLORS['above range'] },\n    { label: 'In range', color: RANGE_COLORS['in range'] },\n    { label: 'Below range', color: RANGE_COLORS['below range'] }\n  ];\n\n  const mealTimeLegendItems = [\n    { \n      label: 'Pre-meal', \n      shape: 'outlined',\n      shapeStyle: { borderColor: 'var(--chart-color-text-secondary)' },\n      description: 'Blood glucose measurements taken before meals'\n    },\n    { \n      label: 'Post-meal', \n      shape: 'filled',\n      shapeStyle: { backgroundColor: 'var(--chart-color-text-secondary)' },\n      description: 'Blood glucose measurements taken after meals'\n    },\n  ];\n  const { glucoseData, loading, error } = usePatientData(patientId, 'glucose');\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n  const containerRef = useRef(null);\n\n  // Use navigation from parent or fallback to internal navigation\n  const useInternalNavigation = !navigation;\n  const internalNavigation = useChartNavigation('glucose');\n  const nav = navigation || internalNavigation;\n\n\n\n  const { start: startOfWeek, end: endOfWeek } = nav.getDateRange();\n  const weekData = glucoseData.filter(d => d.date >= startOfWeek && d.date <= endOfWeek);\n\n  // Get 3-month data\n  const { start: startOfThreeMonths, end: endOfThreeMonths } = nav.getThreeMonthRange();\n  const threeMonthData = glucoseData.filter(d => d.date >= startOfThreeMonths && d.date <= endOfThreeMonths);\n\n  // Calculate summary statistics for physician view\n  let weekSummary = null;\n  if (weekData.length > 0) {\n    const readings = weekData.filter(d => d.value && d.value > 0);\n    const preMealReadings = readings.filter(d => d.measurementType === 'Pre meal');\n    const postMealReadings = readings.filter(d => d.measurementType === 'Post meal');\n\n    const avgGlucose = readings.length > 0 ? \n      (readings.reduce((sum, val) => sum + val.value, 0) / readings.length).toFixed(1) : 0;\n    \n    const avgPreMeal = preMealReadings.length > 0 ? \n      (preMealReadings.reduce((sum, val) => sum + val.value, 0) / preMealReadings.length).toFixed(1) : 0;\n    \n    const avgPostMeal = postMealReadings.length > 0 ? \n      (postMealReadings.reduce((sum, val) => sum + val.value, 0) / postMealReadings.length).toFixed(1) : 0;\n\n    const highReadings = readings.filter(d => d.range.toLowerCase() === 'above range').length;\n    const lowReadings = readings.filter(d => d.range.toLowerCase() === 'below range').length;\n    const inRangeReadings = readings.filter(d => d.range.toLowerCase() === 'in range').length;\n\n    const rangePercentage = readings.length > 0 ? \n      ((inRangeReadings / readings.length) * 100).toFixed(0) : 0;\n\n    const daysWithReadings = new Set(weekData.map(d => d.date.toDateString())).size;\n\n    weekSummary = {\n      avgGlucose,\n      avgPreMeal,\n      avgPostMeal,\n      highReadings,\n      lowReadings,\n      inRangeReadings,\n      rangePercentage,\n      daysWithReadings,\n      totalReadings: readings.length\n    };\n  }\n\n  // Calculate 3-month summary statistics for physician view\n  let threeMonthSummary = null;\n  if (threeMonthData.length > 0) {\n\n    const readings = threeMonthData.filter(d => d.value && d.value > 0);\n    const preMealReadings = readings.filter(d => d.measurementType === 'Pre meal');\n    const postMealReadings = readings.filter(d => d.measurementType === 'Post meal');\n\n    const avgGlucose = readings.length > 0 ? \n      (readings.reduce((sum, val) => sum + val.value, 0) / readings.length).toFixed(1) : 0;\n    \n    const avgPreMeal = preMealReadings.length > 0 ? \n      (preMealReadings.reduce((sum, val) => sum + val.value, 0) / preMealReadings.length).toFixed(1) : 0;\n    \n    const avgPostMeal = postMealReadings.length > 0 ? \n      (postMealReadings.reduce((sum, val) => sum + val.value, 0) / postMealReadings.length).toFixed(1) : 0;\n\n    const highReadings = readings.filter(d => d.range.toLowerCase() === 'above range').length;\n    const lowReadings = readings.filter(d => d.range.toLowerCase() === 'below range').length;\n    const inRangeReadings = readings.filter(d => d.range.toLowerCase() === 'in range').length;\n\n    const rangePercentage = readings.length > 0 ? \n      ((inRangeReadings / readings.length) * 100).toFixed(0) : 0;\n\n    const daysWithReadings = new Set(threeMonthData.map(d => d.date.toDateString())).size;\n\n    threeMonthSummary = {\n      avgGlucose,\n      avgPreMeal,\n      avgPostMeal,\n      highReadings,\n      lowReadings,\n      inRangeReadings,\n      rangePercentage,\n      daysWithReadings,\n      totalReadings: readings.length\n    };\n  }\n\n  const formatDateRange = (start, end) => {\n    const startStr = start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n    const endStr = end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n    return `${startStr} to ${endStr}`;\n  };\n\n  const handleBarHover = (data) => {\n    setTooltipData(data);\n    setTooltipPosition(data.position);\n  };\n\n  const handleBarLeave = () => {\n    setTooltipData(null);\n  };\n\n  return (\n    <>\n      <div className=\"glucose-chart-container\" ref={containerRef}>\n        <div className={`glucose-chart-wrapper ${isExpanded ? 'expanded' : ''}`}>\n                  <Chart \n          weekData={weekData} \n          isExpanded={isExpanded} \n          startOfWeek={startOfWeek} \n          onBarHover={handleBarHover} \n          onBarLeave={handleBarLeave} \n          monthLabel={nav.getFormattedDateRange()}\n        />\n        </div>\n        <div className=\"glucose-legends-wrapper\">\n          <Legend title=\"Health Range\" items={healthRangeLegendItems} hide={screenshotMode} />\n          <Legend title=\"Prandial State\" items={mealTimeLegendItems} hide={screenshotMode} />\n        </div>\n        \n        {/* Show InfoBox for patient view, summary for physician/unified view */}\n        {(viewMode === 'physician' || viewMode === 'unified') && weekSummary ? (\n          <>\n            <InfoBox \n              title=\"Blood Glucose Information\"\n              content=\"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range.\"\n            />\n            <div className=\"summary-container\">\n              <div className=\"chart-summary\">\n                <h4>Week Summary</h4>\n                <div className=\"summary-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Average Glucose:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.avgGlucose} mmol/L\n                    </span>\n                  </div>\n\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Readings In Range:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.rangePercentage}% ({weekSummary.inRangeReadings}/{weekSummary.totalReadings})\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">High/Low Readings:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.highReadings} high, {weekSummary.lowReadings} low\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Reading Days:</span>\n                    <span className=\"stat-value\">\n                      {weekSummary.daysWithReadings}/7 days\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {showThreeMonthSummaries && threeMonthSummary && (\n                <div className=\"chart-summary\">\n                  <h4>3-Month Summary</h4>\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Average Glucose:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.avgGlucose} mmol/L\n                      </span>\n                    </div>\n\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Readings In Range:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.rangePercentage}% ({threeMonthSummary.inRangeReadings}/{threeMonthSummary.totalReadings})\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">High/Low Readings:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.highReadings} high, {threeMonthSummary.lowReadings} low\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-label\">Reading Days:</span>\n                      <span className=\"stat-value\">\n                        {threeMonthSummary.daysWithReadings} days\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          <InfoBox \n            title=\"Blood Glucose Information\"\n            content=\"For pre-prandial (before meals) blood sugar, the target range is 4.0 to 7.0 mmol/L. A reading within this range is considered in range. A reading below 4.0 mmol/L is below range, while a reading above 7.0 mmol/L is out of range. For 2-hour post-prandial (after eating) blood sugar, the target range is 5.0 to 10.0 mmol/L. A reading within this range is considered in range. A reading below 5.0 mmol/L is below range, while a reading above 10.0 mmol/L is out of range.\"\n          />\n        )}\n      </div>\n      \n      {/* Custom Tooltip */}\n      <Tooltip\n        isVisible={!!tooltipData}\n        content={tooltipData && (\n          <div>\n            <div className=\"tooltip-title\">Blood Glucose</div>\n            <div className=\"tooltip-value\">{tooltipData.value} {tooltipData.unit}</div>\n            <div className={`tooltip-range ${tooltipData.range.toLowerCase().replace(' ', '-')}`}>\n              {tooltipData.range}\n            </div>\n            <div className=\"tooltip-time\">{tooltipData.measurementType} - {tooltipData.time}</div>\n            <div className=\"tooltip-date\">{tooltipData.date}</div>\n          </div>\n        )}\n        position={tooltipPosition}\n      />\n    </>\n  );\n};\n\nexport default GlucoseChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}