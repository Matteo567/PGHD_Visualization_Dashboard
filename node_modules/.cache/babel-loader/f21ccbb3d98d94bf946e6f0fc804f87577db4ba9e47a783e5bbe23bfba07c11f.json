{"ast":null,"code":"import React,{useState}from'react';import usePatientData from'./hooks/usePatientData';import useVisualizations from'./hooks/useVisualizations';import'./PatientDashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PatientDashboard=_ref=>{var _patientInfo$conditio,_patientInfo$detailed;let{patientId}=_ref;const{data,loading,error}=usePatientData(patientId);const{allVisualizations,availableVisualizations,selectedVisualizations,handleVisualizationChange}=useVisualizations('patient',data);const[expandedBox,setExpandedBox]=useState(null);const handleExpand=boxId=>{setExpandedBox(prev=>prev===boxId?null:boxId);};const renderVisualization=(visualizationType,boxId)=>{const viz=allVisualizations[visualizationType];if(!viz)return/*#__PURE__*/_jsx(\"div\",{children:\"Invalid visualization\"});const Component=viz.component;const isExpanded=expandedBox===boxId;return/*#__PURE__*/_jsx(Component,{patientId:patientId,isExpanded:isExpanded,onExpand:()=>handleExpand(boxId),viewMode:\"patient\"});};const VisualizationBox=_ref2=>{let{boxId,className,isExpanded=false}=_ref2;const selectedViz=selectedVisualizations[boxId];const viz=allVisualizations[selectedViz];return/*#__PURE__*/_jsxs(\"div\",{className:\"visualization-box \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"visualization-header\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedViz,onChange:e=>handleVisualizationChange(boxId,e.target.value),style:{color:(viz===null||viz===void 0?void 0:viz.color)||'#2c3e50'},children:Object.entries(availableVisualizations).map(_ref3=>{let[key,viz]=_ref3;return/*#__PURE__*/_jsx(\"option\",{value:key,children:viz.name},key);})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleExpand(boxId),className:\"expand-button\",children:expandedBox===boxId?'Collapse':'Expand'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"visualization-content\",children:renderVisualization(selectedViz,boxId)})]});};const patientInfo=data===null||data===void 0?void 0:data.patientInfo;if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading patient data...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error-screen\",children:[\"Error: \",error]});const isExpanded=!!expandedBox;return/*#__PURE__*/_jsxs(\"div\",{className:\"patient-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Patient Information\"}),patientInfo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Patient #:\"}),\" \",patientInfo.patientNumber]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Age:\"}),\" \",patientInfo.age,\" years\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Gender:\"}),\" \",patientInfo.gender||'Not specified']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Data Available:\"}),\" \",patientInfo.dataAvailable]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"conditions-section\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Conditions:\"}),(_patientInfo$conditio=patientInfo.conditions)!==null&&_patientInfo$conditio!==void 0&&_patientInfo$conditio.length?/*#__PURE__*/_jsx(\"div\",{className:\"conditions-list\",children:patientInfo.conditions.map((condition,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"condition-item\",children:condition},i))}):/*#__PURE__*/_jsx(\"span\",{children:\" No conditions recorded.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"medications-section\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Current Medications:\"}),(_patientInfo$detailed=patientInfo.detailedMedications)!==null&&_patientInfo$detailed!==void 0&&_patientInfo$detailed.length?/*#__PURE__*/_jsx(\"div\",{className:\"medications-list\",children:patientInfo.detailedMedications.map((med,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"medication-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"medication-name\",children:med.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"medication-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"medication-schedule\",children:med.schedule}),med.category&&/*#__PURE__*/_jsxs(\"span\",{className:\"medication-category\",children:[\"\\u2022 \",med.category]})]}),med.dosage&&/*#__PURE__*/_jsx(\"div\",{className:\"medication-dosage\",children:med.dosage})]},i))}):/*#__PURE__*/_jsx(\"span\",{children:\" No medications recorded.\"})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No patient data found.\"})]}),isExpanded?/*#__PURE__*/_jsx(VisualizationBox,{boxId:expandedBox,className:\"expanded-view\",isExpanded:true}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsx(VisualizationBox,{boxId:\"box1\",className:\"visualization-box-1\"}),/*#__PURE__*/_jsx(VisualizationBox,{boxId:\"box2\",className:\"visualization-box-2\"}),/*#__PURE__*/_jsx(VisualizationBox,{boxId:\"box3\",className:\"visualization-box-3\"})]})})]});};export default PatientDashboard;","map":{"version":3,"names":["React","useState","usePatientData","useVisualizations","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PatientDashboard","_ref","_patientInfo$conditio","_patientInfo$detailed","patientId","data","loading","error","allVisualizations","availableVisualizations","selectedVisualizations","handleVisualizationChange","expandedBox","setExpandedBox","handleExpand","boxId","prev","renderVisualization","visualizationType","viz","children","Component","component","isExpanded","onExpand","viewMode","VisualizationBox","_ref2","className","selectedViz","concat","value","onChange","e","target","style","color","Object","entries","map","_ref3","key","name","onClick","patientInfo","patientNumber","age","gender","dataAvailable","conditions","length","condition","i","detailedMedications","med","schedule","category","dosage"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/PatientDashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport usePatientData from './hooks/usePatientData';\nimport useVisualizations from './hooks/useVisualizations';\nimport './PatientDashboard.css';\n\nconst PatientDashboard = ({ patientId }) => {\n  const { data, loading, error } = usePatientData(patientId);\n  const { \n    allVisualizations, \n    availableVisualizations, \n    selectedVisualizations, \n    handleVisualizationChange \n  } = useVisualizations('patient', data);\n  \n  const [expandedBox, setExpandedBox] = useState(null);\n\n  const handleExpand = (boxId) => {\n    setExpandedBox(prev => (prev === boxId ? null : boxId));\n  };\n\n  const renderVisualization = (visualizationType, boxId) => {\n    const viz = allVisualizations[visualizationType];\n    if (!viz) return <div>Invalid visualization</div>;\n\n    const Component = viz.component;\n    const isExpanded = expandedBox === boxId;\n    return <Component \n      patientId={patientId} \n      isExpanded={isExpanded} \n      onExpand={() => handleExpand(boxId)}\n      viewMode=\"patient\"\n    />;\n  };\n\n  const VisualizationBox = ({ boxId, className, isExpanded = false }) => {\n    const selectedViz = selectedVisualizations[boxId];\n    const viz = allVisualizations[selectedViz];\n    \n    return (\n      <div className={`visualization-box ${className}`}>\n        <div className=\"visualization-header\">\n          <select \n            value={selectedViz}\n            onChange={(e) => handleVisualizationChange(boxId, e.target.value)}\n            style={{ color: viz?.color || '#2c3e50' }}\n          >\n            {Object.entries(availableVisualizations).map(([key, viz]) => (\n              <option key={key} value={key}>{viz.name}</option>\n            ))}\n          </select>\n          <button onClick={() => handleExpand(boxId)} className=\"expand-button\">\n            {expandedBox === boxId ? 'Collapse' : 'Expand'}\n          </button>\n        </div>\n        <div className=\"visualization-content\">\n          {renderVisualization(selectedViz, boxId)}\n        </div>\n      </div>\n    );\n  };\n\n  const patientInfo = data?.patientInfo;\n\n  if (loading) return <div className=\"loading-screen\">Loading patient data...</div>;\n  if (error) return <div className=\"error-screen\">Error: {error}</div>;\n\n  const isExpanded = !!expandedBox;\n\n  return (\n    <div className=\"patient-dashboard\">\n      <div className=\"patient-info-card\">\n        <h3>Patient Information</h3>\n        {patientInfo ? (\n          <>\n            <div>\n              <div><span>Patient #:</span> {patientInfo.patientNumber}</div>\n              <div><span>Age:</span> {patientInfo.age} years</div>\n              <div><span>Gender:</span> {patientInfo.gender || 'Not specified'}</div>\n              <div><span>Data Available:</span> {patientInfo.dataAvailable}</div>\n            </div>\n            \n            <div className=\"conditions-section\">\n              <span>Conditions:</span>\n              {patientInfo.conditions?.length ? (\n                <div className=\"conditions-list\">\n                  {patientInfo.conditions.map((condition, i) => (\n                    <div key={i} className=\"condition-item\">{condition}</div>\n                  ))}\n                </div>\n              ) : (\n                <span> No conditions recorded.</span>\n              )}\n            </div>\n\n            <div className=\"medications-section\">\n              <span>Current Medications:</span>\n              {patientInfo.detailedMedications?.length ? (\n                <div className=\"medications-list\">\n                  {patientInfo.detailedMedications.map((med, i) => (\n                    <div key={i} className=\"medication-item\">\n                      <div className=\"medication-name\">{med.name}</div>\n                      <div className=\"medication-details\">\n                        <span className=\"medication-schedule\">{med.schedule}</span>\n                        {med.category && <span className=\"medication-category\">â€¢ {med.category}</span>}\n                      </div>\n                      {med.dosage && <div className=\"medication-dosage\">{med.dosage}</div>}\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <span> No medications recorded.</span>\n              )}\n            </div>\n          </>\n        ) : (\n          <p>No patient data found.</p>\n        )}\n      </div>\n\n      {isExpanded ? (\n        <VisualizationBox \n          boxId={expandedBox}\n          className=\"expanded-view\"\n          isExpanded={true}\n        />\n      ) : (\n        <>\n          <div className=\"dashboard-grid\">\n            <VisualizationBox boxId=\"box1\" className=\"visualization-box-1\" />\n            <VisualizationBox boxId=\"box2\" className=\"visualization-box-2\" />\n            <VisualizationBox boxId=\"box3\" className=\"visualization-box-3\" />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default PatientDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}