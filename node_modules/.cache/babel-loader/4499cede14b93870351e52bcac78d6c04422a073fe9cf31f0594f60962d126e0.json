{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local\\\\MCC_digital_health_data_visualizations\\\\src\\\\components\\\\patient_charts\\\\SleepChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport ChartContainer from '../ChartContainer';\nimport usePatientData from '../../hooks/usePatientData';\nimport Legend from '../Legend';\nimport './SleepChart.css';\nimport '../ChartStyles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SleepChart = ({\n  patientId,\n  isExpanded,\n  onExpand,\n  viewMode = 'patient'\n}) => {\n  _s();\n  const {\n    sleepData,\n    loading,\n    error\n  } = usePatientData(patientId, 'sleep');\n  const [weekOffset, setWeekOffset] = useState(0);\n  const handlePrevWeek = () => setWeekOffset(prev => prev + 1);\n  const handleNextWeek = () => setWeekOffset(prev => Math.max(0, prev - 1));\n  const getWeekData = () => {\n    if (!sleepData || sleepData.length === 0) return [];\n    const end = sleepData.length - weekOffset * 7;\n    const start = Math.max(0, end - 7);\n    return sleepData.slice(start, end);\n  };\n  const weekData = getWeekData();\n  const formatDateRange = data => {\n    if (!data || data.length === 0) return '';\n    const startDate = new Date(data[0].date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n    const endDate = new Date(data[data.length - 1].date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    });\n    return `${startDate} to ${endDate}`;\n  };\n  const qualityLevels = {\n    'Very good': 'var(--chart-color-sleep-very-good)',\n    'Fairly good': 'var(--chart-color-sleep-fairly-good)',\n    'Fairly bad': 'var(--chart-color-sleep-fairly-bad)',\n    'Very bad': 'var(--chart-color-sleep-very-bad)'\n  };\n  const getQualityColor = quality => qualityLevels[quality] || '#D3D3D3';\n  const legendItems = Object.entries(qualityLevels).map(([label, color]) => ({\n    label,\n    color\n  }));\n\n  // Calculate summary statistics for physician view\n  const weekSummary = useMemo(() => {\n    if (!weekData || weekData.length === 0) return null;\n    const totalHours = weekData.reduce((sum, day) => sum + day.hours, 0);\n    const avgHours = (totalHours / weekData.length).toFixed(1);\n\n    // Count quality levels\n    const qualityCounts = {};\n    Object.keys(qualityLevels).forEach(quality => {\n      qualityCounts[quality] = 0;\n    });\n    weekData.forEach(day => {\n      if (qualityCounts[day.quality] !== undefined) {\n        qualityCounts[day.quality]++;\n      }\n    });\n\n    // Find most common quality\n    const mostCommonQuality = Object.entries(qualityCounts).sort(([, a], [, b]) => b - a)[0];\n\n    // Calculate sleep consistency (how much variation in sleep hours)\n    const hourVariations = weekData.map(day => Math.abs(day.hours - parseFloat(avgHours)));\n    const avgVariation = (hourVariations.reduce((sum, v) => sum + v, 0) / hourVariations.length).toFixed(1);\n\n    // Sleep quality score (Very good=4, Fairly good=3, Fairly bad=2, Very bad=1)\n    const qualityScores = {\n      'Very good': 4,\n      'Fairly good': 3,\n      'Fairly bad': 2,\n      'Very bad': 1\n    };\n    const avgQualityScore = weekData.reduce((sum, day) => sum + (qualityScores[day.quality] || 0), 0) / weekData.length;\n    const qualityAssessment = avgQualityScore >= 3.5 ? 'Good' : avgQualityScore >= 2.5 ? 'Fair' : 'Poor';\n\n    // Count nights with adequate sleep (7+ hours)\n    const adequateSleepNights = weekData.filter(day => day.hours >= 7).length;\n    return {\n      totalHours: totalHours.toFixed(1),\n      avgHours,\n      mostCommonQuality: mostCommonQuality[0],\n      mostCommonQualityCount: mostCommonQuality[1],\n      avgVariation,\n      qualityAssessment,\n      adequateSleepNights,\n      daysTracked: weekData.length\n    };\n  }, [weekData]);\n  return /*#__PURE__*/_jsxDEV(ChartContainer, {\n    title: \"Sleep\",\n    icon: \"\\uD83D\\uDE34\",\n    isLoading: loading,\n    error: error,\n    noData: !weekData || weekData.length === 0,\n    onPrev: handlePrevWeek,\n    onNext: handleNextWeek,\n    navigationLabel: formatDateRange(weekData),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sleep-chart-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sleep-chart\",\n        children: weekData.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sleep-day\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sleep-quality-indicator-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sleep-quality-indicator\",\n              style: {\n                backgroundColor: getQualityColor(day.quality)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bed-icon-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 486.5 225.1\",\n              className: \"bed-icon\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M471.9,68.9c-8,0-14.5,6.5-14.5,14.5v68.6H26.1l-.6-139.3c0-7-5.8-12.7-12.8-12.7h0C5.7,0,0,5.7,0,12.8v199.6c0,7,5.7,12.8,12.7,12.8s12.8-5.7,12.8-12.8v-37h431.9v35.2c0,8,6.5,14.5,14.5,14.5s14.5-6.5,14.5-14.5v-127.1c0-8-6.5-14.5-14.5-14.5ZM483.7,210.6c0,6.5-5.3,11.8-11.8,11.8s-11.8-5.3-11.8-11.8v-38H22.7v39.7c0,5.5-4.5,10-10,10s-10-4.5-10-10V12.8C2.8,7.3,7.3,2.8,12.7,2.8h0c5.5,0,9.9,4.5,10,9.9l.6,142.1h436.8v-71.4c0-6.5,5.3-11.7,11.8-11.7s11.8,5.3,11.8,11.7v127.1Z\",\n                fill: \"#D2B48C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M29.9,94.2v54.5h425.4v-54.5H29.9ZM452.5,145.9H32.7v-48.9h419.8v48.9Z\",\n                fill: \"#e0e0e0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"32.7\",\n                y: \"97\",\n                width: `${day.hours / 10 * 419.8}`,\n                height: \"48.9\",\n                fill: \"#FF4500\",\n                className: \"sleep-fill-rect\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M112.8,46.3h-55.4c-12.1,0-22,9.9-22,22s9.9,22,22,22h55.4c12.1,0,22-9.9,22-22s-9.9-22-22-22ZM112.8,87.5h-55.4c-10.6,0-19.2-8.6-19.2-19.2s8.6-19.2,19.2-19.2h55.4c10.6,0,19.2,8.6,19.2,19.2s-8.6,19.2-19.2,19.2Z\",\n                fill: \"#FFFFFF\",\n                stroke: \"#AAAAAA\",\n                strokeWidth: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sleep-hours\",\n            children: [day.hours.toFixed(1), \"h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"day-label\",\n            children: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][new Date(day.date).getDay()]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), viewMode === 'physician' && weekSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Week Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Average Sleep:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.avgHours, \" hours/night\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Total Sleep:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.totalHours, \" hours\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Sleep Consistency:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [\"\\xB1\", weekSummary.avgVariation, \" hours variation\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Adequate Sleep:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.adequateSleepNights, \"/\", weekSummary.daysTracked, \" nights (7+ hrs)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Common Quality:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [weekSummary.mostCommonQuality, \" (\", weekSummary.mostCommonQualityCount, \"x)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Overall Assessment:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `stat-value ${weekSummary.qualityAssessment.toLowerCase()}`,\n              children: weekSummary.qualityAssessment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(SleepChart, \"9Myfig1CW+OYgcvC5KGmt0hFuHA=\", false, function () {\n  return [usePatientData];\n});\n_c = SleepChart;\nexport default SleepChart;\nvar _c;\n$RefreshReg$(_c, \"SleepChart\");","map":{"version":3,"names":["React","useState","useMemo","ChartContainer","usePatientData","Legend","jsxDEV","_jsxDEV","SleepChart","patientId","isExpanded","onExpand","viewMode","_s","sleepData","loading","error","weekOffset","setWeekOffset","handlePrevWeek","prev","handleNextWeek","Math","max","getWeekData","length","end","start","slice","weekData","formatDateRange","data","startDate","Date","date","toLocaleDateString","month","day","endDate","qualityLevels","getQualityColor","quality","legendItems","Object","entries","map","label","color","weekSummary","totalHours","reduce","sum","hours","avgHours","toFixed","qualityCounts","keys","forEach","undefined","mostCommonQuality","sort","a","b","hourVariations","abs","parseFloat","avgVariation","v","qualityScores","avgQualityScore","qualityAssessment","adequateSleepNights","filter","mostCommonQualityCount","daysTracked","title","icon","isLoading","noData","onPrev","onNext","navigationLabel","children","className","index","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","d","fill","x","y","width","height","stroke","strokeWidth","getDay","toLowerCase","_c","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/components/patient_charts/SleepChart.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport ChartContainer from '../ChartContainer';\r\nimport usePatientData from '../../hooks/usePatientData';\r\nimport Legend from '../Legend';\r\nimport './SleepChart.css';\r\nimport '../ChartStyles.css';\r\n\r\nconst SleepChart = ({ patientId, isExpanded, onExpand, viewMode = 'patient' }) => {\r\n  const { sleepData, loading, error } = usePatientData(patientId, 'sleep');\r\n  const [weekOffset, setWeekOffset] = useState(0);\r\n\r\n  const handlePrevWeek = () => setWeekOffset(prev => prev + 1);\r\n  const handleNextWeek = () => setWeekOffset(prev => Math.max(0, prev - 1));\r\n\r\n  const getWeekData = () => {\r\n    if (!sleepData || sleepData.length === 0) return [];\r\n    const end = sleepData.length - (weekOffset * 7);\r\n    const start = Math.max(0, end - 7);\r\n    return sleepData.slice(start, end);\r\n  };\r\n\r\n  const weekData = getWeekData();\r\n\r\n  const formatDateRange = (data) => {\r\n    if (!data || data.length === 0) return '';\r\n    const startDate = new Date(data[0].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    const endDate = new Date(data[data.length - 1].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    return `${startDate} to ${endDate}`;\r\n  };\r\n\r\n  const qualityLevels = {\r\n    'Very good': 'var(--chart-color-sleep-very-good)',\r\n    'Fairly good': 'var(--chart-color-sleep-fairly-good)',\r\n    'Fairly bad': 'var(--chart-color-sleep-fairly-bad)',\r\n    'Very bad': 'var(--chart-color-sleep-very-bad)',\r\n  };\r\n\r\n  const getQualityColor = (quality) => qualityLevels[quality] || '#D3D3D3';\r\n\r\n  const legendItems = Object.entries(qualityLevels).map(([label, color]) => ({\r\n    label,\r\n    color,\r\n  }));\r\n\r\n  // Calculate summary statistics for physician view\r\n  const weekSummary = useMemo(() => {\r\n    if (!weekData || weekData.length === 0) return null;\r\n\r\n    const totalHours = weekData.reduce((sum, day) => sum + day.hours, 0);\r\n    const avgHours = (totalHours / weekData.length).toFixed(1);\r\n\r\n    // Count quality levels\r\n    const qualityCounts = {};\r\n    Object.keys(qualityLevels).forEach(quality => {\r\n      qualityCounts[quality] = 0;\r\n    });\r\n\r\n    weekData.forEach(day => {\r\n      if (qualityCounts[day.quality] !== undefined) {\r\n        qualityCounts[day.quality]++;\r\n      }\r\n    });\r\n\r\n    // Find most common quality\r\n    const mostCommonQuality = Object.entries(qualityCounts)\r\n      .sort(([,a], [,b]) => b - a)[0];\r\n\r\n    // Calculate sleep consistency (how much variation in sleep hours)\r\n    const hourVariations = weekData.map(day => Math.abs(day.hours - parseFloat(avgHours)));\r\n    const avgVariation = (hourVariations.reduce((sum, v) => sum + v, 0) / hourVariations.length).toFixed(1);\r\n\r\n    // Sleep quality score (Very good=4, Fairly good=3, Fairly bad=2, Very bad=1)\r\n    const qualityScores = {\r\n      'Very good': 4,\r\n      'Fairly good': 3,\r\n      'Fairly bad': 2,\r\n      'Very bad': 1\r\n    };\r\n    const avgQualityScore = weekData.reduce((sum, day) => sum + (qualityScores[day.quality] || 0), 0) / weekData.length;\r\n    const qualityAssessment = avgQualityScore >= 3.5 ? 'Good' : avgQualityScore >= 2.5 ? 'Fair' : 'Poor';\r\n\r\n    // Count nights with adequate sleep (7+ hours)\r\n    const adequateSleepNights = weekData.filter(day => day.hours >= 7).length;\r\n\r\n    return {\r\n      totalHours: totalHours.toFixed(1),\r\n      avgHours,\r\n      mostCommonQuality: mostCommonQuality[0],\r\n      mostCommonQualityCount: mostCommonQuality[1],\r\n      avgVariation,\r\n      qualityAssessment,\r\n      adequateSleepNights,\r\n      daysTracked: weekData.length\r\n    };\r\n  }, [weekData]);\r\n\r\n  return (\r\n    <ChartContainer\r\n      title=\"Sleep\"\r\n      icon=\"😴\"\r\n      isLoading={loading}\r\n      error={error}\r\n      noData={!weekData || weekData.length === 0}\r\n      onPrev={handlePrevWeek}\r\n      onNext={handleNextWeek}\r\n      navigationLabel={formatDateRange(weekData)}\r\n    >\r\n      <div className=\"sleep-chart-content\">\r\n        <div className=\"sleep-chart\">\r\n          {weekData.map((day, index) => (\r\n          <div key={index} className=\"sleep-day\">\r\n            <div className=\"sleep-quality-indicator-wrapper\">\r\n                <div \r\n                    className=\"sleep-quality-indicator\"\r\n                    style={{ backgroundColor: getQualityColor(day.quality) }}\r\n                ></div>\r\n            </div>\r\n            <div className=\"bed-icon-wrapper\">\r\n              <svg viewBox=\"0 0 486.5 225.1\" className=\"bed-icon\">\r\n                <path d=\"M471.9,68.9c-8,0-14.5,6.5-14.5,14.5v68.6H26.1l-.6-139.3c0-7-5.8-12.7-12.8-12.7h0C5.7,0,0,5.7,0,12.8v199.6c0,7,5.7,12.8,12.7,12.8s12.8-5.7,12.8-12.8v-37h431.9v35.2c0,8,6.5,14.5,14.5,14.5s14.5-6.5,14.5-14.5v-127.1c0-8-6.5-14.5-14.5-14.5ZM483.7,210.6c0,6.5-5.3,11.8-11.8,11.8s-11.8-5.3-11.8-11.8v-38H22.7v39.7c0,5.5-4.5,10-10,10s-10-4.5-10-10V12.8C2.8,7.3,7.3,2.8,12.7,2.8h0c5.5,0,9.9,4.5,10,9.9l.6,142.1h436.8v-71.4c0-6.5,5.3-11.7,11.8-11.7s11.8,5.3,11.8,11.7v127.1Z\" fill=\"#D2B48C\"/>\r\n                <path d=\"M29.9,94.2v54.5h425.4v-54.5H29.9ZM452.5,145.9H32.7v-48.9h419.8v48.9Z\" fill=\"#e0e0e0\"/>\r\n                <rect x=\"32.7\" y=\"97\" width={`${(day.hours / 10) * 419.8}`} height=\"48.9\" fill=\"#FF4500\" className=\"sleep-fill-rect\" />\r\n                <path d=\"M112.8,46.3h-55.4c-12.1,0-22,9.9-22,22s9.9,22,22,22h55.4c12.1,0,22-9.9,22-22s-9.9-22-22-22ZM112.8,87.5h-55.4c-10.6,0-19.2-8.6-19.2-19.2s8.6-19.2,19.2-19.2h55.4c10.6,0,19.2,8.6,19.2,19.2s-8.6,19.2-19.2,19.2Z\" fill=\"#FFFFFF\" stroke=\"#AAAAAA\" strokeWidth=\"1\"/>\r\n              </svg>\r\n            </div>\r\n            <div className=\"sleep-hours\">{day.hours.toFixed(1)}h</div>\r\n            <div className=\"day-label\">{['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][new Date(day.date).getDay()]}</div>\r\n          </div>\r\n        ))}\r\n        </div>\r\n\r\n        {/* Show summary for physician view only */}\r\n        {viewMode === 'physician' && weekSummary && (\r\n          <div className=\"chart-summary\">\r\n            <h4>Week Summary</h4>\r\n            <div className=\"summary-stats\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Average Sleep:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.avgHours} hours/night\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Total Sleep:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.totalHours} hours\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Sleep Consistency:</span>\r\n                <span className=\"stat-value\">\r\n                  ±{weekSummary.avgVariation} hours variation\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Adequate Sleep:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.adequateSleepNights}/{weekSummary.daysTracked} nights (7+ hrs)\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Common Quality:</span>\r\n                <span className=\"stat-value\">\r\n                  {weekSummary.mostCommonQuality} ({weekSummary.mostCommonQualityCount}x)\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Overall Assessment:</span>\r\n                <span className={`stat-value ${weekSummary.qualityAssessment.toLowerCase()}`}>\r\n                  {weekSummary.qualityAssessment}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </ChartContainer>\r\n  );\r\n};\r\n\r\nexport default SleepChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}