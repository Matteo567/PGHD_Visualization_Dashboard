{"ast":null,"code":"/*\n useVisualizations.js - Visualization Management Hook\n \n This hook manages the visualization system across dashboard types by creating and\n maintaining visualization component registry, determining available visualizations\n based on data availability, managing visualization selection and ordering, and\n supporting both patient and physician dashboard configurations.\n \n Architecture:\n - Uses React hooks for state management and memoization\n - Implements component registry pattern for dynamic rendering\n - Provides data-driven visualization availability\n - Supports multiple dashboard configurations\n \n Visualization Types:\n - glucose: Blood glucose monitoring charts\n - bloodPressure: Blood pressure tracking charts\n - exercise: Physical activity visualization\n - mood: Mood calendar and tracking\n - pain: Pain reporting with body mapping\n - mealContents: Nutritional intake tracking\n - sleep: Sleep pattern analysis\n \n Component Registry:\n - Maps visualization types to React components\n - Provides configuration for each visualization type\n - Handles component imports and lazy loading\n - Maintains consistent component interfaces\n \n Data Availability:\n - Checks data availability for each visualization type\n - Filters visualizations based on actual data presence\n - Provides fallback for missing data scenarios\n - Ensures only relevant visualizations are shown\n */\n\nimport React from 'react';\nimport { VISUALIZATION_CONFIG } from '../constants';\n\n// Import all chart components\nimport GlucoseChart from '../components/patient_charts/GlucoseChart';\nimport BloodPressureChart from '../components/patient_charts/BloodPressureChart';\nimport ExerciseChart from '../components/patient_charts/ExerciseChart';\nimport MoodCalendar from '../components/patient_charts/MoodCalendar';\nimport PainChart from '../components/patient_charts/PainChart';\nimport MealContentsChart from '../components/patient_charts/MealContentsChart';\nimport SleepChart from '../components/patient_charts/SleepChart';\n\n/*\n Simple hook for managing visualizations\n */\nconst useVisualizations = (viewMode, data) => {\n  // All available visualization types with their components\n  const allVisualizations = {\n    pain: {\n      ...VISUALIZATION_CONFIG.pain,\n      component: PainChart\n    },\n    bloodPressure: {\n      ...VISUALIZATION_CONFIG.bloodPressure,\n      component: BloodPressureChart\n    },\n    glucose: {\n      ...VISUALIZATION_CONFIG.glucose,\n      component: GlucoseChart\n    },\n    exercise: {\n      ...VISUALIZATION_CONFIG.exercise,\n      component: ExerciseChart\n    },\n    mealContents: {\n      ...VISUALIZATION_CONFIG.mealContents,\n      component: MealContentsChart\n    },\n    mood: {\n      ...VISUALIZATION_CONFIG.mood,\n      component: MoodCalendar\n    },\n    sleep: {\n      ...VISUALIZATION_CONFIG.sleep,\n      component: SleepChart\n    }\n  };\n\n  // Determine which visualizations have data available\n  const availableVisualizations = {};\n  if (data) {\n    const vizKeys = Object.keys(allVisualizations);\n    for (let i = 0; i < vizKeys.length; i++) {\n      const key = vizKeys[i];\n      const viz = allVisualizations[key];\n      const dataKey = `${key}Data`;\n\n      // Special case for meal contents\n      if (key === 'mealContents' && data['mealData'] && data['mealData'].length > 0) {\n        availableVisualizations[key] = viz;\n      } else if (data[dataKey] && data[dataKey].length > 0) {\n        availableVisualizations[key] = viz;\n      }\n    }\n  }\n\n  // Create selected visualizations mapping\n  const availableKeys = Object.keys(availableVisualizations);\n  const selectedVisualizations = {};\n  for (let i = 0; i < availableKeys.length; i++) {\n    const chartId = `${viewMode}-chart-${i}`;\n    selectedVisualizations[chartId] = availableKeys[i];\n  }\n  const handleVisualizationChange = (chartId, visualizationType) => {\n    // Visualization changes are handled automatically by showing all available visualizations\n    // This function is kept for API compatibility but is not actively used\n  };\n  return {\n    allVisualizations,\n    availableVisualizations,\n    selectedVisualizations,\n    handleVisualizationChange\n  };\n};\nexport default useVisualizations;","map":{"version":3,"names":["React","VISUALIZATION_CONFIG","GlucoseChart","BloodPressureChart","ExerciseChart","MoodCalendar","PainChart","MealContentsChart","SleepChart","useVisualizations","viewMode","data","allVisualizations","pain","component","bloodPressure","glucose","exercise","mealContents","mood","sleep","availableVisualizations","vizKeys","Object","keys","i","length","key","viz","dataKey","availableKeys","selectedVisualizations","chartId","handleVisualizationChange","visualizationType"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local Experimental/PGHD_Visualization_Dashboard/src/hooks/useVisualizations.js"],"sourcesContent":["/*\n useVisualizations.js - Visualization Management Hook\n \n This hook manages the visualization system across dashboard types by creating and\n maintaining visualization component registry, determining available visualizations\n based on data availability, managing visualization selection and ordering, and\n supporting both patient and physician dashboard configurations.\n \n Architecture:\n - Uses React hooks for state management and memoization\n - Implements component registry pattern for dynamic rendering\n - Provides data-driven visualization availability\n - Supports multiple dashboard configurations\n \n Visualization Types:\n - glucose: Blood glucose monitoring charts\n - bloodPressure: Blood pressure tracking charts\n - exercise: Physical activity visualization\n - mood: Mood calendar and tracking\n - pain: Pain reporting with body mapping\n - mealContents: Nutritional intake tracking\n - sleep: Sleep pattern analysis\n \n Component Registry:\n - Maps visualization types to React components\n - Provides configuration for each visualization type\n - Handles component imports and lazy loading\n - Maintains consistent component interfaces\n \n Data Availability:\n - Checks data availability for each visualization type\n - Filters visualizations based on actual data presence\n - Provides fallback for missing data scenarios\n - Ensures only relevant visualizations are shown\n */\n\nimport React from 'react';\nimport { VISUALIZATION_CONFIG } from '../constants';\n\n// Import all chart components\nimport GlucoseChart from '../components/patient_charts/GlucoseChart';\nimport BloodPressureChart from '../components/patient_charts/BloodPressureChart';\nimport ExerciseChart from '../components/patient_charts/ExerciseChart';\nimport MoodCalendar from '../components/patient_charts/MoodCalendar';\nimport PainChart from '../components/patient_charts/PainChart';\nimport MealContentsChart from '../components/patient_charts/MealContentsChart';\nimport SleepChart from '../components/patient_charts/SleepChart';\n\n/*\n Simple hook for managing visualizations\n */\nconst useVisualizations = (viewMode, data) => {\n  // All available visualization types with their components\n  const allVisualizations = {\n    pain: { ...VISUALIZATION_CONFIG.pain, component: PainChart },\n    bloodPressure: { ...VISUALIZATION_CONFIG.bloodPressure, component: BloodPressureChart },\n    glucose: { ...VISUALIZATION_CONFIG.glucose, component: GlucoseChart },\n    exercise: { ...VISUALIZATION_CONFIG.exercise, component: ExerciseChart },\n    mealContents: { ...VISUALIZATION_CONFIG.mealContents, component: MealContentsChart },\n    mood: { ...VISUALIZATION_CONFIG.mood, component: MoodCalendar },\n    sleep: { ...VISUALIZATION_CONFIG.sleep, component: SleepChart },\n  };\n\n  // Determine which visualizations have data available\n  const availableVisualizations = {};\n  if (data) {\n    const vizKeys = Object.keys(allVisualizations);\n    for (let i = 0; i < vizKeys.length; i++) {\n      const key = vizKeys[i];\n      const viz = allVisualizations[key];\n      const dataKey = `${key}Data`;\n      \n      // Special case for meal contents\n      if (key === 'mealContents' && data['mealData'] && data['mealData'].length > 0) {\n        availableVisualizations[key] = viz;\n      } else if (data[dataKey] && data[dataKey].length > 0) {\n        availableVisualizations[key] = viz;\n      }\n    }\n  }\n\n  // Create selected visualizations mapping\n  const availableKeys = Object.keys(availableVisualizations);\n  const selectedVisualizations = {};\n  for (let i = 0; i < availableKeys.length; i++) {\n    const chartId = `${viewMode}-chart-${i}`;\n    selectedVisualizations[chartId] = availableKeys[i];\n  }\n\n  const handleVisualizationChange = (chartId, visualizationType) => {\n    // Visualization changes are handled automatically by showing all available visualizations\n    // This function is kept for API compatibility but is not actively used\n  };\n\n  return {\n    allVisualizations,\n    availableVisualizations,\n    selectedVisualizations,\n    handleVisualizationChange\n  };\n};\n\nexport default useVisualizations;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}