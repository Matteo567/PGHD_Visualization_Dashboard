{"ast":null,"code":"/*\r\n HealthDashboard.js - Unified Health Dashboard Component\r\n \r\n This component provides a unified health dashboard that combines the best features\r\n from both patient and physician dashboards. It's designed to be used by both\r\n patients and healthcare providers with a clean, accessible interface.\r\n \r\n Features:\r\n - Patient information display with QR code access\r\n - Week summaries always visible for better health tracking\r\n - Toggle for 3-month summaries for long-term trend analysis\r\n - Exercise visualization with both activity breakdown and weekly goals\r\n - Clean, patient-friendly design with professional functionality\r\n - Screenshot mode support for documentation\r\n \r\n Architecture:\r\n - Uses custom hooks for data management, visualization handling, and navigation\r\n - Implements expandable chart views\r\n - Provides educational information for patients\r\n - Handles loading and error states gracefully\r\n - Includes summary statistics for comprehensive health monitoring\r\n \r\n Custom Hooks Used:\r\n - usePatientData: Manages patient data fetching and caching\r\n - useVisualizations: Handles visualization configuration and availability\r\n - useChartNavigation: Manages time-based navigation for each chart type\r\n \r\n Component Structure:\r\n - PatientInfoCard: Displays patient demographics and medication information\r\n - QR Code Section: Provides access to patient dashboard\r\n - Summary Toggle: Controls visibility of 3-month summaries\r\n - DashboardGrid: Renders the chart grid with navigation and expansion controls\r\n - Individual chart components for each health metric\r\n \r\n State Management:\r\n - Uses custom hooks for centralized state management\r\n - Handles chart expansion state\r\n - Manages navigation state for each chart type independently\r\n - Controls summary visibility with toggle state\r\n */import React from'react';import usePatientData from'./hooks/usePatientData';import useVisualizations from'./hooks/useVisualizations';import useChartNavigation from'./hooks/useChartNavigation';import useDashboardState from'./hooks/useDashboardState';import PatientInfoCard from'./components/PatientInfoCard';import DashboardGrid from'./components/DashboardGrid';import Placeholder from'./components/ui/Placeholder';import Switch from'./components/ui/Switch';import'./HealthDashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HealthDashboard=_ref=>{let{patientId,screenshotMode=false}=_ref;const{data,loading,error}=usePatientData(patientId);const{allVisualizations,availableVisualizations,selectedVisualizations,handleVisualizationChange}=useVisualizations('patient',data);// Use custom dashboard state hook\nconst{expandedChart,showThreeMonthSummaries,toggleChart,toggleThreeMonthSummaries}=useDashboardState();// Navigation for all charts\nconst sharedNavigation=useChartNavigation('glucose');// Default to 'week' navigation\nconst chartNavigation={glucose:sharedNavigation,bloodPressure:sharedNavigation,exercise:sharedNavigation,sleep:sharedNavigation,pain:sharedNavigation,mood:sharedNavigation,// Now use shared weekly navigation\nmealContents:sharedNavigation};// Render visualization with unified view mode\nconst renderVisualizationWithMode=(visualizationType,boxId)=>{if(!patientId){return/*#__PURE__*/_jsx(Placeholder,{message:\"Please select a patient to view data.\",type:\"select-patient\"});}const viz=allVisualizations[visualizationType];if(!viz){return/*#__PURE__*/_jsx(Placeholder,{message:\"Invalid visualization\",type:\"error\"});}const Component=viz.component;const isExpanded=expandedChart===boxId;const navigation=chartNavigation[visualizationType];return/*#__PURE__*/_jsx(Component,{patientId:patientId,isExpanded:isExpanded,onExpand:()=>toggleChart(boxId),viewMode:\"unified\"// New unified view mode\n,navigation:navigation,screenshotMode:screenshotMode,showThreeMonthSummaries:showThreeMonthSummaries// Pass summary toggle state\n});};const patientInfo=data===null||data===void 0?void 0:data.patientInfo;if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading patient data...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error-screen\",children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"health-dashboard\",children:[!screenshotMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(PatientInfoCard,{patientInfo:patientInfo,loading:loading,error:error,variant:\"unified\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"qr-code-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Access Health Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Scan QR code for quick access\"}),/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/Public_dashboard_QR_code.png\"),alt:\"QR Code for PGHD Dashboard\",className:\"qr-code-image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-toggle-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Summary Options\"}),/*#__PURE__*/_jsx(Switch,{checked:showThreeMonthSummaries,onChange:toggleThreeMonthSummaries,leftLabel:\"Week Only\",rightLabel:\"Include 3-Month\"}),/*#__PURE__*/_jsx(\"p\",{className:\"toggle-description\",children:showThreeMonthSummaries?\"Showing both week and 3-month summaries for comprehensive health tracking\":\"Showing week summaries only for focused current health monitoring\"})]})]})]}),/*#__PURE__*/_jsx(DashboardGrid,{viewMode:\"unified\",selectedVisualizations:selectedVisualizations,availableVisualizations:availableVisualizations,allVisualizations:allVisualizations,onVisualizationChange:handleVisualizationChange,onExpand:toggleChart,expandedItem:expandedChart,renderVisualization:renderVisualizationWithMode,chartNavigation:chartNavigation,screenshotMode:screenshotMode})]});};export default HealthDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}