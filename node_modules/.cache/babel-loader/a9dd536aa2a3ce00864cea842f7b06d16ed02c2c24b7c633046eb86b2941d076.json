{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matteo\\\\Working_Folder\\\\a. MCC Thesis Local\\\\MCC_digital_health_data_visualizations\\\\src\\\\components\\\\Legend.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport './ChartStyles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Legend = ({\n  title,\n  items,\n  orientation = 'horizontal',\n  // horizontal | vertical\n  size = 'medium',\n  // small | medium | large\n  containerWidth = null // Keep for backward compatibility, but will be overridden by auto-sizing\n}) => {\n  _s();\n  const legendRef = useRef(null);\n  const [parentWidth, setParentWidth] = useState(null);\n  useEffect(() => {\n    const updateWidth = () => {\n      if (legendRef.current) {\n        // Find the most specific chart container (prefer chart-specific containers over general ones)\n        const specificContainers = ['.chart-section',\n        // Blood pressure chart sections\n        '.bp-svg-container',\n        // Blood pressure SVG container\n        '.glucose-chart-wrapper',\n        // Glucose chart wrapper\n        '.exercise-chart-content',\n        // Exercise chart content\n        '.sleep-chart',\n        // Sleep chart container\n        '.pain-chart-wrapper',\n        // Pain chart wrapper\n        '.meal-chart-wrapper',\n        // Meal chart wrapper\n        '.mood-calendar-wrapper',\n        // Mood calendar wrapper\n        '.pain-line-chart-container' // Pain line chart container\n        ];\n        let parentContainer = null;\n        let containerWidth = 0;\n\n        // Try to find the most specific container first\n        for (const selector of specificContainers) {\n          const container = legendRef.current.closest(selector);\n          if (container) {\n            parentContainer = container;\n            // Get the content width excluding padding\n            const computedStyle = window.getComputedStyle(container);\n            const paddingLeft = parseFloat(computedStyle.paddingLeft) || 0;\n            const paddingRight = parseFloat(computedStyle.paddingRight) || 0;\n            containerWidth = container.offsetWidth - paddingLeft - paddingRight;\n            break;\n          }\n        }\n\n        // Fallback to general containers if no specific one found\n        if (!parentContainer) {\n          const generalContainers = ['.visualization-content', '.bp-chart-content', '.glucose-chart-container', '.exercise-chart-container', '.sleep-chart-content', '.pain-chart-container', '.meal-contents-chart-container', '.mood-calendar-container'];\n          for (const selector of generalContainers) {\n            const container = legendRef.current.closest(selector);\n            if (container) {\n              parentContainer = container;\n              // For general containers, use a more conservative width calculation\n              const computedStyle = window.getComputedStyle(container);\n              const paddingLeft = parseFloat(computedStyle.paddingLeft) || 0;\n              const paddingRight = parseFloat(computedStyle.paddingRight) || 0;\n              const marginLeft = parseFloat(computedStyle.marginLeft) || 0;\n              const marginRight = parseFloat(computedStyle.marginRight) || 0;\n              containerWidth = container.offsetWidth - paddingLeft - paddingRight - marginLeft - marginRight;\n              break;\n            }\n          }\n        }\n        if (parentContainer && containerWidth > 0) {\n          setParentWidth(containerWidth);\n        }\n      }\n    };\n    updateWidth();\n\n    // Update on resize\n    const resizeObserver = new ResizeObserver(updateWidth);\n    if (legendRef.current) {\n      resizeObserver.observe(legendRef.current);\n    }\n\n    // Also listen for window resize as fallback\n    window.addEventListener('resize', updateWidth);\n    return () => {\n      resizeObserver.disconnect();\n      window.removeEventListener('resize', updateWidth);\n    };\n  }, []);\n  if (!items || items.length === 0) {\n    return null;\n  }\n\n  // Use parent width if available, otherwise fall back to containerWidth prop or default\n  const finalWidth = parentWidth || containerWidth;\n  const containerStyle = finalWidth ? {\n    width: finalWidth,\n    maxWidth: finalWidth\n  } : {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: legendRef,\n    className: `legend-container legend-${orientation} legend-${size}`,\n    style: containerStyle,\n    children: [title && /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"legend-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-items\",\n      children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        style: item.style,\n        title: item.description || item.label,\n        children: [item.color && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"legend-color-indicator\",\n          style: {\n            backgroundColor: item.color\n          },\n          \"aria-label\": `Color indicator for ${item.label}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }, this), item.icon && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"legend-icon\",\n          \"aria-label\": `Icon for ${item.label}`,\n          children: item.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this), item.shape && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `legend-shape legend-shape-${item.shape}`,\n          style: item.shapeStyle,\n          \"aria-label\": `${item.shape} indicator for ${item.label}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"legend-label\",\n          children: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(Legend, \"rpWups8cgYpTmICj+CkEJ27JoIk=\");\n_c = Legend;\nexport default Legend;\nvar _c;\n$RefreshReg$(_c, \"Legend\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Legend","title","items","orientation","size","containerWidth","_s","legendRef","parentWidth","setParentWidth","updateWidth","current","specificContainers","parentContainer","selector","container","closest","computedStyle","window","getComputedStyle","paddingLeft","parseFloat","paddingRight","offsetWidth","generalContainers","marginLeft","marginRight","resizeObserver","ResizeObserver","observe","addEventListener","disconnect","removeEventListener","length","finalWidth","containerStyle","width","maxWidth","ref","className","style","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","index","description","label","color","backgroundColor","icon","shape","shapeStyle","_c","$RefreshReg$"],"sources":["C:/Users/Matteo/Working_Folder/a. MCC Thesis Local/MCC_digital_health_data_visualizations/src/components/Legend.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport './ChartStyles.css';\r\n\r\nconst Legend = ({ \r\n  title, \r\n  items, \r\n  orientation = 'horizontal', // horizontal | vertical\r\n  size = 'medium', // small | medium | large\r\n  containerWidth = null // Keep for backward compatibility, but will be overridden by auto-sizing\r\n}) => {\r\n  const legendRef = useRef(null);\r\n  const [parentWidth, setParentWidth] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const updateWidth = () => {\r\n      if (legendRef.current) {\r\n        // Find the most specific chart container (prefer chart-specific containers over general ones)\r\n        const specificContainers = [\r\n          '.chart-section', // Blood pressure chart sections\r\n          '.bp-svg-container', // Blood pressure SVG container\r\n          '.glucose-chart-wrapper', // Glucose chart wrapper\r\n          '.exercise-chart-content', // Exercise chart content\r\n          '.sleep-chart', // Sleep chart container\r\n          '.pain-chart-wrapper', // Pain chart wrapper\r\n          '.meal-chart-wrapper', // Meal chart wrapper\r\n          '.mood-calendar-wrapper', // Mood calendar wrapper\r\n          '.pain-line-chart-container', // Pain line chart container\r\n        ];\r\n        \r\n        let parentContainer = null;\r\n        let containerWidth = 0;\r\n        \r\n        // Try to find the most specific container first\r\n        for (const selector of specificContainers) {\r\n          const container = legendRef.current.closest(selector);\r\n          if (container) {\r\n            parentContainer = container;\r\n            // Get the content width excluding padding\r\n            const computedStyle = window.getComputedStyle(container);\r\n            const paddingLeft = parseFloat(computedStyle.paddingLeft) || 0;\r\n            const paddingRight = parseFloat(computedStyle.paddingRight) || 0;\r\n            containerWidth = container.offsetWidth - paddingLeft - paddingRight;\r\n            break;\r\n          }\r\n        }\r\n        \r\n        // Fallback to general containers if no specific one found\r\n        if (!parentContainer) {\r\n          const generalContainers = [\r\n            '.visualization-content',\r\n            '.bp-chart-content',\r\n            '.glucose-chart-container',\r\n            '.exercise-chart-container',\r\n            '.sleep-chart-content',\r\n            '.pain-chart-container',\r\n            '.meal-contents-chart-container',\r\n            '.mood-calendar-container'\r\n          ];\r\n          \r\n          for (const selector of generalContainers) {\r\n            const container = legendRef.current.closest(selector);\r\n            if (container) {\r\n              parentContainer = container;\r\n              // For general containers, use a more conservative width calculation\r\n              const computedStyle = window.getComputedStyle(container);\r\n              const paddingLeft = parseFloat(computedStyle.paddingLeft) || 0;\r\n              const paddingRight = parseFloat(computedStyle.paddingRight) || 0;\r\n              const marginLeft = parseFloat(computedStyle.marginLeft) || 0;\r\n              const marginRight = parseFloat(computedStyle.marginRight) || 0;\r\n              containerWidth = container.offsetWidth - paddingLeft - paddingRight - marginLeft - marginRight;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        \r\n        if (parentContainer && containerWidth > 0) {\r\n          setParentWidth(containerWidth);\r\n        }\r\n      }\r\n    };\r\n\r\n    updateWidth();\r\n    \r\n    // Update on resize\r\n    const resizeObserver = new ResizeObserver(updateWidth);\r\n    if (legendRef.current) {\r\n      resizeObserver.observe(legendRef.current);\r\n    }\r\n\r\n    // Also listen for window resize as fallback\r\n    window.addEventListener('resize', updateWidth);\r\n    \r\n    return () => {\r\n      resizeObserver.disconnect();\r\n      window.removeEventListener('resize', updateWidth);\r\n    };\r\n  }, []);\r\n\r\n  if (!items || items.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  // Use parent width if available, otherwise fall back to containerWidth prop or default\r\n  const finalWidth = parentWidth || containerWidth;\r\n  const containerStyle = finalWidth ? { width: finalWidth, maxWidth: finalWidth } : {};\r\n\r\n  return (\r\n    <div \r\n      ref={legendRef}\r\n      className={`legend-container legend-${orientation} legend-${size}`}\r\n      style={containerStyle}\r\n    >\r\n      {title && <h4 className=\"legend-title\">{title}</h4>}\r\n      <div className=\"legend-items\">\r\n        {items.map((item, index) => (\r\n          <div \r\n            key={index} \r\n            className=\"legend-item\" \r\n            style={item.style}\r\n            title={item.description || item.label}\r\n          >\r\n            {/* Color indicator */}\r\n            {item.color && (\r\n              <span \r\n                className=\"legend-color-indicator\" \r\n                style={{ backgroundColor: item.color }}\r\n                aria-label={`Color indicator for ${item.label}`}\r\n              />\r\n            )}\r\n            \r\n            {/* Icon/emoji indicator */}\r\n            {item.icon && (\r\n              <span \r\n                className=\"legend-icon\"\r\n                aria-label={`Icon for ${item.label}`}\r\n              >\r\n                {item.icon}\r\n              </span>\r\n            )}\r\n            \r\n            {/* Shape indicator for special cases */}\r\n            {item.shape && (\r\n              <span \r\n                className={`legend-shape legend-shape-${item.shape}`}\r\n                style={item.shapeStyle}\r\n                aria-label={`${item.shape} indicator for ${item.label}`}\r\n              />\r\n            )}\r\n            \r\n            {/* Label */}\r\n            <span className=\"legend-label\">{item.label}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Legend;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}